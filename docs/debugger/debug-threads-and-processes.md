---
title: "若要偵錯執行緒和處理序的工具 |Microsoft 文件"
ms.custom: 
ms.date: 04/21/2017
ms.reviewer: 
ms.suite: 
ms.technology: vs-ide-debug
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- CSharp
- VB
- FSharp
- C++
helpviewer_keywords:
- multiprocess debugging
- threading [Visual Studio], debugging
- processes, debugging
- debugging threads
- debugging [Visual Studio], threads
ms.assetid: 9f0c8505-b6b2-452b-adfd-076db14d8115
caps.latest.revision: "14"
author: mikejo5000
ms.author: mikejo
manager: ghogen
ms.workload: multiple
ms.openlocfilehash: e6c6c8c239d27952c35486be308e5947aff50952
ms.sourcegitcommit: 32f1a690fc445f9586d53698fc82c7debd784eeb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 12/22/2017
---
# <a name="tools-to-debug-threads-and-processes-in-visual-studio"></a>若要偵錯執行緒和處理序，在 Visual Studio 中的工具
*執行緒*和*處理程序*是電腦科學中相關的概念。 兩者都代表必須以特定順序執行的指令序列。 但是，不同執行緒或處理序中的指令能夠平行執行。  
  
 處理序存在於作業系統中，並對應至所謂的程式或應用程式。 從另一方面來說，執行緒存在於處理序中。 基於這個理由，執行緒有時候稱為*輕量級程序*。 每個處理序是由一或多個執行緒組成。  
  
 具有多個處理序能夠讓電腦同時執行一項以上的工作。 具有多個執行緒能夠讓處理序分割工作以平行方式執行。 使用多個處理器的電腦能夠在不同的處理器上執行處理序或執行緒。 如此可達到真正的平行處理。  
  
 但是並非都能達到完美的平行處理境界。 執行緒有時候必須進行同步處理。 一個執行緒可能需要等候其他執行緒的結果，或是一個執行緒可能需要其他執行緒正在使用之資源的獨佔存取權。 同步處理是多執行緒應用程式中發生錯誤的常見原因。 有時候執行緒會演變成一直在等候永遠無法使用的資源。 這會導致呼叫條件*死結*。  
  
 [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] 偵錯工具提供強大而容易使用的工具以便偵錯執行緒和處理序。  
  
## <a name="tools-and-features"></a>工具和功能
您需要使用中的工具[!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)]正在偵錯的程式碼的類型而定：

- 針對處理程序的主要工具是**附加至處理序**對話方塊中，**處理程序**視窗中，而**偵錯位置**工具列。

- 執行緒偵錯執行緒的主要工具是**執行緒**視窗中，來源視窗中的執行緒標記**平行堆疊**視窗中，**平行監看式**視窗中，並**偵錯位置**工具列。  
  
- 使用之程式碼<xref:System.Threading.Tasks.Task>中[工作平行程式庫 (TPL)](/dotnet/standard/parallel-programming/task-parallel-library-tpl)、[並行執行階段](/cpp/parallel/concrt/concurrency-runtime/)（原生程式碼），偵錯多執行緒應用程式的主要工具是**平行堆疊**視窗中，**平行監看式**視窗中，而**工作**視窗 (**工作**也支援視窗JavaScript promise 物件）。

- 主要工具是偵錯 gpu 執行緒， **GPU 執行緒**windows。  
  
 下表顯示在這些位置中可用的資訊與能夠執行的動作：  
  
|使用者介面|可用的資訊|能夠執行的動作|  
|--------------------|---------------------------|-----------------------------|  
|**附加至處理序**對話方塊|能夠附加至的可用處理序：<br /><br /> 同處理序名稱 (.exe)<br />-處理序 ID 編號<br />-Menubar 標題<br />型別 (Managed v4.0;Managed 的 v2.0、 v1.1、 v1.0;x86;x64;IA64)<br />使用者名稱 （帳戶名稱）<br />工作階段數目|選取要附加至的處理序<br /><br /> 選取遠端電腦<br /><br /> 變更連接至遠端電腦的傳輸類型|  
|**處理序**視窗|附加之處理序：<br /><br /> 同處理序名稱<br />-處理序 ID 編號<br />的處理序.exe 路徑<br />-Menubar 標題<br />狀態 （中斷。 執行)<br />-偵錯 （原生、 管理，以及等。）<br />-傳輸類型 （預設、 未經驗證的機器碼）<br />傳輸限定詞 （遠端電腦）|工具：<br /><br /> 附加<br />卸離<br />結束<br /><br /> 捷徑功能表：<br /><br /> 附加<br />卸離<br />卸離時停止偵錯<br />結束|  
|**執行緒**視窗|目前處理序中的執行緒：<br /><br /> 執行緒識別碼<br />-受管理的識別碼<br />-分類 （主執行緒、 介面執行緒、 遠端程序呼叫處理常式或背景工作執行緒）<br />執行緒名稱<br />-建立執行緒的位置<br />優先順序<br />相似性遮罩<br />-暫停計數<br />同處理序名稱<br />旗標指標<br />-暫停指標|工具：<br /><br /> 搜尋<br />搜尋呼叫堆疊<br />-加上旗標 Just My Code<br />旗標自訂模組選取範圍<br />-分組<br />資料行<br />展開/摺疊呼叫堆疊<br />展開/摺疊群組<br />-凍結/解除凍結執行緒<br /><br /> 捷徑功能表：<br /><br /> -在來源中顯示執行緒<br />-切換至執行緒<br />-凍結執行中的執行緒<br />解除凍結的執行緒<br />-加上旗標以便做進一步研究的執行緒<br />-執行緒取消旗標<br />-重新命名執行緒<br />-顯示和隱藏執行緒<br /><br /> 其他動作：<br /><br /> 檢視資料提示方塊中的執行緒的呼叫堆疊|  
|來源視窗|在左側裝訂邊上的執行緒指示器能指出是單一或多個執行緒 (預設為開啟的使用中的捷徑功能表關閉**執行緒**視窗)|捷徑功能表：<br /><br /> -切換至執行緒<br />-加上旗標以便做進一步研究的執行緒<br />-執行緒取消旗標|  
|**偵錯位置**工具列|-目前的處理序<br />暫停應用程式<br />-繼續應用程式<br />-暫停並關閉應用程式<br />-目前的執行緒<br />-切換目前執行緒的旗標狀態<br />-顯示已標幟的執行緒<br />-僅顯示目前處理序<br />-目前的堆疊框架|-切換至另一個處理序<br />-暫停、 繼續或關閉應用程式<br />-切換至目前的處理序中的另一個執行緒<br />-切換至目前執行緒中的另一個堆疊框架<br />-旗標或取消目前的執行緒取消旗標<br />-顯示已標幟的執行緒<br />-顯示目前處理序|  
|**平行堆疊**視窗|-在一個視窗中的多個執行緒的呼叫堆疊。<br />的每個執行緒作用中堆疊框架。<br />的呼叫端和被呼叫端的所有方法。|-篩選出指定的執行緒<br />-切換至 工作檢視<br />-旗標或取消旗標的執行緒<br />縮放|   
|**平行監看式**視窗|-旗標資料行，您可以在其中標示想要特別注意的執行緒。<br />-框架資料行，其中的箭號表示所選取畫面格。<br />的可以顯示電腦、 程序、 tile、 工作中和執行緒可設定資料行。|-旗標或取消旗標的執行緒<br />-顯示已標幟的執行緒<br />切換框架<br />排序資料行<br />-群組執行緒<br />-凍結或解除凍結執行緒<br />-匯出 [平行監看式] 視窗中的資料| 
|**工作**視窗|-檢視有關的資訊<xref:System.Threading.Tasks.Task>物件包括工作 ID、 工作狀態 （已排程、 執行、 等待中、 死結），以及哪一個執行緒指派給工作。<br />的呼叫堆疊中目前位置。<br />在建立時傳遞給工作的委派|-切換至目前的工作<br />-旗標或取消旗標的工作<br />-凍結或解除凍結工作|  
|**GPU 執行緒**視窗|-旗標資料行，您可以在其中標示想要特別注意的執行緒。<br />-目前執行緒的資料行，其中黃色箭號表示目前的執行緒。<br />-**執行緒計數**資料行，在相同位置顯示的執行緒數目。<br />-**列**資料行，顯示每個執行緒群組所在的程式碼行。<br />-**位址**資料行，顯示每個執行緒群組所在的指令位址。<br />-**位置**資料行，是位址在程式碼中的位置。<br />-**狀態**資料行，顯示執行緒為作用中或已封鎖。<br />-**磚**資料行，資料列中顯示執行緒的磚索引。|-變更為不同的執行緒<br />-顯示特定 tile 和執行緒<br />-顯示或隱藏資料行<br />依資料行排序<br />-群組執行緒<br />-凍結或解除凍結執行緒<br />-旗標或取消旗標的執行緒<br />-顯示已標幟的執行緒|  
  
## <a name="see-also"></a>請參閱  
 [附加至執行中處理程序](../debugger/attach-to-running-processes-with-the-visual-studio-debugger.md)   
 [偵錯多執行緒應用程式](../debugger/debug-multithreaded-applications-in-visual-studio.md)   
 [偵錯 GPU 程式碼](../debugger/debugging-gpu-code.md)