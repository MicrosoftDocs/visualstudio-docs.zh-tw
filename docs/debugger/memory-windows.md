---
title: 在偵錯工具中查看變數的記憶體 |Microsoft Docs
ms.custom: ''
ms.date: 10/04/2018
ms.topic: how-to
f1_keywords:
- vs.debug.memory
dev_langs:
- CSharp
- VB
- FSharp
- C++
- JScript
helpviewer_keywords:
- Memory window
- strings [Visual Studio], viewing
- debugger [Visual Studio], Memory window
- memory [Visual Studio], debugging
- debugging [Visual Studio], Memory window
- buffers, viewing
ms.assetid: 7f7a0439-10e4-4966-bb2d-51f04cda4fe2
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 51070e06f684c2e873ded76ec8797ed7587745ff
ms.sourcegitcommit: c076fe12e459f0dbe2cd508e1294af14cb53119f
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/25/2020
ms.locfileid: "85348316"
---
# <a name="use-the-memory-windows-in-the-visual-studio-debugger-c-c-visual-basic-f"></a>使用 Visual Studio 偵錯工具中的記憶體視窗（c #、c + +、Visual Basic、F #）

在偵測期間，[**記憶體**] 視窗會顯示您的應用程式所使用的記憶體空間。

[監看式] **、[** 自動變數]、[**區域變數**] 和 [**快速****監看**式] 對話方塊之類的偵錯工具視窗，會顯示儲存在記憶體中特定位置的 [**記憶體**] 視窗會顯示整體圖片。 [記憶體] 視圖非常方便用來檢查其他視窗中不會顯示的大量資料（例如緩衝區或大型字串）。

[**記憶體**] 視窗不限於顯示資料。 它會顯示記憶體空間中的所有內容，包括資料、程式碼，以及未指派記憶體中的隨機垃圾。

[**記憶體**] 視窗無法用於腳本或 SQL 的偵錯工具。 這些語言無法辨識記憶體的概念。

## <a name="open-a-memory-window"></a>開啟記憶體視窗

就像其他偵錯工具視窗一樣，**記憶體**視窗只會在偵測會話期間使用。

>[!IMPORTANT]
>若要啟用 [**記憶體**] 視窗，必須在 [**工具**選項] （或 [調試選項]）中選取 [**啟用位址層級的調試**>]，才能進行  >  **Options** **Debug**  >  **Options** **Debugging**  >  **一般**的

**若要開啟記憶體視窗**

1. 請確定已在 [**工具**選項] （或 [調試選項]）中選取 [**啟用位址層級的**偵測]，  >  **Options** **Debug**  >  ** **> 的**Debugging**  >  **一般**檢查。

1. 選取綠色箭號、按下**F5**，或選取 [ **Debug**] [  >  **開始調試**程式]，開始進行偵錯工具。

2. 在 [**調試**  >  **Windows**  >  **記憶體**] 底下，選取 [**記憶體 1**]、[**記憶體 2**]、[**記憶體 3**] 或**記憶體 4**。 （某些版本的 [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] 僅提供一個**記憶體**視窗）。

## <a name="move-around-in-the-memory-window"></a>在 [記憶體] 視窗中四處移動

電腦的位址空間很大，您可以在 [**記憶體**] 視窗中滾動，輕鬆地失去您的位置。

較高的記憶體位址會出現在視窗底部。 若要查看較高的位址，請向下滾動。 若要查看較低的位址，請向上滾動。

您可以使用拖放方式，或在 [**位址**] 欄位中輸入位址，立即移至 [**記憶體**] 視窗中的指定位址。 [**位址**] 欄位可接受英數位元位址，以及評估為位址的運算式，例如 `e.User.NonroamableId` 。

若要強制立即重新評估 [**位址**] 欄位中的運算式，請選取 [四捨五入-箭號**自動重新評估**] 圖示。

根據預設，[**記憶體**] 視窗會將**位址**運算式視為即時運算式，這會在應用程式執行時重新評估。 即時運算式可能很有用，例如，用來查看指標變數所觸及的記憶體。

**若要使用拖放來移動到記憶體位置：**

1. 在任何偵錯工具視窗中，選取記憶體位址，或包含記憶體位址的指標變數。

2. 將位址或指標拖放到 [**記憶體**] 視窗中。 該位址接著會出現在 [**位址**] 欄位中，而 [**記憶體**] 視窗會調整以在頂端顯示該位址。

**若要移至記憶體位置，請在 [位址] 欄位中輸入：**

- 在 [**位址**] 欄位中輸入或貼上位址或運算式，然後按**enter**鍵，或從 [**位址**] 欄位的下拉式清單中選擇它。 [**記憶體**] 視窗會調整，以在頂端顯示該位址。

## <a name="customize-the-memory-window"></a>自訂 [記憶體] 視窗

根據預設，記憶體內容會以十六進位格式顯示為1個位元組的整數，而視窗寬度則會決定所顯示的資料行數目。 您可以自訂 [記憶體]**** 視窗顯示記憶體內容的方式。

**若要變更記憶體內容的格式：**

- 在 [**記憶體**] 視窗中按一下滑鼠右鍵，然後從內容功能表中選擇您想要的格式。

**若要變更 [記憶體] 視窗中的資料行數目：**

- 選取 [資料**行**] 欄位旁的下拉式箭號，然後選取要顯示的資料行數目，或選取 [**自動**]，根據視窗寬度自動調整。

如果您不想讓 [**記憶體**] 視窗的內容在應用程式執行時變更，您可以關閉即時運算式評估。

**若要切換即時評估：**

- 在 [**記憶體**] 視窗中按一下滑鼠右鍵，然後選取內容功能表中的 [**自動重新評估**]。

  >[!NOTE]
  >即時運算式評估是切換，預設為開啟，因此選取 [重新**評估] 會自動**將其關閉。 再次選取 [重新**評估] 會**再次開啟。

您可以在 [記憶體]**** 視窗的頂端隱藏或顯示工具列。 隱藏工具列時，您將無法存取 [**位址**] 欄位或其他工具。

**若要切換工具列顯示：**

- 在 [**記憶體**] 視窗中按一下滑鼠右鍵，然後選取內容功能表中的 [**顯示工具列**]。 工具列會不會出現，需視先前的狀態而定。

## <a name="follow-a-pointer-through-memory"></a>追蹤記憶體的指標

在機器碼應用程式中，您可以使用暫存器名稱作為即時運算式。 例如，您可使用堆疊指標隨著堆疊而變動位置。

**若要遵循記憶體的指標：**

1. 在 [**記憶體**] 視窗的 [**位址**] 欄位中，輸入目前範圍中的指標運算式。 有時您可能會需要取值 (Dereference)，視語言而定。

2. 按 **Enter**。

   當您使用 debug 命令（例如**Step**）時，[**位址**] 欄位和 [**記憶體**] 視窗頂端顯示的記憶體位址會在指標變更時自動變更。

## <a name="see-also"></a>另請參閱
- [在偵錯工具中查看資料](../debugger/viewing-data-in-the-debugger.md)