---
title: 在 偵錯工具中檢視變數的記憶體 |Microsoft Docs
ms.custom: ''
ms.date: 10/04/2018
ms.topic: conceptual
f1_keywords:
- vs.debug.memory
dev_langs:
- CSharp
- VB
- FSharp
- C++
- JScript
helpviewer_keywords:
- Memory window
- strings [Visual Studio], viewing
- debugger [Visual Studio], Memory window
- memory [Visual Studio], debugging
- debugging [Visual Studio], Memory window
- buffers, viewing
ms.assetid: 7f7a0439-10e4-4966-bb2d-51f04cda4fe2
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 794400a14cac5b85f813e7a384c650c581a719e2
ms.sourcegitcommit: 1fc6ee928733e61a1f42782f832ead9f7946d00c
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/22/2019
ms.locfileid: "60061615"
---
# <a name="use-the-memory-windows-in-the-visual-studio-debugger-c-c-visual-basic-f"></a>使用 Visual Studio 偵錯工具中的 [記憶體] 視窗 (C#， C++，Visual Basic 中， F#)

偵錯時，**記憶體**視窗會顯示您的應用程式使用的記憶體空間。

偵錯工具視窗，例如**監看式**，**自動變數**，**區域變數**，而**快速監看式** 對話方塊會顯示儲存在特定的變數在記憶體中的位置。 **記憶體**視窗會顯示您的整體狀況。 記憶體檢視會方便檢查大批也在其他視窗未顯示的資料 （緩衝區或很大的字串範例中）。

**記憶體**視窗並不限於顯示資料。 它會顯示所有項目中的記憶體空間，包括資料、 程式碼，以及隨機的位元的記憶體回收中未指派的記憶體。

**記憶體**視窗無法使用的指令碼或 SQL 偵錯。 這些語言無法辨識記憶體的概念。

## <a name="open-a-memory-window"></a>開啟記憶體視窗

像其他偵錯工具視窗中，**記憶體**windows 有只在偵錯工作階段。

>[!IMPORTANT]
>若要啟用**記憶體**windows**啟用位址層級偵錯**必須在中選取**工具** > **選項**（或**偵錯** > **選項**) >**偵錯** > **一般**。

**開啟記憶體視窗**

1. 請確定**啟用位址層級偵錯**中選取**工具** > **選項**(或**偵錯** > **選項**) >**偵錯** > **一般**。

1. 開始進行偵錯選取的綠色箭頭，按下**F5**，或選取**偵錯** > **開始偵錯**。

2. 底下**偵錯** > **Windows** > **記憶體**，選取**記憶體 1**，**記憶體 2**，**記憶體 3**，或**記憶體 4**。 (某些版本的[!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)]提供一個**記憶體**視窗。)

## <a name="move-around-in-the-memory-window"></a>在 [記憶體] 視窗中四處移動

電腦的位址空間過大，而且您可以輕鬆地捲動中目前所在的位置**記憶體**視窗。

較高的記憶體位址會出現在視窗底部。 若要檢視較高的位址，向下捲動。 若要檢視較低的位址，請往上捲動。

您可以立即移至指定的位址，在**記憶體**視窗使用拖放，或在輸入中的地址**地址**欄位。 **地址**欄位可接受的英數字元的位址和位址，例如評估的運算式`e.User.NonroamableId`。

若要強制立即重新評估的運算式**地址**欄位中，選取的捨入箭頭**自動重新評估**圖示。

根據預設，**記憶體**視窗會把**地址**當成機動性的運算式，都會重新評估應用程式執行的運算式。 即時運算式可以是很有用，例如，若要檢視的指標變數所碰觸的記憶體。

**若要使用拖曳和卸除移至記憶體位置：**

1. 在任何偵錯工具 視窗中，選取記憶體位址或含記憶體位址的指標變數。

2. 將拖放的位址或指標**記憶體**視窗。 該位址接著會出現在**地址** 欄位中，而**記憶體**視窗會調整，以在上方顯示該位址。

**在 [位址] 欄位中輸入，以移至記憶體位置：**

- 輸入或貼上運算式中的地址**地址**欄位並按**Enter**，或從下拉式清單中加以選擇**位址**欄位。 **記憶體**視窗會調整，以在上方顯示該位址。

## <a name="customize-the-memory-window"></a>自訂 [記憶體] 視窗

根據預設，記憶體內容會顯示為 1 個位元組的整數以十六進位格式，而且視窗寬度決定顯示資料行的數目。 您可以自訂 [記憶體] 視窗顯示記憶體內容的方式。

**變更記憶體內容格式：**

- 以滑鼠右鍵按一下**記憶體** 視窗中，並從操作功能表中選擇您想要的格式。

**變更記憶體視窗中的欄位數目：**

- 選取下拉式箭號旁**資料行**欄位，然後選取要顯示此項目，或選取資料行數目**自動**根據視窗寬度自動調整。

如果您不想要的內容**記憶體**視窗變更為您的應用程式會執行，您可以關閉實況運算式評估。

**切換實況評估：**

- 以滑鼠右鍵按一下**記憶體** 視窗中，然後選取**自動重新評估**操作功能表中。

  >[!NOTE]
  >Live 運算式評估為切換，且根據預設，因此選取**自動重新評估**會關閉。 選取**自動重新評估**再次重新開啟。

您可以在 [記憶體] 視窗的頂端隱藏或顯示工具列。 您將沒有存取權**地址**欄位或隱藏工具列時的其他工具。

**若要切換的工具列顯示：**

- 以滑鼠右鍵按一下**記憶體** 視窗中，然後選取**顯示工具列**操作功能表中。 工具列會不會出現，需視先前的狀態而定。

## <a name="follow-a-pointer-through-memory"></a>請依照下列記憶體變動指標

在原生程式碼應用程式，您可以使用暫存器名稱當成機動性的運算式。 例如，您可使用堆疊指標隨著堆疊而變動位置。

**隨著記憶體變動指標：**

1. 在 **記憶體**視窗**地址**欄位中，輸入指標運算式，在目前的範圍內。 有時您可能會需要取值 (Dereference)，視語言而定。

2. 按 **Enter** 鍵。

   當您使用偵錯命令這類**步驟**，在顯示的記憶體位址**地址**欄位，並在頂端**記憶體**視窗會自動變更為指標變更。

## <a name="see-also"></a>另請參閱
- [在偵錯工具中檢視資料](../debugger/viewing-data-in-the-debugger.md)