---
title: 針對偵錯工具中的中斷點進行疑難排解 |Microsoft Docs
ms.custom: seodec18
ms.date: 01/23/2018
ms.topic: troubleshooting
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 7c11741cb9bb9a0b0c64b9452b54daa6ac226b92
ms.sourcegitcommit: 08c144d290da373df841f04fc799e3133540a541
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/17/2019
ms.locfileid: "72535936"
---
# <a name="troubleshoot-breakpoints-in-the-visual-studio-debugger"></a>疑難排解 Visual Studio 偵錯工具中的中斷點

## <a name="breakpoint-warnings"></a>中斷點警告

在進行調試時，中斷點有兩種可能的視覺狀態：實心紅色圓圈和空心（填滿的白色）圓形。 如果偵錯工具能夠成功地在目標進程中設定中斷點，它將會維持實心的紅色圓圈。 如果中斷點是空心圓形，則表示中斷點已停用，或在嘗試設定中斷點時出現警告。 若要判斷差異，請將滑鼠停留在中斷點上，並查看是否有警告。

下列兩節描述明顯的警告，以及如何修正它們。

### <a name="no-symbols-have-been-loaded-for-this-document"></a>「未載入此文件的符號」

移至 [**模組**] 視窗（**Debug**  > **Windows**  > **模組**），並檢查您的模組是否已載入。
* 如果您的模組已載入，請檢查 [**符號狀態**] 欄，以查看是否已載入符號。
  * 如果未載入符號，請檢查符號狀態以診斷問題。 從 [**模組**] 視窗中模組的內容功能表，按一下 [**符號] [載入資訊 ...** ]，以查看偵錯工具在何處嘗試和載入符號。 如需載入符號的詳細資訊，請參閱[指定符號（.pdb）和原始](../debugger/specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger.md)程式檔。
  * 如果已載入符號，PDB 就不會包含您原始程式檔的相關資訊。 以下是幾個可能的原因：
    * 如果您的原始程式檔是最近新增的，請確認已載入最新版本的模組。
    * 您可以使用 **/PDBSTRIPPED**連結器選項來建立已移除的 pdb。 已移除的 Pdb 不包含來源檔案資訊。 確認您使用的是完整 PDB，而不是已移除的 PDB。
    * PDB 檔案已部分損毀。 刪除檔案並執行模組的全新組建，以嘗試解決問題。

* 如果您的模組未載入，請檢查下列各項來找出原因：
  * 確認您正在進行正確的處理常式。
  * 檢查您是否正在對正確的程式碼進行偵錯工具。 您可以在 [**進程**] 視窗（**debug**  > **Windows**  > **進程**）中，找到偵錯工具設定為要進行 debug 的程式碼類型。 例如，如果您嘗試調試C#程式碼，請確認已針對適當的 .net 類型和版本（例如，managed （v4 \*）與 managed （v2 \*/v3 \*）與 Managed （CoreCLR））設定偵錯工具。

### <a name="-the-current-source-code-is-different-from-the-version-built-into"></a>"… 目前的原始程式碼與內建的版本不同 ...」

如果原始程式檔已變更，而來源不再符合您正在進行偵錯工具的程式碼，則偵錯工具預設不會在程式碼中設定中斷點。 一般來說，當原始程式檔已變更，但未重建原始程式碼時，就會發生這個問題。 若要修正此問題，請重建專案。 如果組建系統認為專案已經是最新狀態，即使它不存在，您也可以藉由儲存原始程式檔，或在建立前清除專案的組建輸出，強制專案系統重建。

在罕見的情況下，您可能會想要在沒有相符原始程式碼的情況下進行偵錯工具。 沒有相符原始程式碼的偵錯工具可能會導致令人混淆的偵錯工具經驗，因此請確定這是您要繼續進行的動作。

若要停用這些安全檢查，請執行下列其中一項動作：
* 若要修改單一中斷點，請將滑鼠停留在編輯器中的中斷點圖示上，然後按一下 [設定] （齒輪）圖示。 [查看] 視窗會加入至編輯器。 在 [查看] 視窗的頂端，有一個指出中斷點位置的超連結。 按一下超連結以允許修改中斷點位置，並勾選 [**允許原始程式碼與原始程式碼不同**]。
* 若要針對所有中斷點修改此設定，請移至 [ **Debug**  > **選項和設定**]。 在 [偵錯] / [一般] 頁面上，清除 [原始程式檔必須完全符合原始版本] 選項。 當您完成調試時，請務必重新啟用此選項。

## <a name="the-breakpoint-was-successfully-set-no-warning-but-didnt-hit"></a>已成功設定中斷點（無警告），但未達到

本節提供的資訊可讓您疑難排解偵錯工具未顯示任何警告時的問題–此中斷點為實心的紅色圓圈，同時會主動進行調試，但不會叫用中斷點。

以下是要檢查的一些事項：
1. 如果您的程式碼在多個進程或一部以上的電腦上執行，請確定您正在對正確的進程或電腦進行偵錯工具。
2. 確認您的程式碼正在執行。 若要測試您的程式碼是否正在執行，請將 `System.Diagnostics.Debugger.Break`C#（/VB）或 `__debugbreak`C++（）的呼叫新增至您嘗試設定中斷點的程式程式碼，然後重建您的專案。
3. 如果您要對優化的程式碼進行偵錯工具，請確定您的中斷點設定所在的函式未內嵌至另一個函式。 先前檢查中所述的 `Debugger.Break` 測試也可以用來測試此問題。

## <a name="i-deleted-a-breakpoint-but-i-continue-to-hit-it-when-i-start-debugging-again"></a>我刪除了中斷點，但再次啟動偵錯時繼續叫用此中斷點

如果您在偵錯工具中刪除了中斷點，則下次開始進行偵錯工具時，您可能會再次到達中斷點。 若要停止叫用此中斷點，請確定所有中斷點的執行個體都已從 [中斷點] 視窗中移除。
