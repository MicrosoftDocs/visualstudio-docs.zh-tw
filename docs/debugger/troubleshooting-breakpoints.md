---
title: 針對偵錯工具中的中斷點進行疑難排解 |Microsoft Docs
ms.custom: seodec18
ms.date: 01/23/2018
ms.topic: troubleshooting
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 7c11741cb9bb9a0b0c64b9452b54daa6ac226b92
ms.sourcegitcommit: 6cfffa72af599a9d667249caaaa411bb28ea69fd
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/02/2020
ms.locfileid: "72535936"
---
# <a name="troubleshoot-breakpoints-in-the-visual-studio-debugger"></a>針對 Visual Studio 偵錯工具中的中斷點進行疑難排解

## <a name="breakpoint-warnings"></a>中斷點警告

當偵錯工具時，中斷點有兩種可能的視覺狀態：純紅色圓圈和空心 (白色填滿的) 圓形。 如果偵錯工具能夠成功設定目標進程中的中斷點，則會維持純紅色圓圈。 如果中斷點是空心圓形，則可能是中斷點已停用，或嘗試設定中斷點時發生警告。 若要判斷差異，請將滑鼠停留在中斷點上，並查看是否有警告。

下列兩節將說明顯著的警告，以及如何修正這些警告。

### <a name="no-symbols-have-been-loaded-for-this-document"></a>「未載入此文件的符號」

移至 [**模組**] 視窗 (**Debug**  >  **Windows**  >  **模組**) 並檢查是否已載入您的模組。
* 如果您的模組已載入，請檢查 [ **符號狀態** ] 欄，以查看是否已載入符號。
  * 如果未載入符號，請檢查符號狀態以診斷問題。 從 [ **模組** ] 視窗中模組的內容功能表，按一下 [ **符號載入資訊** ]，以查看偵錯工具在哪裡嘗試載入符號。 如需載入符號的詳細資訊，請參閱 [指定符號 ( .pdb) 和原始](../debugger/specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger.md)程式檔。
  * 如果已載入符號，PDB 就不會包含來源檔案的相關資訊。 以下是一些可能的原因：
    * 如果您的原始程式檔是最近新增的，請確認正在載入最新版本的模組。
    * 您可以使用 **/PDBSTRIPPED** 連結器選項來建立已移除的 pdb。 移除的 Pdb 不包含來源檔案資訊。 確認您使用的是完整 PDB，而不是已移除的 PDB。
    * PDB 檔案已部分損毀。 刪除檔案並執行模組的全新組建，以嘗試解決此問題。

* 如果您的模組尚未載入，請檢查下列各項以找出原因：
  * 確認您正在進行正確的處理常式。
  * 查看您正在對正確的程式碼進行偵錯工具。 您可以在 [**進程**] 視窗中，找出偵錯工具所設定的程式碼類型， (**debug**  >  **Windows**  >  **進程**) 。 例如，如果您嘗試將 c # 程式碼進行偵錯工具，請確認您的偵錯工具已設定為適用于 .NET 的適當類型和版本 (例如，Managed (v4 \*) 與 managed (v2 \* /v3 \*) 和 managed (CoreCLR) # A7。

### <a name="-the-current-source-code-is-different-from-the-version-built-into"></a>"… 目前的原始程式碼與內建的版本不同 ...」

如果原始程式檔已變更，而來源不再符合您正在進行的程式碼，則偵錯工具預設不會在程式碼中設定中斷點。 一般來說，當原始程式檔已變更但未重建原始程式碼時，就會發生此問題。 若要修正此問題，請重建專案。 如果組建系統認為專案已是最新的（即使沒有的話），您可以再次儲存原始程式檔，或在建立之前清除專案的組建輸出，藉以強制專案系統重建。

在罕見的情況下，您可能會想要在沒有相符原始程式碼的情況下進行 debug。 沒有相符原始程式碼的偵錯工具可能會導致混淆的偵錯工具，因此請確定這是您想要繼續進行的方式。

若要停用這些安全檢查，請執行下列其中一項：
* 若要修改單一中斷點，請將滑鼠停留在編輯器中的中斷點圖示上方，然後按一下 [設定] (齒輪) 圖示。 [查看] 視窗就會加入編輯器中。 在 [查看] 視窗的頂端，有一個超連結指出中斷點的位置。 按一下超連結以允許修改中斷點位置，然後選取 [ **允許原始程式碼與原始程式碼不同**]。
* 若要修改所有中斷點的這個設定，請移至 [ **Debug**  >  **選項和設定**]。 在 [偵錯] / [一般] **** 頁面上，清除 [原始程式檔必須完全符合原始版本] **** 選項。 當您完成調試時，請務必重新啟用此選項。

## <a name="the-breakpoint-was-successfully-set-no-warning-but-didnt-hit"></a>已成功將中斷點設定 (沒有警告) ，但未達到

本節提供在偵錯工具未顯示任何警告時疑難排解問題的資訊–中斷點是在主動偵測時的純紅色圓形，但不會叫用中斷點。

以下是一些要檢查的事項：
1. 如果您的程式碼在多個進程或多部電腦上執行，請確定您正在進行正確的進程或電腦的偵錯工具。
2. 確認您的程式碼正在執行。 若要測試您的程式碼是否正在執行，請在 `System.Diagnostics.Debugger.Break` 您嘗試設定中斷點的程式程式碼中加入 (c #/VB) 或 `__debugbreak` (c + +) 的呼叫，然後重建您的專案。
3. 如果您要將優化程式碼進行偵錯工具，請確定您中斷點設定所在的函式未內嵌至另一個函式。 `Debugger.Break`先前檢查中所述的測試也可以用來測試此問題。

## <a name="i-deleted-a-breakpoint-but-i-continue-to-hit-it-when-i-start-debugging-again"></a>我刪除了中斷點，但再次啟動偵錯時繼續叫用此中斷點

如果您在進行調試時刪除了中斷點，您可能會在下一次開始進行調試時再次到達中斷點。 若要停止叫用此中斷點，請確定所有中斷點的執行個體都已從 [中斷點] **** 視窗中移除。
