---
title: Visual Studio 的複合模式 |Microsoft Docs
description: 瞭解 Visual Studio 中一致性的重要複合模式。 複合模式結合了互動和設計項目。
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: conceptual
ms.assetid: e48ecfb2-f4b5-4d3a-b4a2-7a4d62fa4ec0
author: acangialosi
ms.author: anthc
manager: jmartens
ms.workload:
- vssdk
ms.openlocfilehash: c8ac314a2ec49b805fc87badf6b63a719b8511e8
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 02/08/2021
ms.locfileid: "99952092"
---
# <a name="composite-patterns-for-visual-studio"></a>適用於 Visual Studio 的複合模式
複合模式會將互動和設計項目合併在不同的設定中。 Visual Studio 中與一致性相關的一些最重要複合模式包括：

- [資料視覺效果](../../extensibility/ux-guidelines/composite-patterns-for-visual-studio.md#BKMK_DataVisualization)

- [物件內部 UI 和查看](../../extensibility/ux-guidelines/composite-patterns-for-visual-studio.md#BKMK_OnObjectUI)

- [選取模型](../../extensibility/ux-guidelines/composite-patterns-for-visual-studio.md#BKMK_SelectionModels)

- [持續性和儲存設定](../../extensibility/ux-guidelines/composite-patterns-for-visual-studio.md#BKMK_PersistenceAndSavingSettings)

- [觸控輸入](../../extensibility/ux-guidelines/composite-patterns-for-visual-studio.md#BKMK_TouchInput)

## <a name="data-visualization"></a><a name="BKMK_DataVisualization"></a> 資料視覺效果

### <a name="overview"></a>概觀
 圖表是一種視覺效果，可匯總資料並將其視覺化，以加強決策制定。 他們可以協助使用者面對大量資料，但幾乎沒有什麼意義會看到什麼是值得注意的內容，以及可能需要採取行動的動作。

 如果下列任何一個條件成立，使用者就會受益于圖表：

- 圖表是否可協助使用者識別其可採取動作的工作？

- 圖表是否可讓使用者預測可能變更的後果？

- 圖表是否可協助使用者探索趨勢並找出模式？

- 圖表是否可讓使用者做出更好的決策？

- 圖表是否有助於回答使用者在指定內容中可能發生的特定問題？

#### <a name="general-rules-for-charts"></a>圖表的一般規則

- 清楚標示資料。 沒有說明的圖例只是美觀的圖片。

- 從零開始座標軸，以避免扭曲比例。 行長度和橫條大小是瞭解資料點之間關聯性的重要視覺提示。

- 建立圖表，而不是資訊圖。 資訊圖是資料的藝術標記法，其主要目標是視覺故事行銷。 圖表可以 (，且應該) 以視覺化方式呈現，但讓資料本身的說話。

- 避免 skeumorphism、圖形化橫條圖、對比井號和其他資訊圖觸控。

- 請勿將3D 效果用作裝飾性元素。 只有當使用者真正無法理解資訊時，才使用這些功能。

- 請避免使用多行和填滿，因為兩種以上的色彩可以使這種類型的圖表難以正確地讀取和解讀。

- 請勿使用圖表 (或任何圖例) 作為理解概念或與資料互動的唯一方法。 這會對視力受損的使用者帶來困難。

- 請勿使用圖表作為頁面上的免費或裝飾性元素。 換句話說，如果圖表未加入任何值或協助使用者解決問題，請不要使用它。

### <a name="chart-types"></a>圖表類型
 Visual Studio 中所使用的圖表類型包括橫條圖、折線圖、修改過的圓形圖，也稱為環形圖或「環圈圖」、散佈圖 (也稱為「叢集圖表」 ) 和甘特圖。 每種類型的圖表都適用于傳達不同類型的資訊。

### <a name="other-charting-considerations"></a>其他圖表的考慮

#### <a name="color"></a>Color
 針對 Visual Studio 所定義的圖表色彩有特定的調色板。 您可以針對主要的色盲類型來存取此選擇區，而且色彩可以有區別，即使是用來做為色彩的極窄片段。 您可以在 UI 中的任何圖表或圖形類型的任何組合中使用這些色彩。 如果您不需要多個不同的色彩，則不需要使用這七種色彩。 這些色彩並非設計用於任何前景元素，因此請勿將文字或字元放在這些色彩的上方。 這些色調應該以硬式編碼的方式，在 [ **工具] > 選項** 下公開給使用者自訂， (請參閱 [公開使用者) 的色彩](../../extensibility/ux-guidelines/colors-and-styling-for-visual-studio.md#BKMK_ExposingColorsForEndUsers) 。

|樣本|Hex|RGB|
|------------|---------|---------|
|![樣本 71B252](../../extensibility/ux-guidelines/media/0711_71b252.png "0711_71B252")|#71B252|113178，82|
|![樣本 BF3F00](../../extensibility/ux-guidelines/media/0711_bf3f00.png "0711_BF3F00")|#BF3F00|191、63、0|
|![樣本 FCB714](../../extensibility/ux-guidelines/media/0711_fcb714.png "0711_FCB714")|#FCB714|252183、20|
|![樣本 903F8B](../../extensibility/ux-guidelines/media/0711_903f8b.png "0711_903F8B")|#903F8B|144、63139|
|![樣本 117AD1](../../extensibility/ux-guidelines/media/0711_117ad1.png "0711_117AD1")|#117AD1|17122209|
|![樣本 79D7F2](../../extensibility/ux-guidelines/media/0711_79d7f2.png "0711_79D7F2")|#79D7F2|121215242|
|![樣本 B5B5B5](../../extensibility/ux-guidelines/media/0711_b5b5b5.png "0711_B5B5B5")|#B5B5B5|181181181|

## <a name="on-object-ui-and-peeking"></a><a name="BKMK_OnObjectUI"></a> 物件內部 UI 和查看
 本節會提供要查看的內容（也稱為程式碼查看視圖），也就是 Visual Studio 唯一的內建物件 UI 類型。

### <a name="overview"></a>概觀

- 物件上的 UI 應提供使用者更多資訊或互動，而不需要注意力其主要工作。

- Visual Studio 中的內建物件 UI 的主要模式就是所謂的「資訊在關注點」。

- Visual Studio 中的物件上 UI 是內嵌或浮動的，也可能是永久性或暫時性。

  - 程式碼查看視圖是 Visual Studio 中物件 UI 的類型，是內嵌且持久的。

  - CodeLens 是 Visual Studio 中的一種內建物件 UI，是浮動和暫時性

  瞭解某段程式碼的運作方式，或尋找該程式碼的詳細資料，通常需要開發人員切換內容並移至其他內容或另一個視窗。 這些內容轉移可能會造成干擾，因為如果使用者離開主視窗，可能會失去其原始工作的焦點。 此外，將原始內容取回可能很困難，尤其是當切換 windows 造成其原始程式碼被其他 UI 遮蔽時。

  以物件為物件的 UI 會遵循稱為「資訊于關注點」的模式。 這些訊息、快顯視窗和對話方塊可提供使用者其他相關資訊，以新增澄清或互動，而不會失去主要工作的焦點。 當使用者將指標停留在通知區域的圖示上、拼錯的單字下的紅色波浪線，以及 Visual Studio 2013 中引進的 [查看] 視圖時，即會顯示出現在物件 UI 上的快顯視窗。

### <a name="decision-points"></a>決策點
 在 Visual Studio 中，有數種方式可以在注意的時候使用這種資訊模式。 選擇正確的機制，以一致且可預測的方式執行它，對整體體驗而言是不可或缺的。 否則，使用者可能會看到從內容本身會使焦點的令人困惑或不一致的體驗。

#### <a name="relationships-between-master-and-detail-content"></a>主要和詳細內容之間的關聯性
 注意的資訊是用來顯示使用者專注于 (「主要」內容) 的內容之間的關聯性，以及 (「詳細資料」內容) 的其他相關內容。 在此模式中，詳細內容會清楚地與使用者正在使用的內容相關，而且可能會顯示在主要內容附近。 無法在沒有主要內容的情況下匯總的補充資訊或資訊，應該遵循另一種模式，例如工具視窗。

- **一律** 以接近主要內容的接近方式顯示詳細內容。

- 請 **務必** 確保詳細內容仍然能讓使用者繼續專注于主要內容。 通常，達成此目標的最佳方式是盡可能將詳細內容轉譯為最接近的主要內容。 這可以藉由在主要內容旁的快顯視窗中轉譯詳細內容，或在主要內容之下轉譯詳細內容來完成。

- **永遠不會** 在使用者離開主要內容時使用資訊。 如果使用者需要個別查看詳細資料內容，則會公開明確的動作，讓使用者能夠執行此動作。

#### <a name="design-details"></a>設計詳細資料
 一旦您判斷出物件上的 UI 是正確的選擇，有四個主要的設計考慮：

1. **持續性：** 內容是否預期為永久性或暫時性？
   使用者是否想要讓資訊可供參考或互動？ 或者，使用者是否想要快速概覽資訊，然後繼續進行主要工作？

2. **內容類型：** 內容是否為資訊、可操作或導覽？
   使用者是否需要有關主要內容的其他詳細資料？ 使用者需要完成影響主要內容的工作嗎？ 還是需要將使用者導向至另一個資源？

3. **指標類型：** 環境指標有意義嗎？
   這項資訊是以實用的方式摘要，並且在不太大的主要內容的情況下顯示嗎？

4. **手勢：** 什麼手勢會用來叫用和關閉 UI？
   使用者會如何顯示詳細資料內容，並將其傳送出去？ 新增手勢（例如釘選）在暫時性和永久性狀態之間切換是否有價值？

   這四個決策點的每一個都會影響內建物件 UI 的主要元件。

### <a name="on-object-ui-components"></a>物件內部 UI 元件

1. 容器 (內容展示者) 類型

    - 浮動

    - 內嵌

2. 內容類型

    - 參考：可能是靜態或動態的資料

    - 可操作：變更主要內容的命令

    - 導覽：將使用者帶到另一個視窗或應用程式（例如 MSDN）的連結

3. 軌跡

    - 引動過程

    - 解雇

    - 釘選

    - 其他互動

4. 持續性和認可模型

    - 暫時性

    - 持久

    - 自動

    - 隨選

5.  (選用) 的環境指示器

    - 波浪線波浪線

    - 智慧標籤圖示

    - 其他環境指標

#### <a name="container-content-presenter-type"></a>容器 (內容展示者) 類型
 有兩個主要選項可供您在關注時呈現內容：

1. **內嵌：** 內嵌展示者（例如 Visual Studio 2013 程式碼編輯器中引進的查看視圖）會藉由移動現有的內容來為新內容提供空間。

    - 如果您預期使用者會想要花大量時間來參考您所呈現的內容或與其互動，建議 **使用內嵌的** 簡報者。

    - 如果您預期使用者會想要查看您所顯示的資訊，請 **避免** 使用內嵌的簡報者，然後以最少的中斷繼續進行主要工作。

2. **浮動：** 浮動展示者會盡可能靠近選取的內容，但不會改變現有內容的版面配置。 您可以運用各種策略，例如在所選符號的最接近可用空白字元上顯示浮動內容面板。

    - 如果您預期使用者會想要查看您所呈現的資訊，則 **偏好** 使用浮動展示者，然後在最少中斷的情況下繼續進行主要工作。

    - 如果您預期使用者會想要花大量時間來參考您所呈現的內容或與其互動，請 **避免** 浮動的簡報者。

#### <a name="content-type"></a>內容類型
 有三種主要類型的內容可顯示在任何物件的 UI 容器內。 您可以顯示這些資訊類型的任何組合。 這三種類型為：

1. **資訊：** 大部分的物件中 UI 容器會顯示某種資訊內容。 內容可以代表環境目前狀態的相關資訊，也可能代表環境可能未來狀態的相關資訊。 例如，它可以用來在現有的程式碼上顯示特定命令的效果，例如重構。

    - 請 **一律** 使用您所顯示之資訊的標準標記法。 例如，程式碼看起來應該像程式碼、完成語法醒目提示，並應遵守使用者所設定的任何字型和其他環境設定。

    - **一律** 考慮支援資訊內容的任何動作，如果相同的資訊呈現為主要內容，可能會發生此情況。 例如，如果在物件 UI 容器內呈現現有的程式碼，則強烈考慮支援流覽和修改該程式碼的能力。

    - 如果呈現代表可能未來狀態的資訊內容，請 **務必** 考慮使用不同的背景色彩。

2. 可操作：某些物件的 UI 容器將提供對主要內容執行某些動作的能力，例如執行重構作業。

    - **一律** 將可操作的命令與資訊內容分開定位。

    - 適當時，請 **一律** 啟用和停用動作。

    - **一律** 參考代表對話方塊內命令的標準指導方針。

    - **一律** 將在物件 UI 容器中公開的動作數目維持在絕對最小值。 與物件內部 UI 互動應該是輕量、快速的體驗。 使用者不需要耗費能源來管理物件上的 UI 容器本身。

    - 請 **一律** 考慮開啟或關閉物件上 UI 容器的方式和時機。 最佳做法是，在主要和詳細內容之間完成對話方塊的任何動作，也應該在叫用該動作時，關閉物件上的 UI 容器。

3. **導覽：** 某些物件上的 UI 容器包含將使用者帶到另一個視窗或應用程式的連結，例如在使用者的網頁瀏覽器中開啟 MSDN 文章。

    - **一律** 在任何導覽連結前面加上「開啟」，讓使用者不會因為流覽至其他內容而感到驚訝。

    - **一律** 將導覽連結與可操作的連結分開。

#### <a name="ambient-indicators-optional"></a> (選用) 的環境指示器
 環境指標可能很微妙，包括從程式碼其餘部分以對比色彩呈現的文字，或是明顯的，包括 tickler 符號，例如波浪線和智慧標籤圖示。 環境指示器會傳達其他相關資訊的可用性。 在理想的情況下，即使不需要使用者與他們互動，也能提供有用的資訊。

- **一律** 定位環境指標，使其不會干擾或讓使用者超過負荷。 如果無法以這樣的方式定位環境指標，請考慮另一個解決方案。

- **一律** 盡可能將環境指標放置在與其相關的內容附近。

- 請 **一律** 嘗試建立一個指標，以摘要說明它所提供的資訊。 請考慮提供可用的資料項目數目 (例如「3個參考」，而不只是「參考」 ) 或考慮一些其他的摘要資料。

  - 如果指標的資料無法永遠計算及顯示，請在計算值時立即考慮提供漸進式意見反應。 例如，請考慮以動畫顯示變更，以反映可用資料的更新，類似于在未讀取的電子郵件數目增加時，Windows Phone 重新整理的電子郵件動態磚的方式。

- **絕對不要** 新增比使用者可合理參與特定內容的指標。 環境指標應該很有用，而不需要與使用者進行任何互動。 如果指標需要溢位和其他管理控制項讓它們進入視野，則指標會遺失其環境。

#### <a name="gestures"></a>軌跡
 允許使用者將焦點放在主要內容上的重要層面，就是支援正確的手勢來開啟和關閉其他詳細資料內容。

- **一律** 要求使用者執行一些明確的手勢來開啟其他內容。 常見的開放手勢包括：

  - **停留：** 工具提示或非互動式的資訊內容

  - **明確命令：** 內嵌展示者

  - **按兩下環境指標：** CodeLens 快顯視窗

- 每次使用者按下 Esc 鍵時，**一律** 關閉詳細資料內容。

- **一律** 考慮物件 UI 的內容。 針對允許在容器內互動的內容提供者，請仔細考慮是否要在停留時顯示其他資訊，這可能會干擾使用者的工作流程。

- **永遠不** 會在看似可編輯或邀請使用者互動的停留時顯示內容。 如果使用者嘗試將游標移到詳細資料內容上，這種行為可能會讓使用者感到不快，因為工具提示的標準行為是在游標不再超過產生它的主要內容時立即關閉。

## <a name="selection-models"></a><a name="BKMK_SelectionModels"></a> 選取模型

### <a name="overview"></a>概觀
 選取模型是一種機制，用來在使用者介面中對一或多個感興趣的物件，指定和確認作業。 本主題討論 Visual Studio 檔編輯器中的選取範圍互動模式：文字編輯器、設計介面和模型表面。

 使用者必須有一種方式來指出要 Visual Studio 他們正在處理的內容，而且 Visual Studio 必須以可預測的方式回應給使用者，以瞭解其運作方式。 使用者與使用者介面之間的差異或 miscommunication 可能會導致使用者未注意到動作，這可能會產生非預期的結果。 通常，除非使用者看到某個東西遺失或已變更，否則會忽略此錯誤。 因此，選取模型就是其中一個最重要的使用者介面設計部分。 雖然 Visual Studio 中的選取模型與 Windows 一致，但有些微差異。

 在 Visual Studio 中，如同在 Windows 中，選取模型會根據發生互動的內容而有所不同。 選取專案可能會發生在四種類型的物件中：

- Text

- 圖形物件

- 清單和樹狀結構

- 方格

  在這些物件中，有三種類型的選擇：

- 連續

- 脫節

- 區域

#### <a name="scope"></a>影響範圍
 選取專案的最重要元件，是確保使用者知道他們在哪一個視窗 (啟動) ，以及焦點位於 (選取範圍) 。 Visual Studio 擴充 Windows 中的視窗管理功能，但啟用配置相同：與視窗互動會將焦點放在視窗中。 Visual Studio 有兩個用於啟用的指標：一個適用于文件視窗，另一個用於工具視窗。

 若為文件視窗，使用中視窗會以 [文件視窗] 索引標籤的方式指出，並變更其背景色彩：

 ![Visual Studio 中的作用中索引標籤選取](../../extensibility/ux-guidelines/media/0713-01_activetab.png "0713-01_ActiveTab")

 **使用中的索引標籤選項**

 若為工具視窗，使用中視窗會以工具視窗的標題列區域色彩變更來表示：

 ![Visual Studio 中的作用中工具視窗選取](../../extensibility/ux-guidelines/media/0713-02_activetoolwindow.png "0713-02_ActiveToolWindow")

 **顯示節點主要選取範圍的作用中工具視窗**

 ![Visual Studio 中的非作用中工具視窗選取](../../extensibility/ux-guidelines/media/0713-03_inactivetoolwindow.png "0713-03_InactiveToolWindow")

 **非作用中的工具視窗，顯示潛在的節點選取**

 當視窗處於作用中狀態時，就會根據本指南的這一節中所述的選取模型來指出其焦點。

#### <a name="context"></a>Context
 Visual Studio 的設計目的是要保留內容的強大概念，並追蹤使用者的工作位置。 只有一個視窗處於作用中狀態，無論它是工具或文件視窗。 不過，最頂端的文件視窗一律會保留潛在的選取專案。 雖然焦點可能是在工具視窗中，但最後一個作用中的文件視窗會顯示選取專案，即使處於非使用中狀態也一樣。 這樣做的目的是要將使用者的內容保留在所編輯的檔中，顯示 Visual Studio 已保留其狀態，讓他們可以在工具視窗和文件視窗之間順暢地回傳和移動。

### <a name="text-selection"></a>文字選取
 以嚴格文字（例如內建的文字編輯器）為 Visual Studio 的編輯器，使用 MSDN 上 Windows 使用者經驗互動指導方針的 [滑鼠和指標](/windows/desktop/uxguide/inter-mouse) 頁面中所述的相同文字選取模型和外觀。 文字編輯器中的輸入焦點是由稱為插入點的垂直線表示。 插入點是一種粗的單一圖元，並以反白顯示它背後的任何內容。 它會根據主控台中 **鍵盤** 小程式的 [**速度**] 索引標籤中的 [**游標閃爍率**] 設定所設定的速率來閃爍。

#### <a name="contiguous-and-disjoint-selection"></a>連續和不連續的選取範圍
 文字編輯器中的選取專案只是連續的。 不允許不連續的文字選取範圍，但應該在圖形化物件編輯器中加以處理。 當使用者的滑鼠指標在文字區域上方時，游標會變成 I 橫樑。 只要按一下滑鼠，就會將插入點放在文字編輯器的按一下位置。 按住滑鼠按鍵會啟動選取專案反白顯示，並放開滑鼠按鍵以結束選取專案反白顯示。

#### <a name="region-selection-box-selection"></a>選取區域 (選取方塊) 
 Visual Studio 支援文字編輯器中的區域選取，這稱為 box 選取。 Box 選項可讓使用者選取未遵循一般文字資料流程的文字區域。 如同標準文字選取專案，選取範圍必須是連續的。 方塊選取是在使用滑鼠拖曳時按住 ALT 鍵來起始。 您也可以按住 ALT 鍵和 Shift 鍵，同時使用箭號來指出選取範圍的區域，藉以起始方塊選取。 方塊選取專案使用一般選取範圍醒目提示，並顯示插入點游標在選取區域的結尾閃爍。

 ![Visual Studio 中&#41; 選取區域 &#40;box](../../extensibility/ux-guidelines/media/0713-04_boxselection.png "0713-04_BoxSelection")

 **Visual Studio 中) 選取區域 (box**

#### <a name="text-selection-appearance"></a>文字選取外觀
 您可以自訂編輯器中用於作用中和非使用中選取範圍的色彩。 若要自訂編輯器的視覺外觀，使用者可以前往 [ **工具] > 選項**]，然後在 [ **環境] > [字型和色彩] 下 > 文字編輯器**]。

### <a name="graphical-selection"></a>圖形選取

#### <a name="interaction"></a>互動
 繪圖物件選取可能很複雜，而且取決於許多因素：

- **編輯器的主要選取模型。** 包含繪圖物件的編輯器也可以用來編輯文字或格線。 例如，編輯器可能是以文字為基礎的編輯器，也支援繪圖物件的位置，例如 Visual Studio XAML 設計工具。 支援多種物件類型可能會影響使用者選取不同物件類型所組成之群組的方式。

- **支援主要和次要選取狀態。** 編輯器可以提供主要和次要選取狀態，讓物件可以一致地進行編輯、對齊，以及調整大小，依此類推。

- **就地編輯支援。** 編輯器也可以允許編輯其繪圖物件的內容。 例如，矩形圖形可能也包含內的文字，可由使用者進行變更。 此外，也可以將文字置中或對齊。 就地編輯牽涉到更詳細的使用者互動層級，因此需要一組適當的視覺提示，向使用者呈現狀態資訊。

#### <a name="mouse-interaction"></a>滑鼠互動

|輸入|結果|
|-----------|------------|
|按一下未選取的物件|如果物件可調整大小，則選取物件並顯示虛線和選取控點。|
|按一下選取的物件|如果物件支援，則會啟用就地編輯。 在物件外部按一下，會停用就地編輯模式。|
|按兩下物件|開啟要編輯的物件背後的程式碼，而且可能會插入預設的事件處理常式（如果有的話）。|
|指向物件|將指標變更為移動游標。 物件的外觀（例如其亮度或色彩）可能會變更。|
|指向選取控點|將指標變更為調整大小游標。 對於支援旋轉的物件而言，某些選取控點可能會將指標變更為旋轉游標，因為指標的定位方式不同 (例如，移離選取控點的) 。|
|拖曳|即使先前未選取物件，也會將指標變更為移動游標，並移動物件。|
|編輯器失去焦點|停用就地編輯模式，雖然物件會保留其最後一個作業/選取狀態的內容和外觀。|
|物件選取範圍|以框線、虛線或其他以視覺方式表示的不同處理方式表示，以反白顯示物件的界限。|
|調整所選物件的大小|以選取控點表示。<br /><br /> 可調整大小的物件有八個控點，代表可以調整大小的每個方向。 如果物件只能以特定方向調整大小，可能會使用較少的控制碼。 當使用者將物件的大小向下調整為八個控制碼不是互動式的時，可以使用四個控制碼。 控制碼大小應系結至視窗框線和邊緣計量，並使用 **GetSystemMetrics** API 函式來調整顯示器解析度的比例。<br /><br /> ![調整控點大小](../../extensibility/ux-guidelines/media/0713-05_resizehandles.png "0713-05_ResizeHandles")|
|旋轉選取的物件|![旋轉控點](../../extensibility/ux-guidelines/media/0713-06_rotate.png "0713-06_Rotate")|

#### <a name="keyboard-interaction"></a>鍵盤互動

|輸入|結果|
|-----------|------------|
|索引標籤|在編輯器中物件的邏輯順序間移動焦點指標。 這可能是由左到右或由上到下，取決於 **TabIndex** (或同等的) 屬性值、物件建立順序以及編輯器的整體用途。 Shift + Tab 會反轉焦點指標的方向。|
|空白鍵|在保持按鍵時啟用移動瀏覽模式。 需要額外的滑鼠輸入才能移動區位置。|
|Ctrl+空格鍵|在保留按鍵時啟動縮放模式。 需要額外的滑鼠輸入才能增加和減少縮放因數。|
|Ctrl + Alt + 減號|將縮放因數減少一個層級。|
|Ctrl + Alt + 加號|將縮放因數增加一個層級。|
|Shift 或 Ctrl|將物件加入至選取專案群組。 Ctrl 也可讓您從選取專案群組中個別移除物件。|
|Enter|針對物件執行預設的命令 (通常會開啟或編輯) 。|
|F2|啟用物件的就地編輯。|
|方向鍵|將選取的物件 (s) 以按下方向鍵的方向，以較小的遞增 (例如一次1個圖元) |
|Ctrl + 方向鍵|將選取的物件 (s) 以按下方向鍵的方向，以較大的遞增 (例如，一次10個圖元) |
|Shift + 方向鍵|以較小的增量 (例如，一次1個圖元來調整選取的物件 (s) 的大小) |
|Ctrl + Shift + 方向鍵|以較大的遞增 (例如，一次10個圖元的方式，將選取的物件 (的) 大小調整為較大的) |

 當使用者編輯控制項時，對物件進行自動調整使用者輸入的大小可能會有意義。 例如，如果使用者編輯標籤控制項，則標籤應該會成長以顯示使用者剛剛輸入的文字。 如果未這樣做，使用者必須在編輯文字之後，手動調整控制項的大小。 如果使用者有許多控制項，這就會變成機械式和免除沒有效率工作。

#### <a name="graphical-containers"></a>圖形化容器
 在某些情況下，圖形編輯器會提供其他繪圖物件的容器，例如 Windows Forms Panel 控制項或 HTML 設計工具中的方格配置控制項。 如果您的編輯器提供其他繪圖物件的容器，則只有容器內的 (物件會依照上述) 所述的標準模型，來使用下列選取模型：

|輸入|結果|
|-----------|------------|
|單一按一下容器|選取容器物件，而不直接選取任何包含的物件。 您可以使用標準的滑鼠和鍵盤輸入 (來移動及/或調整容器大小，如上述) 所述。 包含的物件會在相對於容器的情況下移動，但包含的物件不會調整大小，除非也直接選取它們。|
|將滑鼠停留在容器的界限區域上|將滑鼠變成移動游標，表示可以移動容器。|
|拖曳容器的界限區域|將滑鼠變更為移動游標，並移動容器 (以及) 內包含的物件。 若未先按下就選取容器，就無法移動容器。|
|按一下容器內的物件|如果選取此選項，則取消選取容器 () 並只選取已按一下的物件。|
|Shift + 按一下或 Ctrl + 按一下包含的物件和/或容器|將按一下的物件加入至現有的選取專案或選取專案群組。 如果按一下的物件已經是選取專案群組的成員，則會從選取專案群組中移除該物件。|

 包含的物件應遵循上一節所述的基本選取模型。 從 Windows Forms 設計工具的可用性測試中，使用者應該不需要介入即可順暢地存取包含的物件， (包含物件) 所加諸的步驟。

#### <a name="disjoint-and-region-selections"></a>脫離和區域選擇
 繪圖物件編輯器應該支援斷續的選取。 請注意，此圖形不會顯示 Visual Studio 的控制面板。 如需詳細的視覺效果規格，請參閱 [繪圖物件選取外觀](../../extensibility/ux-guidelines/composite-patterns-for-visual-studio.md#BKMK_GraphicalObjectSelectionAppearance) 。

 ![斷續和區域選取器](../../extensibility/ux-guidelines/media/0713-07_disjointregionselectors.png "0713-07_DisjointRegionSelectors")

 **未交集選取專案**

 圖形化編輯器也應該提供具有字幕類型選取指標的區域選取專案。 如果圖形編輯器支援其他物件類型 (例如文字) ，則根據其他物件類型的條件約束，可能無法選取區域。

 ![點線框選取](../../extensibility/ux-guidelines/media/0713-08_marqueeselection.png "0713-08_MarqueeSelection")

 **點線框選取**

#### <a name="primary-and-secondary-selections"></a>主要和次要選取專案
 某些繪圖物件編輯器可讓使用者編輯或對齊群組中的物件。 在此情況下，必須引進主要和次要選取的概念。 主要選取範圍是所有其他物件回應群組作業的物件。 使用者第一次選取的物件會變成主要控制項，後續的選取專案會變成次要選取專案。 主要選取範圍具有不同的視覺效果， (s 的次要選取範圍) 來指出哪一個是主要物件：

 ![主要和次要選取範圍](../../extensibility/ux-guidelines/media/0713-09_primarysecondary.png "0713-09_PrimarySecondary")

 **具有兩個次要選取範圍的主要選取專案**

#### <a name="graphical-object-selection-appearance"></a><a name="BKMK_GraphicalObjectSelectionAppearance"></a> 繪圖物件選取外觀
 選取控點是在物件的周框方塊周圍以矩形模式繪製的正方形。 下圖顯示繪圖物件可以有控制碼、調整大小和就地編輯外觀的各種狀態範例。 您應使用 **GetSystemMetrics** API，將控制碼的大小系結至視窗框線和邊緣度量。

| 州 | 外觀 | 視覺效果詳細資料 |
|-------------------------|---------------| - |
| **未選取** | 預設 | ![預設按鈕狀態](../../extensibility/ux-guidelines/media/0713-10_defaultstate.png "0713-10_DefaultState") |
| **主要選取範圍** | 小時 | ![使用調整大小控點的主要選取範圍](../../extensibility/ux-guidelines/media/0713-11_primaryresize.png "0713-11_PrimaryResize") |
| **主要選取範圍** | 無法調整大小 | ![不使用調整大小控點的主要選取範圍](../../extensibility/ux-guidelines/media/0713-13_primarynoresize.png "0713-13_PrimaryNoResize") |
| **主要選取範圍** | 已鎖定 | ![已鎖定主要選取範圍](../../extensibility/ux-guidelines/media/0713-15_primarylocked.png "0713-15_PrimaryLocked") |
| **次要選取範圍** | 小時 | ![含有調整大小控點的次要選取範圍](../../extensibility/ux-guidelines/media/0713-17_secondaryresize.png "0713-17_SecondaryResize") |
| **次要選取範圍** | 無法調整大小 | ![不使用調整大小控點的次要選取範圍](../../extensibility/ux-guidelines/media/0713-19_secondarynoresize.png "0713-19_SecondaryNoResize") |
| **次要選取範圍** | 已鎖定 | ![已鎖定次要選取範圍](../../extensibility/ux-guidelines/media/0713-21_secondarylocked.png "0713-21_SecondaryLocked") |
| **UI 現用** | 預設 | ![UI 作用狀態](../../extensibility/ux-guidelines/media/0713-23_uiactive.png "0713-23_UIActive") |

### <a name="view-selection-models"></a>查看選取模型

#### <a name="tree-view"></a>樹狀檢視
 樹狀檢視中的選取專案會顯示簡單的醒目提示。 如果使用者按一下節點名稱或節點圖示，就會選取該節點。 節點左邊的三角形字元會展開或折迭樹狀目錄控制項，但不會影響使用者的選取範圍，但有一個例外：當選取範圍位於該節點的子節點時，當折迭父節點時，選取範圍會移至父節點。

 ![Visual Studio 中的一般樹狀檢閱](../../extensibility/ux-guidelines/media/0713-25_treeview.png "0713-25_TreeView")

 **Visual Studio 中的一般樹狀檢閱**

 樹狀檢視可支援連續和不連續的選取專案，即使是在樹狀結構中的多個層級。 您必須在可見的樹狀節點上建立連續或脫離的多重選取專案。 如果節點已折迭，則脫離的選取會遺失，而折迭的節點會取得選取專案。 如此一來，使用者就可以看到將受作業影響的節點。 當節點折迭時，會變得不清楚哪些節點可能會受到影響。

 當選取父節點時，作業應該會套用至父系，不過在某些情況下，將作業套用至父系及其所有子系的情況可能會有意義。 在此情況下，請在作業期間提供額外的 UI，例如核取方塊或確認對話方塊，讓使用者明確地將「套用至所有子系」選項。

##### <a name="renaming"></a>重新命名
 如果樹狀結構中的節點支援重新命名，則應該就地進行重新命名。 就地操作應該是 Visual Studio 中所有樹狀結構控制項的標準。 提供可立即啟用就地編輯模式的 [重新命名] 命令，其中的文字選取範圍涵蓋節點的整個名稱，準備接受使用者輸入。 如果節點代表檔案，則檔案名應包含副檔名。 選取專案反白顯示只應包含檔案名的主體，而不是副檔名。

|輸入|結果|
|-----------|------------|
|ENTER 鍵|認可重新命名作業|
|Esc 鍵|取消重新命名作業|
|按一下就地編輯區域以外的地方|認可重新命名作業|
|復原|提供簡單的復原來取消重新命名操作|

#### <a name="selection-within-lists-and-grid-controls"></a>清單和方格控制項中的選取範圍
 清單選取範圍中的主要概念是它是以資料列為基礎，這表示選取整個資料列做為一個單位時。 相較之下，方格可讓您選取特定的資料格，而不會影響資料列的任何其他方面。 方格也可能包含 (的嵌套資料列階層，例如在 TreeGrid) 中，允許選取階層的整個分支，並藉由與父資料列互動來取消選取。 清單中的選取專案，會在整個資料列上以簡單的醒目提示色彩顯示。 如果所有資料格都是唯讀) ，則焦點會依目前可編輯的資料列或資料格 (資料列周圍的單圖元點框線來顯示。

> [!NOTE]
> **焦點** 和 **選取範圍** 是不同的概念。 *焦點* 是指哪些 UI 元素的目標是要接收未明確導向至另一個物件的輸入，而 *選取* 則是指物件的狀態包含在後續作業可能發生的一組物件中。

 清單中的選取專案可能是連續、脫離或區域。 如果允許多重選取，則應該一律支援連續和不連續的選取專案，而支援區域 (box) 選取專案是選擇性的。 區域選取專案是透過在清單主體的空白字元中拖曳來起始。

| Object | 選取 |
|--------|------------|
| List | 連續 |
| List | 脫節 |
| List | 區域 |

 按一下清單上的一次，就會選取發生點擊的資料列。 如果使用者在支援就地編輯的清單資料格中按一下時，也會立即啟用儲存格以進行就地編輯。 否則，會立即選取整個資料列並顯示反白顯示。

 拖曳清單主體會執行下列三項作業之一：

- 當清單支援時，起始區域選取範圍，並將滑鼠下移至空白字元

- 如果清單儲存格或資料列支援拖曳來源，則起始拖放作業

- 選取目前的資料列

##### <a name="in-place-editing"></a>就地編輯
 允許就地編輯時，有兩個基本模型：簡單的編輯控制項和屬性選擇器。 使用簡單的編輯控制項時，內容會在就地編輯啟用時，反白顯示並準備使用者輸入。 在執行屬性選擇器的情況下，一旦啟用就地編輯模式，便會顯示叫用屬性選擇器的按鈕，且不會反白顯示目前的選取範圍。 選擇器按鈕應該在資料格中靠右對齊。 如需就地編輯範例，請參閱 Visual Studio 中的 [ **屬性] 視窗** 和 **工作清單** 。

##### <a name="keyboard-support"></a>鍵盤支援
 清單和方格中選取的鍵盤支援遵循標準的 Windows 慣例：

- 方向鍵可瀏覽清單，選取每個資料列/儲存格，以移動焦點。

- Shift + 箭號會以方向鍵的方向執行連續的選取專案。

- Ctrl + 箭號後面接著空格鍵，會在從選取範圍中新增和移除清單專案之間切換，以建立脫離的選取專案。

- 針對包含嵌套階層的方格，向右箭號會展開父資料列，而向左鍵會折迭一個資料列。

- 如果儲存格是可編輯的，Tab 鍵會在目前資料列的儲存格之間移動焦點。

- Enter 鍵會在清單中的專案上執行預設的命令 (通常會 **開啟**) 。

- F2 鍵會針對目前選取的儲存格啟用就地編輯。

## <a name="persistence-and-saving-settings"></a><a name="BKMK_PersistenceAndSavingSettings"></a> 持續性和儲存設定

### <a name="overview"></a>概觀
 雖然 Visual Studio 中的每個軟體元件通常負責自己的狀態和持續性，Visual Studio 在某些情況下自動儲存設定，例如使用視窗大小和位置。 下表是自動儲存的設定組合，以及需要採取明確使用者或程式設計動作的設定。

|Object|要儲存的內容|儲存的時機|儲存位置|
|------------|------------------|------------------|-------------------|
|可選取的物件 (例如，一行程式碼) |程式程式碼上的中斷點<br /><br /> 與程式程式碼相關聯的使用者快捷方式|儲存專案時|專案 **( .suo) 檔案的使用者選項**|
|對話|對話方塊的位置（如果已移動）<br /><br /> 使用者上次在對話方塊中使用的視圖|對話方塊關閉時<br /><br /> 當 Visual Studio 會話結束時|記憶體內部<br /><br /> **HKEY_Current_User** 中的登錄|
|時間範圍|視窗的大小和位置|當視窗關閉時<br /><br /> 當 Visual Studio 模式變更時<br /><br /> 當 Visual Studio 會話結束時|專案 **( .suo) 檔案的使用者選項**<br /><br /> 視窗設定的自訂選項檔|
|文件|檔中目前的選取範圍<br /><br /> 檔的視圖<br /><br /> 使用者造訪的最後幾個地方|儲存檔時|專案 **( .suo) 檔案的使用者選項**|
|Project|檔案的參考<br /><br /> 磁片上目錄的參考<br /><br /> 其他軟體的參考<br /><br /> 單元<br /><br /> 專案本身的狀態資訊|儲存專案時|專案檔|
|解決方案|專案的參考<br /><br /> 檔案的參考|當專案或方案儲存時|**方案 ( .sln)** 檔|
|**工具 > 選項** 中的設定|鍵盤自訂<br /><br /> 工具列自訂<br /><br /> 色彩配置|當 **工具 > 選項** ] 對話方塊關閉時<br /><br /> 當 Visual Studio 會話結束時|**HKEY_Current_User** 中的登錄|

 使用者正在執行的工作，以及在執行此工作時，指定設定是否要儲存在會話) 期間的記憶體 (、以登錄) 設定的形式 (儲存在會話中，做為專案或方案檔本身的一部分，作為 **方案選項 (**) 檔的一部分，或做為只有該軟體元件知道的自訂設定檔案。 上表顯示數個可儲存設定的事件。 不過，在其他情況下，您可能會想要儲存狀態：

- 當使用者變更對話方塊或視窗內的位置時

- 當使用者將焦點轉移到另一個視窗時

- 當使用者從 [設計] 切換至 [偵測] 模式時

- 當使用者登出帳戶時

- 當電腦進入休眠或關機時

- 當電腦/硬碟即將重新格式化並重新設定時

### <a name="window-configurations"></a>視窗設定
 視窗設定是開發環境的基本標記法，它是一種配置，其中包含的工具視窗清單和相片順序。 若為 IDE 所管理的 windows (IDE windows) ，每位使用者都會保存配置資訊，因此當使用者啟動 IDE 時，視窗配置會顯示為上次結束 Visual Studio 時的相同內容。 IDE 視窗的狀態和位置會以 XML 格式保存在自訂的選項檔案中。 載入至 IDE 的封裝所建立的工具視窗會在登錄中保存其狀態資訊，而且不一定是每一位使用者。

#### <a name="profile-specific-layouts"></a>設定檔特有的版面配置
 每個設定檔都包含工具視窗配置，以熟悉特定開發人員角色的方式組織 (Visual C++ 開發人員預期會在 IDE 的左邊看到 **方案總管** ，而 c # 開發人員預期會在右邊的) 看到 **方案總管** 。 當使用者在啟動時選擇設定檔時，會載入設定檔特定的視窗配置。 封裝作者應該決定最適合其客戶體驗的視窗版面配置，並知道使用者對視窗設定所做的變更將會保存下來。

## <a name="touch-input"></a><a name="BKMK_TouchInput"></a> 觸控輸入
 使用者逐漸在觸控裝置上使用 Microsoft 開發產品。 不過，有一些阻礙讓觸控裝置使用開發工具變得很困難。 使用者預期我們的產品會提供可靠且精確的觸控體驗。 這些指導方針的目的是要通知有關要併入哪些觸控功能，以及鼓勵 Visual Studio 和相關產品間一致觸控體驗的決策。

### <a name="levels-of-experience"></a>經驗等級
 下列經驗等級旨在作為指南，以協助小組根據其所需的觸控投資程度來決定要提供哪些觸控功能。

- **基本經驗** 適用于想要提供觸控功能的小組，因此在整個工作中都沒有任何失效的結束。

- **優化的體驗** 適用于想要提供最常見觸控功能的小組 (例如，網際網路瀏覽器應用程式中通常會有) 。

- 更 **高的體驗** 是針對想要新增功能（例如手勢或其他選用功能）的小組，讓應用程式能夠先方便觸控。

||基本體驗|優化體驗|更高的體驗|
|-|----------------------|--------------------------|-------------------------|
|**讓使用者可以 .。。**|修正程式碼和解決方案/專案層級的讀取，但不含失效結束|執行維護、重構和導覽工作|安心地在一致、直覺且流暢的體驗下運作|
|**編輯器**|觸控移動和選取<br /><br /> 捲軸觸控以跳到並按下 + 拖曳|縮小縮放比例<br /><br /> 快速滾動<br /><br /> 選取<br /><br /> 快顯功能表的簡易使用||
|**最上層工具視窗**|清單移動<br /><br /> 項目選取<br /><br /> 捲軸觸控以跳到並按下 + 拖曳|簡易專案滾動和選取||
|**時間範圍**||調整視窗大小<br /><br /> 快速存取||
|**檔妥善**||在開啟的檔案之間輕鬆流覽||
|**手勢**||確定一般手勢可跨 IDE 運作|以手勢為基礎的動作<br /><br /> 支援拖放和設計工具|
|**其他考量**|||自訂螢幕小鍵盤|

#### <a name="gestures"></a>軌跡
 手勢可為使用者提供可能需要更複雜互動的命令快捷方式。 請參閱 [適用于桌面應用程式的常見觸控手勢](/windows/desktop/wintouch/windows-touch-gestures-overview)的 Windows 指導方針，並針對大部分的手勢遵循此指引，包括移動流覽和縮放等簡單手勢。
