---
title: 測試區域 5:更改原始碼管理 |微軟文件
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- source control [Visual Studio SDK], changing
- source control plug-ins, changing source control
ms.assetid: fdf09e00-108c-4d51-bbd5-72452d52a490
author: acangialosi
ms.author: anthc
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: d1c0df31fbecd532e6a5f7f317730cd995cd8225
ms.sourcegitcommit: 16a4a5da4a4fd795b46a0869ca2152f2d36e6db2
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/06/2020
ms.locfileid: "80704516"
---
# <a name="test-area-5-change-source-control"></a>測試區域 5︰變更原始檔控制
此原始程式管理外掛程式測試區域包括透過**更改原始碼管理**命令更改原始碼管理。

 **變更原始碼管理**指令為使用者提供四個基本功能:

- **繫結:**

   允許使用者在解決方案/專案和版本存儲之間建立或重新建立原始程式碼管理連結。

- **取消繫結:**

   根據每個連接從原始程式碼管理中刪除專案/解決方案。

- **連接/斷線連線:**

  切換受控解決方案的連接或離線狀態,區域3中涵蓋該狀態。 有關詳細資訊,請參閱[測試區域 3:簽出/撤銷簽出](../../extensibility/internals/test-area-3-check-out-undo-checkout.md)。

## <a name="command-menu-access"></a>命令選單存取
 測試用例[!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)]中使用了以下集成開發環境功能表路徑。

 變更原始碼管理:**檔案**,**原始碼管理**,**變更原始碼管理**。

## <a name="test-cases"></a>測試案例
 以下是**更改原始程式碼管理**命令測試區域的特定測試用例。

### <a name="case-5a-bind"></a>案例 5a:綁定
 綁定允許使用者向選定的專案和解決方案添加原始程式碼控制資訊。 通常提示用戶標識要向其添加這些項的原始程式碼管理中的專案。 使用者不得在原始程式碼管理中創建新項目作為此操作的一部分(與添加到原始程式碼管理對比)。

| 動作 | 測試步驟 | 要驗證的預期結果 |
| - | - | - |
| 繫結到空位置 | 1. 創建專案。<br />2. 將解決方案添加到原始碼管理。<br />3. 開放**更改原始碼管理**對話框(**檔案**、**原始碼管理**,**更改原始碼管理**)。<br />4. 點擊 **"取消綁定**"。<br />5. 如果出現警告對話方塊,則接受該對話方塊。<br />6. 選擇所有專案。<br />7. 點擊**的結合**。<br />8. 瀏覽到原始程式碼管理儲存中的空位置。<br />9. 點擊 **「確定」** 關閉 **「更改源控制」** 對話框。<br />10. 在確認對話框中按一下 **「繼續使用這些綁定**」 。。<br />11. 如果出現警告對話方塊中的 **「確定」** 請按一下「 確定」。<br />12. 檢查所有內容。 如果此步驟成功,請繼續執行下一步。<br />13. 從原始程式碼管理到新位置的開放解決方案。 | `Result from Step 12:`<br /><br /> 解決方案和專案綁定到版本存儲中的新目標並寫入。<br /><br /> 已簽入解決方案和專案檔。<br /><br /> 版本存儲專案層次結構與磁碟上專案的資料夾層次結構匹配。<br /><br /> `Result from Step 13:`<br /><br /> 下載所有專案項。 |
| 繫結到與客戶端同步的位置 | 1. 創建專案。<br />2. 將解決方案添加到原始碼管理。<br />3. 在版本存儲中創建解決方案和專案的重複項(如果使用[!INCLUDE[vsvss](../../extensibility/includes/vsvss_md.md)]則 共用和分支)。<br />4. 開放**更改原始碼管理**對話框(**檔案**、**原始碼管理**,**更改原始碼管理**)。<br />5. 取消綁定所有。<br />6. 點擊「**確定」** 關閉 **「更改來源控制」** 對話框。<br />7. 重新打開**更改源控制**對話方塊。<br />8. 選擇全部。<br />9. 點擊**的結合**。<br />10. 瀏覽到解決方案和專案的分支位置(從步驟 3 開始)<br />11. 點擊 **「確定」** 以關閉 **「更改源控制」** 對話框。<br />12. 對所有項目獲取最新遞歸。 | 獲取后的文件內容與獲取之前的內容相同。 |
| 繫結到與客戶端不同步的位置 | 1. 創建專案。<br />2. 將解決方案添加到原始碼管理。<br />3. 在版本存儲中創建解決方案和專案的重複項(如果使用[!INCLUDE[vsvss](../../extensibility/includes/vsvss_md.md)]則 共用和分支)。<br />4. 修改版本存儲中的分支專案中的檔。<br />5. 開放**更改原始碼管理**對話框(**檔案**、**原始碼管理**,**更改原始碼管理**)。<br />6. 取消綁定所有。<br />7. 點擊「**確定」** 關閉 **「更改來源控制」** 對話框。<br />8. 重新打開**更改源控制**對話方塊。<br />9. 選擇全部。<br />10. 按一下**的連結**。<br />11. 瀏覽到分支位置,用於解決方案和專案。<br />12. 點擊 **「確定」** 以關閉 **「更改源控制」** 對話框。<br />13. 如果出現警告對話方塊,則接受警告對話方塊。<br />14. 獲取所有專案的最新遞歸。 | 步驟 4 中修改的檔也會在本地修改。 |
| 從未受原始碼控制的解決方案繫結 | 1. 在原始程式碼管理中創建一個空資料夾。<br />2. 創建用戶端專案。<br />3. 開放**更改原始碼管理**對話框(**檔案**、**原始碼管理**,**更改原始碼管理**)。<br />4. 將解決方案綁定到原始程式碼管理中的空位置。<br />5. 點擊「**確定」** 關閉 **「更改來源控制」** 對話框。<br />6. 在確認對話方塊中按下「**繼續使用這些綁定**」 。<br />7. 如果出現警告對話方塊中的 **「確定」** 請按一下「 確定」。 | 解決方案將添加到原始碼管理中。<br /><br /> 解決方案和專案已簽出。 |
| 取消繫結 | 1. 創建專案。<br />2. 將解決方案添加到原始碼管理。<br />3. 打開"更改源控制"對話框。<br />4. 取消綁定所有。<br />5. 點擊 **「確定」** 按鈕關閉對話框。 如果此步驟成功,請繼續執行下一步。<br />6. 重新打開 **「更改源控制」** 對話框。<br />7. 綁定到不相關的位置。<br />8. 按一下 **「取消**」。。 | `Result from Step 5:`<br /><br /> 解決方案不再受原始碼控制<br /><br /> `Result from Step 8:`<br /><br /> 解決方案仍不受原始程式碼管理。 |

### <a name="case-5b-unbind"></a>案例 5b:取消綁定
 取消綁定會從專案及其解決方案中刪除原始程式碼控制資訊。 受影響的專案和解決方案基於使用者選擇的組合以及專案如何添加到原始程式碼管理。

|動作|測試步驟|要驗證的預期結果|
|------------|----------------|--------------------------------|
|取消繫結解決方案,其中包含一個檔案系統或本地 IIS Web 專案和一個用戶端專案|1. 創建檔案系統或本地 IIS Web 專案。<br />2. 將解決方案添加到原始碼管理。<br />3. 向解決方案添加新的用戶端專案。<br />4. 如果出現提示,則接受簽出解決方案。<br />5. 打開 **"更改源控制"** 對話方塊。<br />6. 點擊 **"取消綁定**"。<br />7. 點擊 **"確定"** 關閉對話框。<br />8. 嘗試簽出解決方案、專案、解決方案項和專案項。|解決方案和專案不受原始程式碼管理。<br /><br /> 源控制功能表命令不顯示。|
|取消繫結|1. 創建專案。<br />2. 將解決方案添加到原始碼管理。<br />3. 打開 **"更改源控制"** 對話方塊。<br />4. 點擊 **"取消綁定所有**"。<br />5. 點擊 **"取消**"。|解決方案在原始程式碼管理之下。|

### <a name="case-5c-rebind"></a>案例 5c:重新綁定
 重新結合系統是取消綁定與綁定的組合 - 重新繫結前處於原始碼管理且未綁定的專案/解決方案的過程。

|動作|測試步驟|要驗證的預期結果|
|------------|----------------|--------------------------------|
|在不關閉 **「更改原始碼管理」** 對話框中重新繫結解決方案和專案|1. 創建專案。<br />2. 將解決方案添加到原始碼管理。<br />3. 打開 **"更改源控制"** 對話方塊。<br />4. 點擊 **"取消綁定**"。<br />5. 選擇所有行。<br />6. 點擊**兩下 的組合**。<br />7. 點擊「**確定」** 關閉 **「更改來源控制」** 對話框。<br />8. 如果出現提示,則接受結帳。|解決方案和專案受原始程式碼管理。|
|只在不關閉 **「變更來源控制」** 對話框中重新繫結此項目|1. 創建專案。<br />2. 僅使用(檔>原始程式碼管理->将选定项目添加到源代码管理)中的專案。<br />3. 打開"更改源控制"對話框。<br />4. 僅取消綁定專案。<br />5. 僅綁定專案。|解決方案不受控制。<br /><br /> 專案保持受控。|
|只在不關閉**變更原始碼管理**對話框的情況下重新繫結解決方案|1. 創建專案。<br />2. 僅使用 (**檔案**,**源碼管理**,**將選擇專案新增到原始碼管理**) 將解決方案添加到原始碼管理。<br />3. 打開 **"更改源控制"** 對話方塊。<br />4. 僅取消綁定解決方案(不要關閉**更改源控制**對話方塊)。<br />5. 僅綁定解決方案。<br />6. 點擊 **「確定」** 關閉對話框。<br />7. 查看解決方案和解決方案專案(如果有)。|解決方案保持受控狀態。<br /><br /> 專案不受控制。|
|只在同一目錄中重新繫結解決方案/專案|1. 創建專案。<br />2. 僅使用 (**檔案**,**原始碼管理**,**將選擇項目加入來源碼管理**) 將專案加入到原始碼管理。<br />3. 關閉解決方案。<br />4. 創建至少兩個專案的新解決方案。<br />5. 將解決方案添加到原始程式碼管理。<br />6. 從原始程式碼管理添加步驟 1 中創建的專案。<br />7. 如果出現提示,則接受解決方案的結帳。<br />8. 檢查整個解決方案。<br />9. 打開 **"更改源控制"** 對話方塊。<br />10. 選擇添加的專案(從步驟 6 中),然後單擊 **"取消綁定**"。<br />11. 按一下 **「確定」** 關閉對話框。<br />12. 如果出現提示,請接受結帳。<br />13. 重新打開**更改原始碼管理**對話框。<br />14. 選擇添加的專案(從步驟 6 中),然後單擊 **「綁定**」。<br />15. 選擇原始位置。|解決方案和專案仍然受控制。|

## <a name="see-also"></a>另請參閱
- [原始檔控制外掛程式測試指南](../../extensibility/internals/test-guide-for-source-control-plug-ins.md)
