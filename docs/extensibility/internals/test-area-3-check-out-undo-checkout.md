---
title: 測試區域3：簽出-復原簽出 |Microsoft Docs
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- source control plug-ins, checkout
- source control plug-ins, undo checkout
- source control [Visual Studio SDK], checking out
- source control [Visual Studio SDK], undo checkout
ms.assetid: ce00c5a5-d472-4f45-8776-d77a1fbe9d37
author: acangialosi
ms.author: anthc
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: 5365da1e342df5aea9c1b1cd2ae5a446baea57f1
ms.sourcegitcommit: 6cfffa72af599a9d667249caaaa411bb28ea69fd
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/02/2020
ms.locfileid: "80704610"
---
# <a name="test-area-3-check-outundo-checkout"></a>測試區域 3：簽出/復原簽出
此原始檔控制外掛程式測試區域涵蓋了透過 [ **簽出** ] 和 [ **復原簽出** ] 命令來編輯和還原版本存放區中的專案。

**簽出**：將版本存放區中的專案標示為已簽出，並將本機複本修改為讀取/寫入。

**復原簽出**：將版本存放區中的專案標示為已簽入，根據) 選項，將本機複本還原到簽出 (之前的狀態。

## <a name="command-menu-access"></a>命令功能表存取

下列 [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] 整合式開發環境功能表路徑用於測試案例中。

##### <a name="check-out"></a>[取出]：

- **File**檔案、**原始檔控制**、**簽出**。

- 檔案 **，請****參閱**。

- 快速鍵功能表，請 **參閱**。

- 復原簽出 **：檔案**、 **原始檔控制**、 **復原簽出**。

## <a name="common-expected-behavior"></a>常見的預期行為

- 簽出作業之後，目標檔案 (s) 和/或資料夾 (s) 會標示為在版本存放區中簽出。

- 版本存放區會將簽出的屬性簽出給正確的使用者。

- 簽出的時間和日期是每個使用者的設定) 正確的 (。

## <a name="test-cases"></a>測試案例

以下是 [簽出/復原簽出] 測試區域的特定測試案例。

### <a name="case-3a-check-out"></a>案例3a：簽出

本節著重于簽出命令的操作。

|動作|測試步驟|要驗證的預期結果|
|------------|----------------|--------------------------------|
|查看用戶端專案) 的獨家 (COE|1. 建立用戶端專案。<br />2. 將方案加入至原始檔控制。<br />3. 以獨佔方式查看整個 **專案 (檔案**， **查看**) 。|簽出發生。|
|查看檔案系統或本機 IIS Web 專案) 專有 (COE|1. 在 [ **工具**]、[ **選項**]、[ **專案**] 和 [ **Web 設定**] 中，將網頁伺服器連接設定為檔案<br />2. 建立 Web 專案。<br />3. 將方案加入至原始檔控制。<br />4. 以獨佔方式查看整個 **專案 (檔案**、 **原始檔控制**、 **查看**) 。|簽出發生。|
|查看方案中的方案專案 (處理其他檔案的新方法) |1. 建立空白的方案。<br />2. 將方案加入至原始檔控制。<br />3. 查看解決方案。<br />4. 加入數個方案專案。<br />5. 簽入所有新加入的專案。<br />6. 選取多個方案專案。<br />7. 查看選取的專案 (快捷方式功能表中， **查看**) 。|選取的檔案已簽出。|
|如果待測外掛程式支援這項功能，請查看本機版本 () |1. 使用者1：建立用戶端專案。<br />2. 使用者1：將方案加入至原始檔控制。<br />3. 使用者2：從原始檔控制開啟方案至另一個位置。<br />4. 使用者2：簽出檔案。<br />5. 使用者2：修改檔案。<br />6. 使用者2：簽入檔案。<br />7. 使用者1：簽出本機版本的檔案 (核取 [**簽出**] 對話方塊中的 [**簽出本機版本**] advanced 選項) 。|簽出檔案的本機版本。<br /><br /> 使用者2的修改不會套用至使用者1檔案。|

### <a name="case-3b-disconnected-check-out"></a>案例3b：中斷連接簽出

在中斷連線模式中操作，可讓使用者在未直接附加至版本存放區時，有某種程度的持續原始檔控制支援。 這是透過在本機快取有關已登記方案和專案的所有相關資訊來完成。

獨佔簽出作業只會在連接到原始檔控制存放區時進行。 不論是否已連線或已中斷連線，都可以隨時進行共用的簽出作業。 因此，當與版本存放區中斷連線時，只會啟用 **簽出共用** (COS) 命令。 中斷連線時，會停用 **復原簽出** ，因為無法抓取舊版本來取代使用者所做的變更。

當使用者重新連接到版本存放區時，會同步處理所有已登記解決方案和專案的簽出狀態。 這會針對使用者已執行的簽出，進行存放區的必要更新。 一旦發生同步處理，使用者就能夠繼續正常運作 (連接) 。

#### <a name="expected-behavior"></a>預期行為

- 從版本存放區中斷連線時，無法使用 [ **獨佔** 取出] 命令。

- 從版本存放區中斷連線時，無法使用 **復原簽出** 命令。

- **共用的簽出** 命令可正常運作。

|動作|測試步驟|要驗證的預期結果|
|------------|----------------|--------------------------------|
|中斷連線時，簽出檔案，然後連接以進行同步處理|1. 使用 [變更原始檔控制] 對話方塊中斷受控制 **專案的連接 (檔案**、 **原始檔控制**、 **變更原始檔控制**) 。<br />2. 簽出檔案。<br />3. 按一下 [警告] 對話方塊中的 [簽出 (中斷連線]) 。<br />4. 編輯檔案。<br />5. 使用 [變更原始檔控制] 對話方塊進行連接。<br />6. 取得已編輯檔案的最新版本。|常見的預期行為|

### <a name="case-3c-query-editquery-save-qeqs"></a>案例3c：查詢編輯/查詢儲存 (QEQS) 
 系統會追蹤原始檔控制下的專案，以進行編輯、變更和儲存，以協助使用者輕鬆地管理其檔案。 編輯「簽入」的受控制專案時，QEQS 會攔截嘗試的編輯，並詢問使用者是否要簽出檔案進行編輯。 根據 [ **工具**]、[ **選項** ] 設定，使用者可能會被強制簽出檔案，以便編輯或允許編輯記憶體中的複本，並在稍後簽出。 如果使用者的 [ **工具**]、[ **選項** ] 設定未設定為顯示 [簽出] 對話方塊，而且只是簽出，則當使用者進行編輯時，檔案會盡可能自動簽出。

#### <a name="expected-behavior"></a>預期行為

- 簽出作業之後，目標檔案 (s) 和/或資料夾 (s) 會標示為在版本存放區中簽出。

- 版本存放區屬性會將簽出給正確的使用者。

- 每個使用者的設定) ，簽出的日期和時間是正確的 (。

- 目標檔案或資料夾的本機複本是可寫入的。

|動作|測試步驟|要驗證的預期結果|
|------------|----------------|--------------------------------|
|編輯簽入的文字檔|1. 建立包含文字檔的新專案。<br />2. 將方案加入至原始檔控制。<br />3. 設定 [ **工具**]、[ **選項**]、[ **原始檔控制**]、[允許在 **磁片唯讀時編輯** 檔案]，以取消核取。<br />4. 設定**工具**、**選項**、**原始檔控制**、在**編輯簽入檔案時****提示您簽出**下拉式方塊。<br />5. 設定**工具**、**選項**、**原始檔控制**、**儲存簽**入檔案中的提示時，下拉式方塊中的**簽出**。<br />6. 在編輯器中開啟文字檔，嘗試在檔案中輸入新的文字。 如果此步驟成功，請繼續下一個步驟。<br />7. 按一下 [**簽出進行編輯**] 對話方塊中的 [**取消**]。 如果此步驟成功，請繼續下一個步驟。<br />8. 設定 [ **工具**]、[ **選項**]、[ **原始檔控制**]、[允許在要檢查的 **磁片上的唯讀時編輯** 檔案]。<br />9. 在編輯器中開啟專案檔，嘗試在檔案中輸入新的文字。 如果此步驟成功，請繼續下一個步驟。<br />10. 按一下 [**簽出以編輯**] 對話方塊中的 [**編輯**]。 如果此步驟成功，請繼續下一個步驟。<br />11. 編輯文字檔並嘗試儲存該文字檔。|`Result of step 6:`<br /><br /> [簽出以進行編輯] 對話方塊隨即出現。<br /><br /> `Result of step 7:`<br /><br /> 檔案不會變更。<br /><br /> `Result of step 9:`<br /><br /> [簽出以進行編輯] 對話方塊隨即出現。<br /><br /> `Result of step 10:`<br /><br /> 您可以在記憶體中編輯專案檔。<br /><br /> `Result of step 11:`<br /><br /> [儲存] 時，會出現 [儲存時簽出] 對話方塊。|
|編輯簽入的方案檔|重複上述測試中所述的步驟，但不修改文字檔，而是藉由變更方案屬性來修改方案。|與先前的測試相同|
|編輯簽入的專案檔|重複上述測試中所述的步驟，但不修改文字檔，而是藉由變更專案屬性來修改專案。|與先前的測試相同。|

### <a name="case-3d-silent-check-out"></a>案例3d：無訊息簽出
 此子領域涵蓋 [簽 **出** ] 對話方塊未出現在每個使用者的 **工具**、 **選項**、 **原始檔控制設定**中的簽出案例。

#### <a name="expected-behavior"></a>預期行為

- 簽出作業之後，目標檔案 (s) 和/或資料夾 (s) 會標示為在版本存放區中簽出。

- 版本存放區屬性會將簽出給正確的使用者。

- 根據使用者的設定) ，簽出的時間和日期是正確的 (。

- 目標檔案或資料夾的本機複本是可寫入的。

|動作|測試步驟|要驗證的預期結果|
|------------|----------------|--------------------------------|
|無訊息簽出檔案|1. 設定 **工具**、 **選項**、 **原始檔控制** ，以 **在編輯時自動簽出**檔案。<br />2. 使用檔案建立新專案。<br />3. 將方案加入至原始檔控制。<br />4. 簽出檔案。|檔案會以無訊息方式簽出 (沒有 UI) 。|
|專案的無訊息簽出|1. 設定 **工具**、 **選項**、 **原始檔控制** ，以 **在編輯時自動簽出**檔案。<br />2. 建立新專案。<br />3. 將方案加入至原始檔控制。<br />4. 簽出項目。|檔案會以無訊息方式簽出 (沒有 UI) 。|

### <a name="case-3e-undo-check-out"></a>案例3e：復原簽出
 **復原簽出** 可用來取消檔案的簽出狀態，並避免簽入對檔案所做的變更。

#### <a name="expected-behavior"></a>預期行為

- 預設值是依據使用者的 [ **簽出本機版本** ] 設定。 如果使用者選擇簽出本機版本，則復原簽出的預設值一律會還原為已簽出的版本。

- 在接受復原時，會針對受影響的檔案更新 **方案總管** 中的圖示，並從 [暫止 **簽入** ] 視窗中移除該專案。

|動作|測試步驟|要驗證的預期結果|
|------------|----------------|--------------------------------|
|復原簽出只簽出的單一檔案|1. 建立用戶端專案。<br />2. 將方案加入至原始檔控制。<br />3. 以獨佔方式簽出檔案。<br />4. 修改檔案。<br />5. 復原簽出 ** (檔案**、 **原始檔控制**、 **復原簽出**) 。|常見的預期行為。|
|復原簽出共用的單一檔案|1. 建立用戶端專案。<br />2. 將方案加入至原始檔控制。<br />3. 簽出共用的檔案。<br />4. 修改檔案。<br />5. 復原簽出 ** (檔案**、 **原始檔控制**、 **復原簽出**) 。|常見的預期行為。|
|將檔案 () 新增至專案之後，復原簽出項目|1. 建立新的專案，並將它加入至原始檔控制。<br />2. 簽出項目。<br />3. 將檔案新增至專案。<br />4. 復原專案的簽出。|新增的檔案會從方案總管中的專案移除。<br /><br /> 不再簽出項目。|
|從專案中刪除檔案 () 後，復原簽出項目|1. 建立新的專案，並將它加入至原始檔控制。<br />2. 簽出項目。<br />3. 從專案中刪除檔案。<br />4. 復原專案的簽出。|已刪除的檔案會出現在方案總管的專案下。<br /><br /> 不再簽出項目。|

## <a name="see-also"></a>另請參閱
- [原始檔控制外掛程式測試指南](../../extensibility/internals/test-guide-for-source-control-plug-ins.md)
