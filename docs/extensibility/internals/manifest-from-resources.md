---
title: Manifest from Resources |Microsoft Docs
ms.date: 11/04/2016
ms.topic: conceptual
ms.assetid: 0234109b-5dcb-4d9d-acb9-a63f8bd5699c
author: acangialosi
ms.author: anthc
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: 6ea5931c77e267bc6065693be1ae144c250ce6df
ms.sourcegitcommit: b885f26e015d03eafe7c885040644a52bb071fae
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/30/2020
ms.locfileid: "85536224"
---
# <a name="manifest-from-resources"></a>來自資源的資訊清單
Manifest from Resources 工具是一個主控台應用程式，它會接受影像資源（.png 或 .xaml 檔案）的清單，並產生 imagemanifest 檔案，讓這些影像可與 Visual Studio 映射服務搭配使用。 此外，此工具可以用來將影像新增至現有的 imagemanifest。 此工具適用于將影像的高 DPI 和主題支援新增至 Visual Studio 延伸模組。 產生的 imagemanifest 檔案應該包含在中，並部署為 Visual Studio 擴充功能（.vsix）的一部分。

## <a name="how-to-use-the-tool"></a>如何使用工具
 **語法**

 ManifestFromResources/resources： \<Dir1> ; \<Img1> /assembly： \<AssemblyName>\<Optional Args>

 **引數**

|**交換器名稱**|**備註**|**Required 或 Optional**|
|-|-|-|
|/resources|以分號分隔的影像或目錄清單。 此清單應一律包含將會在資訊清單中的完整映射清單。 如果只指定部分清單，則不包含的專案將會遺失。<br /><br /> 如果指定的資源檔是一個影像區，則工具會先將它分割成不同的映射，然後再將每個 subimage 新增至資訊清單。<br /><br /> 如果影像是 .png 檔案，我們建議您將名稱格式化，如下所示，讓工具可以填入正確的影像屬性： \<Name> ... \<Width> \<Height>png.|必要|
|/assembly|Managed 元件的名稱（不包括副檔名），或裝載資源之原生元件的執行時間路徑（相對於資訊清單的執行時間位置）。|必要|
|/manifest|要提供給所產生之 imagemanifest 檔的名稱。 這也可以包含絕對或相對路徑，以在不同的位置建立檔案。 預設名稱會與元件名稱相符。<br /><br /> 預設值： \<Current Directory> \\<元件 \> . imagemanifest|選擇性|
|/guidName|要提供給所產生資訊清單中所有影像之 GUID 符號的名稱。<br /><br /> 預設值： AssetsGuid|選擇性|
|/rootPath|在建立受控資源 Uri 之前，需要先將其移除的根路徑。 （此旗標是用來協助工具取得相對 URI 路徑錯誤的情況，導致資源無法載入。）<br /><br /> 預設：\<Current Directory>|選擇性|
|/recursive|設定此旗標會告知工具以遞迴方式搜尋/resources 引數中的任何目錄。 省略此旗標將會產生最上層的目錄搜尋。|選擇性|
|/isNative|當 assembly 引數是原生元件的路徑時，請設定此旗標。 當 assembly 引數是 managed 元件的名稱時，請省略此旗標。 （如需此旗標的詳細資訊，請參閱附注一節）。|選擇性|
|/newGuids|設定此旗標會告知工具建立影像 GUID 符號的新值，而不是從現有的資訊清單中合併它。|選擇性|
|/newIds|設定此旗標會告知工具為每個影像建立新的識別碼符號值，而不是合併現有資訊清單中的值。|選擇性|
|/noLogo|設定此旗標會阻止產品和著作權資訊進行列印。|選擇性|
|/?|印出說明資訊。|選擇性|
|/help|印出說明資訊。|選用|

 **範例**

- ManifestFromResources/resources： D:\Images/assembly： My. Assembly. Name/isNative

- ManifestFromResources/resources:D:\Images\Image1.png;D： \Images\Image1.xaml/assembly： My. Assembly. Name/manifest： MyImageManifest. imagemanifest

- ManifestFromResources/resources:D:\Images\Image1.png;D： \Images\Image1.xaml/assembly： My. Assembly. Name/guidName： MyImages/newGuids/newIds

## <a name="notes"></a>注意

- 此工具僅支援 .png 和 .xaml 檔案。 任何其他影像或檔案類型都會被忽略。 剖析資源時遇到的所有不支援的類型都會產生警告。 如果在工具完成剖析資源時找不到支援的映射，將會產生錯誤

- 此工具會遵循 .png 影像的建議格式，將 .png 的大小/維度值設定為格式指定的大小，即使它與影像的實際大小不同也一樣。

- .Png 影像可以省略寬度/高度格式，但此工具會讀取影像的實際寬度/高度，並將其用於影像的大小/維度值。

- 在相同的影像區域上多次執行此工具。 imagemanifest 會產生重複的資訊清單專案，因為此工具會嘗試將影像區域分割成獨立映射，並將其新增至現有的資訊清單。

- 只應針對工具產生的資訊清單進行合併（省略/newGuids 或/newIds）。 已透過其他方式自訂或產生的資訊清單可能無法正確合併。

- 針對原生元件產生的資訊清單可能需要在產生之後手動編輯，使識別碼符號符合原生元件 .rc 檔中的資源識別碼。

## <a name="sample-output"></a>範例輸出
 **簡單映射資訊清單**

 映射資訊清單將類似于下列 .xml 檔案：

```xml
<?xml version="1.0" encoding="utf-8"?>
<!-- This file was generated by the ManifestFromResources tool.-->
<!-- Version: 14.0.15197 -->
<ImageManifest xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://schemas.microsoft.com/VisualStudio/ImageManifestSchema/2014">
  <Symbols>
    <String Name="Resources" Value="/My.Assembly.Name;Component/Resources/Images" />
    <Guid Name="AssetsGuid" Value="{fb41b7ef-6587-480c-aa27-5b559d42cfc9}" />
    <ID Name="MyImage" Value="0" />
  </Symbols>
  <Images>
    <Image Guid="$(AssetsGuid)" ID="$(MyImage)">
      <Source Uri="$(Resources)/Xaml/MyImage.xaml" />
      <Source Uri="$(Resources)/Png/MyImage.16.16.png">
        <Size Value="16" />
      </Source>
    </Image>
  </Images>
  <ImageLists />
</ImageManifest>
```

 **影像帶狀的影像資訊清單**

 影像帶狀的映射資訊清單會類似于此 .xml 檔案：

```xml
<?xml version="1.0" encoding="utf-8"?>
<!-- This file was generated by the ManifestFromResources tool.-->
<!-- Version: 14.0.15197 -->
<ImageManifest xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://schemas.microsoft.com/VisualStudio/ImageManifestSchema/2014">
  <Symbols>
    <String Name="Resources" Value="/My.Assembly.Name;Component/Resources/ImageStrip" />
    <Guid Name="AssetsGuid" Value="{fb41b7ef-6587-480c-aa27-5b559d42cfc9}" />
    <ID Name="MyImageStrip_0" Value="1" />
    <ID Name="MyImageStrip_1" Value="2" />
    <ID Name="MyImageStrip" Value="3" />
  </Symbols>
  <Images>
    <Image Guid="$(AssetsGuid)" ID="$(MyImageStrip_0)">
      <Source Uri="$(Resources)/MyImageStrip_0.png">
        <Size Value="16" />
      </Source>
    </Image>
    <Image Guid="$(AssetsGuid)" ID="$(MyImageStrip_1)">
      <Source Uri="$(Resources)/MyImageStrip_1.png">
        <Size Value="16" />
      </Source>
    </Image>
  </Images>
  <ImageLists>
    <ImageList Guid="$(AssetsGuid)" ID="$(MyImageStrip)">
      <ContainedImage Guid="$(AssetsGuid)" ID="$(MyImageStrip_0)" />
      <ContainedImage Guid="$(AssetsGuid)" ID="$(MyImageStrip_1)" />
    </ImageList>
  </ImageLists>
</ImageManifest>
```

 **原生元件影像資源的映射資訊清單**

 原生映射的映射資訊清單將類似于下列 .xml 檔案：

```xml
<?xml version="1.0" encoding="utf-8"?>
<!-- This file was generated by the ManifestFromResources tool.-->
<!-- Version: 14.0.15198 -->
<ImageManifest xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://schemas.microsoft.com/VisualStudio/ImageManifestSchema/2014">
  <Symbols>
    <String Name="Resources" Value="..\Assembly\Folder\My.Assembly.Name" />
    <Guid Name="AssetsGuid" Value="{442d8739-efde-46a4-8f29-e3a1e5e7f8b4}" />
    <ID Name="MyImage1" Value="0" />
    <ID Name="MyImage2" Value="1" />
  </Symbols>
  <Images>
    <Image Guid="$(AssetsGuid)" ID="$(MyImage1)">
      <Source Uri="$(Resources)">
        <Size Value="16" />
        <NativeResource ID="$(MyImage1)" Type="PNG" />
      </Source>
    </Image>
    <Image Guid="$(AssetsGuid)" ID="$(MyImage2)">
      <Source Uri="$(Resources)">
        <Size Value="16" />
        <NativeResource ID="$(MyImage2)" Type="PNG" />
      </Source>
    </Image>
  </Images>
  <ImageLists />
</ImageManifest>
```
