---
title: äº†è§£å¦‚ä½•ä½¿ç”¨ Live Unit Test ä¾†æ¸¬è©¦ç¨‹å¼ç¢¼
description: è‹¥è¦ç­è§£å¦‚ä½•ä½¿ç”¨ Live Unit Testingï¼Œè«‹å»ºç«‹ä»¥ .NET Standard ç‚ºç›®æ¨™çš„ç°¡å–®é¡åˆ¥åº«ï¼Œä¸¦å»ºç«‹ä»¥ .NET Core ç‚ºç›®æ¨™çš„ MSTest å°ˆæ¡ˆä»¥é€²è¡Œæ¸¬è©¦ã€‚
ms.custom: SEO-VS-2020
ms.date: 04/03/2020
ms.topic: how-to
helpviewer_keywords:
- Live Unit Testing
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- dotnet
ms.openlocfilehash: ce2376f2dc3cb6abeb11b328452defb891949558
ms.sourcegitcommit: 9ce13a961719afbb389fa033fbb1a93bea814aae
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/30/2020
ms.locfileid: "96329493"
---
# <a name="get-started-with-live-unit-testing"></a>Live Unit Testing çš„ä½¿ç”¨è€…å…¥é–€

ç•¶æ‚¨åœ¨ Visual Studio è§£æ±ºæ–¹æ¡ˆä¸­å•Ÿç”¨ Live Unit Testing æ™‚ï¼Œå®ƒæœƒä»¥è¦–è¦ºåŒ–æ–¹å¼å‘ˆç¾æ‚¨çš„æ¸¬è©¦æ¶µè“‹ç¯„åœå’Œæ¸¬è©¦ç‹€æ…‹ã€‚ ç•¶æ‚¨ä¿®æ”¹ç¨‹å¼ç¢¼æ™‚ï¼ŒLive Unit Testing ä¹Ÿæœƒå‹•æ…‹åœ°åŸ·è¡Œæ¸¬è©¦ï¼Œä¸¦åœ¨æ‚¨çš„è®Šæ›´å°è‡´æ¸¬è©¦å¤±æ•—æ™‚ç«‹å³é€šçŸ¥æ‚¨ã€‚

Live Unit Testing å¯ä»¥ç”¨ä¾†æ¸¬è©¦ä»¥ .NET Framework æˆ– .NET Core ç‚ºç›®æ¨™çš„è§£æ±ºæ–¹æ¡ˆã€‚ åœ¨æœ¬æ•™å­¸èª²ç¨‹ä¸­ï¼Œæ‚¨å°‡ç­è§£å¦‚ä½•è—‰ç”±å»ºç«‹ä»¥ .NET Standard ç‚ºç›®æ¨™çš„ç°¡å–®é¡åˆ¥åº«ä¾†ä½¿ç”¨ Live Unit Testingï¼Œè€Œä¸”æ‚¨å°‡å»ºç«‹ä»¥ .NET Core ç‚ºç›®æ¨™çš„ MSTest å°ˆæ¡ˆä»¥é€²è¡Œæ¸¬è©¦ã€‚

æ‚¨å¯ä»¥å¾ GitHub çš„ [MicrosoftDocs/visualstudio-docs](https://github.com/MicrosoftDocs/visualstudio-docs/tree/master/docs/test/samples/csharp/UtilityLibraries/) å­˜æ”¾åº«ä¸‹è¼‰å®Œæ•´ C# æ–¹æ¡ˆã€‚

## <a name="prerequisites"></a>å¿…è¦æ¢ä»¶

æœ¬æ•™å­¸èª²ç¨‹éœ€è¦æ‚¨å·²å®‰è£å…·æœ‰ **.Net Core è·¨å¹³è‡ºé–‹ç™¼** å·¥ä½œè² è¼‰çš„ Visual Studio Enterprise ç‰ˆæœ¬ã€‚

## <a name="create-the-solution-and-the-class-library-project"></a>å»ºç«‹æ–¹æ¡ˆå’Œé¡åˆ¥åº«å°ˆæ¡ˆ

é¦–å…ˆï¼Œå»ºç«‹åç‚º UtilityLibraries çš„ Visual Studio æ–¹æ¡ˆï¼Œå…¶ä¸­åŒ…å«å–®ä¸€ .NET Standard é¡åˆ¥åº«å°ˆæ¡ˆ StringLibraryã€‚

æ–¹æ¡ˆåªæ˜¯ä¸€æˆ–å¤šå€‹å°ˆæ¡ˆçš„å®¹å™¨ã€‚ è‹¥è¦å»ºç«‹ç©ºç™½æ–¹æ¡ˆï¼Œè«‹é–‹å•Ÿ Visual Studio ä¸¦åŸ·è¡Œä¸‹åˆ—ä½œæ¥­ï¼š

1. **File**  >  **New**  >  å¾æœ€ä¸Šå±¤çš„ Visual Studio åŠŸèƒ½è¡¨ä¸­ï¼Œé¸å– [æª”æ¡ˆæ–° **å°ˆæ¡ˆ**]ã€‚

1. åœ¨ç¯„æœ¬æœå°‹æ–¹å¡Šä¸­éµå…¥ [æ–¹æ¡ˆ]ï¼Œç„¶å¾Œé¸å– [ç©ºç™½æ–¹æ¡ˆ] ç¯„æœ¬ã€‚ å°‡å°ˆæ¡ˆå‘½åç‚º **UtilityLibraries**ã€‚

   ::: moniker range="vs-2017"

   ![[æ–°å¢å°ˆæ¡ˆ] å°è©±æ–¹å¡Š](./media/lut-start/new-solution.png)

   ::: moniker-end

1. å®Œæˆå»ºç«‹æ–¹æ¡ˆã€‚

ç¾åœ¨æ‚¨å·²å»ºç«‹è§£æ±ºæ–¹æ¡ˆï¼Œæ‚¨å°‡å»ºç«‹åç‚º StringLibrary çš„é¡åˆ¥åº«ï¼Œå…¶ä¸­åŒ…å«ä¸€äº›ç”¨æ–¼è™•ç†å­—ä¸²çš„æ“´å……æ–¹æ³•ã€‚

1. åœ¨ **æ–¹æ¡ˆç¸½ç®¡** ä¸­ï¼Œä»¥æ»‘é¼ å³éµæŒ‰ä¸€ä¸‹ UtilityLibraries æ–¹æ¡ˆï¼Œç„¶å¾Œé¸å– [**åŠ å…¥**  >  **æ–°å°ˆæ¡ˆ**]ã€‚

::: moniker range="vs-2017"

2. åœ¨ [æ–°å¢å°ˆæ¡ˆ] å°è©±æ–¹å¡Šä¸­ï¼Œé¸å– C# ç¯€é»ï¼Œç„¶å¾Œé¸å– [.NET Standard]ã€‚

   > [!NOTE]
   > ç”±æ–¼ç¨‹å¼åº«çš„ç›®æ¨™æ˜¯ .NET Standard è€Œä¸æ˜¯ç‰¹å®šçš„ .NET åŸ·è¡Œï¼Œå› æ­¤å¯ä»¥å¾ä»»ä½•æ”¯æ´è©²ç‰ˆæœ¬ .NET Standard çš„ .NET åŸ·è¡Œå‘¼å«ã€‚ å¦‚éœ€è©³ç´°è³‡è¨Šï¼Œè«‹åƒé–± [.NET Standard](/dotnet/standard/net-standard)ã€‚

3. åœ¨å³çª—æ ¼ä¸­é¸å– [**é¡åˆ¥åº«] ( .NET Standard)** ç¯„æœ¬ï¼Œç„¶å¾Œåœ¨ [**åç¨±**] æ–‡å­—æ–¹å¡Šä¸­è¼¸å…¥ **StringLibrary** ï¼Œå¦‚ä¸‹åœ–æ‰€ç¤ºï¼š

   ![[æ–°å¢å°ˆæ¡ˆ] å°è©±æ–¹å¡Š](./media/lut-start/add-project-cs.png)

4. é¸å– [ç¢ºå®š] å¯å»ºç«‹å°ˆæ¡ˆã€‚

::: moniker-end

::: moniker range=">=vs-2019"

2. åœ¨ç¯„æœ¬çš„æœå°‹æ–¹å¡Šä¸­éµå…¥ **é¡åˆ¥åº«**ï¼Œç„¶å¾Œé¸å– [é¡åˆ¥åº« (.NET Standard)] ç¯„æœ¬ã€‚ æŒ‰ [ä¸‹ä¸€æ­¥]  ã€‚

   > [!NOTE]
   > ç”±æ–¼ç¨‹å¼åº«çš„ç›®æ¨™æ˜¯ .NET Standard è€Œä¸æ˜¯ç‰¹å®šçš„ .NET åŸ·è¡Œï¼Œå› æ­¤å¯ä»¥å¾ä»»ä½•æ”¯æ´è©²ç‰ˆæœ¬ .NET Standard çš„ .NET åŸ·è¡Œå‘¼å«ã€‚ å¦‚éœ€è©³ç´°è³‡è¨Šï¼Œè«‹åƒé–± [.NET Standard](/dotnet/standard/net-standard)ã€‚

3. å°‡å°ˆæ¡ˆå‘½åç‚º **StringLibrary**ã€‚

4. æŒ‰ä¸€ä¸‹ [å»ºç«‹]  ä»¥å»ºç«‹å°ˆæ¡ˆã€‚

::: moniker-end

5. ä»¥ä¸‹åˆ—ç¨‹å¼ç¢¼å–ä»£ç¨‹å¼ç¢¼ç·¨è¼¯å™¨ä¸­çš„æ‰€æœ‰ç¾æœ‰ç¨‹å¼ç¢¼ï¼š

   [!code-csharp[StringLibrary source code](samples/csharp/utilitylibraries/stringlibrary/class1.cs)]

   StringLibrary æœ‰ä¸‰ç¨®éœæ…‹æ–¹æ³•ï¼š

   - å¦‚æœå­—ä¸²çš„é–‹é ­æ˜¯å¤§å¯«å­—å…ƒï¼Œå‰‡ `StartsWithUpper` æœƒå‚³å› `true`ï¼›å¦å‰‡æœƒå‚³å› `false`ã€‚

   - å¦‚æœå­—ä¸²çš„é–‹é ­æ˜¯å°å¯«å­—å…ƒï¼Œå‰‡ `StartsWithLower` æœƒå‚³å› `true`ï¼›å¦å‰‡æœƒå‚³å› `false`ã€‚

   - å¦‚æœå­—ä¸²åŒ…å«å…§åµŒç©ºç™½å­—å…ƒï¼Œå‰‡ `HasEmbeddedSpaces` æœƒå‚³å› `true`ï¼›å¦å‰‡æœƒå‚³å› `false`ã€‚

6. **Build**  >  å¾é ‚å±¤ Visual Studio åŠŸèƒ½è¡¨ä¸­é¸å– [çµ„å»º **çµ„å»ºæ–¹æ¡ˆ**]ã€‚ çµ„å»ºæ‡‰è©²æœƒæˆåŠŸã€‚

## <a name="create-the-test-project"></a>å»ºç«‹æ¸¬è©¦å°ˆæ¡ˆ

ä¸‹ä¸€æ­¥æ˜¯å»ºç«‹å–®å…ƒæ¸¬è©¦å°ˆæ¡ˆä¾†æ¸¬è©¦ StringLibrary ç¨‹å¼åº«ã€‚ åŸ·è¡Œä¸‹åˆ—æ­¥é©Ÿï¼Œä»¥å»ºç«‹å–®å…ƒæ¸¬è©¦ï¼š

1. åœ¨ **æ–¹æ¡ˆç¸½ç®¡** ä¸­ï¼Œä»¥æ»‘é¼ å³éµæŒ‰ä¸€ä¸‹ UtilityLibraries æ–¹æ¡ˆï¼Œç„¶å¾Œé¸å– [**åŠ å…¥**  >  **æ–°å°ˆæ¡ˆ**]ã€‚

::: moniker range="vs-2017"

2. åœ¨ [æ–°å¢å°ˆæ¡ˆ] å°è©±æ–¹å¡Šä¸­ï¼Œé¸å– C# ç¯€é»ï¼Œç„¶å¾Œé¸å– [.NET Core]ã€‚

   > [!NOTE]
   > æ‚¨ä¸éœ€è¦ä½¿ç”¨èˆ‡é¡åˆ¥åº«ç›¸åŒçš„èªè¨€ä¾†æ’°å¯«å–®å…ƒæ¸¬è©¦ã€‚

3. åœ¨å³çª—æ ¼ä¸­é¸å– [ **( .Net Core) ç¯„æœ¬çš„å–®å…ƒæ¸¬è©¦å°ˆæ¡ˆ**]ï¼Œç„¶å¾Œåœ¨ [**åç¨±**] æ–‡å­—æ–¹å¡Šä¸­è¼¸å…¥ **StringLibraryTests** ï¼Œå¦‚ä¸‹åœ–æ‰€ç¤ºï¼š

   ![å–®å…ƒæ¸¬è©¦å°ˆæ¡ˆçš„ [æ–°å¢å°ˆæ¡ˆ] å°è©±æ–¹å¡Š](./media/lut-start/add-unit-test-cs.png)

4. é¸å– [ç¢ºå®š] å¯å»ºç«‹å°ˆæ¡ˆã€‚

::: moniker-end

::: moniker range=">=vs-2019"

2. åœ¨ [ç¯„æœ¬æœå°‹] æ–¹å¡Šä¸­è¼¸å…¥ **å–®å…ƒæ¸¬è©¦** ï¼Œç„¶å¾Œé¸å– [ **( .net Core) ç¯„æœ¬çš„ MSTest æ¸¬è©¦å°ˆæ¡ˆ** ]ã€‚ æŒ‰ [ä¸‹ä¸€æ­¥]  ã€‚

3. å°‡å°ˆæ¡ˆå‘½åç‚º **StringLibraryTests**ã€‚

4. æŒ‰ä¸€ä¸‹ [å»ºç«‹]  ä»¥å»ºç«‹å°ˆæ¡ˆã€‚

::: moniker-end

   > [!NOTE]
   > æœ¬å…¥é–€æ•™å­¸èª²ç¨‹æœƒæ­é…ä½¿ç”¨ Live Unit Testing èˆ‡ MSTest æ¸¬è©¦æ¶æ§‹ã€‚ æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ xUnit å’Œ NUnit æ¸¬è©¦æ¶æ§‹ã€‚

5. å–®å…ƒæ¸¬è©¦å°ˆæ¡ˆç„¡æ³•è‡ªå‹•å­˜å–æ‰€æ¸¬è©¦çš„é¡åˆ¥ç¨‹å¼åº«ã€‚ æ‚¨å¯ä»¥æ–°å¢é¡åˆ¥åº«å°ˆæ¡ˆçš„åƒè€ƒï¼Œä»¥æä¾›æ¸¬è©¦ç¨‹å¼åº«å­˜å–æ¬Šã€‚ è‹¥è¦é€™æ¨£åšï¼Œè«‹ä»¥æ»‘é¼ å³éµæŒ‰ä¸€ä¸‹ `StringLibraryTests` å°ˆæ¡ˆï¼Œç„¶å¾Œé¸å– [**åŠ å…¥**  >  **åƒè€ƒ**]ã€‚ åœ¨ [ **åƒè€ƒç®¡ç†å“¡** ] å°è©±æ–¹å¡Šä¸­ï¼Œç¢ºèªå·²é¸å– [ **æ–¹æ¡ˆ** ] ç´¢å¼•æ¨™ç±¤ï¼Œç„¶å¾Œé¸å– StringLibrary å°ˆæ¡ˆï¼Œå¦‚ä¸‹åœ–æ‰€ç¤ºã€‚

   ![[åƒè€ƒç®¡ç†å“¡] å°è©±æ–¹å¡Š](./media/lut-start/add-reference.png)

6. å°‡ç¯„æœ¬æ‰€æä¾›çš„æœªå®šæ¡ˆå–®å…ƒæ¸¬è©¦ç¨‹å¼ç¢¼å–ä»£ç‚ºä¸‹åˆ—ç¨‹å¼ç¢¼ï¼š

   [!code-csharp[StringLibraryTest source code](samples/snippets/csharp/lut-start/unittest1.cs)]

7. é¸å–å·¥å…·åˆ—ä¸Šçš„ **å„²å­˜** åœ–ç¤ºï¼Œä»¥å„²å­˜å°ˆæ¡ˆã€‚

   å› ç‚ºå–®å…ƒæ¸¬è©¦ç¨‹å¼ç¢¼åŒ…å«ä¸€äº›é ASCII å­—å…ƒï¼Œæ‰€ä»¥æ‚¨æœƒçœ‹åˆ°ä¸‹åˆ—å°è©±æ–¹å¡Šï¼Œä»¥è­¦å‘Šç•¶æ‚¨å°‡æª”æ¡ˆå„²å­˜ç‚ºé è¨­ ASCII æ ¼å¼æ™‚ï¼ŒæŸäº›å­—å…ƒå°‡æœƒéºå¤±ã€‚

8. é¸æ“‡ [ç”¨å…¶ä»–ç·¨ç¢¼å„²å­˜] æŒ‰éˆ•ã€‚

   ![é¸æ“‡æª”æ¡ˆç·¨ç¢¼](media/lut-start/ascii-encoding.png)

9. åœ¨ [**é å…ˆå„²å­˜é¸é …**] å°è©±æ–¹å¡Šçš„ [**ç·¨ç¢¼**] ä¸‹æ‹‰å¼æ¸…å–®ä¸­ï¼Œé¸æ“‡ [ **Unicode (ä¸å«ç°½ç« çš„ utf-8) -å­—ç¢¼é  65001**]ï¼Œå¦‚ä¸‹åœ–æ‰€ç¤ºï¼š

   ![é¸æ“‡ UTF-8 ç·¨ç¢¼](media/lut-start/utf8-encoding.png)

10. **Build**  >  å¾æœ€ä¸Šå±¤çš„ Visual Studio åŠŸèƒ½è¡¨ä¸­é¸å– [çµ„å»º **é‡å»ºæ–¹æ¡ˆ**]ï¼Œä»¥ç·¨è­¯å–®å…ƒæ¸¬è©¦å°ˆæ¡ˆã€‚

æ‚¨å·²ç‚ºå…¶å»ºç«‹é¡åˆ¥åº«ä»¥åŠä¸€äº›å–®å…ƒæ¸¬è©¦ã€‚ æ‚¨ç¾åœ¨å·²å®Œæˆä½¿ç”¨ Live Unit Testing æ‰€éœ€çš„æº–å‚™å·¥ä½œã€‚

## <a name="enable-live-unit-testing"></a>å•Ÿç”¨ Live Unit Testing

åˆ°ç›®å‰ç‚ºæ­¢ï¼Œé›–ç„¶æ‚¨å·²æ’°å¯« StringLibrary é¡åˆ¥åº«çš„æ¸¬è©¦ï¼Œä½†å°šæœªåŸ·è¡Œé€™äº›æ¸¬è©¦ã€‚ Live Unit Testing æœƒåœ¨å•Ÿç”¨ä¹‹å¾Œè‡ªå‹•åŸ·è¡Œå®ƒå€‘ã€‚ è‹¥è¦é€™éº¼åšï¼Œè«‹åŸ·è¡Œä¸‹åˆ—ä½œæ¥­ï¼š

1. ï¼ˆé¸æ“‡æ€§ï¼‰é¸å–åŒ…å« StringLibrary ç¨‹å¼ç¢¼çš„ [ç¨‹å¼ç¢¼ç·¨è¼¯å™¨] è¦–çª—ã€‚ é€™å¯èƒ½æ˜¯é‡å° Visual Basic å°ˆæ¡ˆçš„ c # å°ˆæ¡ˆæˆ– *Class1* *Class1.cs* ã€‚  (æ­¤æ­¥é©Ÿå¯è®“æ‚¨åœ¨å•Ÿç”¨ Live Unit Testing ä¹‹å¾Œï¼Œä»¥è¦–è¦ºåŒ–æ–¹å¼æª¢æŸ¥æ¸¬è©¦çš„çµæœå’Œç¨‹å¼ç¢¼æ¶µè“‹ç¯„åœçš„ç¯„åœã€‚ ) 

1. é¸å– [**æ¸¬è©¦**  >  **Live Unit Testing**  >  å¾æœ€ä¸Šå±¤ Visual Studio] åŠŸèƒ½è¡¨ **é–‹å§‹**ã€‚

1. Visual Studio æœƒå•Ÿå‹• Live Unit Testï¼Œä»¥è‡ªå‹•åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦ã€‚

::: moniker range="vs-2017"
å®ŒæˆåŸ·è¡Œæ¸¬è©¦ä¹‹å¾Œï¼Œ**æ¸¬è©¦ç¸½ç®¡** æœƒé¡¯ç¤ºæ•´é«”çµæœå’Œå€‹åˆ¥æ¸¬è©¦çµæœã€‚ æ­¤å¤–ï¼Œ[ç¨‹å¼ç¢¼ç·¨è¼¯å™¨] è¦–çª—æœƒä»¥åœ–å½¢æ–¹å¼é¡¯ç¤ºæ¸¬è©¦ç¨‹å¼ç¢¼æ¶µè“‹ç¯„åœå’Œæ¸¬è©¦çµæœã€‚ å¦‚ä¸‹åœ–æ‰€ç¤ºï¼Œæ‰€æœ‰ä¸‰é …æ¸¬è©¦éƒ½å·²æˆåŠŸåŸ·è¡Œã€‚ å®ƒä¹Ÿæœƒé¡¯ç¤ºæˆ‘å€‘çš„æ¸¬è©¦å·²æ¶µè“‹ `StartsWithUpper` æ–¹æ³•ä¸­çš„æ‰€æœ‰ç¨‹å¼ç¢¼è·¯å¾‘ï¼Œè€Œä¸”å·²æˆåŠŸåŸ·è¡Œé€™äº›æ¸¬è©¦ (ä»¥ç¶ è‰²æ ¸å–è¨˜è™Ÿ "âœ“" æŒ‡å‡º)ã€‚ æœ€å¾Œï¼Œå®ƒæœƒé¡¯ç¤º StringLibrary ä¸­çš„å…¶ä»–æ–¹æ³•éƒ½æ²’æœ‰ç¨‹å¼ç¢¼æ¶µè“‹ç¯„åœ (ï¼Œä»¥è—è‰²ç·š "â–" ) è¡¨ç¤ºã€‚

![å•Ÿå‹•å³æ™‚å–®å…ƒæ¸¬è©¦ä¹‹å¾Œçš„ [æ¸¬è©¦ç€è¦½å™¨] å’Œ [ç¨‹å¼ç¢¼ç·¨è¼¯å™¨] è¦–çª—](media/lut-start/lut-results-cs.png)
::: moniker-end
::: moniker range=">=vs-2019"
ç•¶æ¸¬è©¦å®ŒæˆåŸ·è¡Œæ‚¨çš„æ¸¬è©¦æ™‚ï¼Œ **Live Unit Testing** æœƒé¡¯ç¤ºæ•´é«”çµæœå’Œå€‹åˆ¥æ¸¬è©¦çš„çµæœã€‚ æ­¤å¤–ï¼Œ[ç¨‹å¼ç¢¼ç·¨è¼¯å™¨] è¦–çª—æœƒä»¥åœ–å½¢æ–¹å¼é¡¯ç¤ºæ¸¬è©¦ç¨‹å¼ç¢¼æ¶µè“‹ç¯„åœå’Œæ¸¬è©¦çµæœã€‚ å¦‚ä¸‹åœ–æ‰€ç¤ºï¼Œæ‰€æœ‰ä¸‰é …æ¸¬è©¦éƒ½å·²æˆåŠŸåŸ·è¡Œã€‚ å®ƒä¹Ÿæœƒé¡¯ç¤ºæˆ‘å€‘çš„æ¸¬è©¦å·²æ¶µè“‹ `StartsWithUpper` æ–¹æ³•ä¸­çš„æ‰€æœ‰ç¨‹å¼ç¢¼è·¯å¾‘ï¼Œè€Œä¸”å·²æˆåŠŸåŸ·è¡Œé€™äº›æ¸¬è©¦ (ä»¥ç¶ è‰²æ ¸å–è¨˜è™Ÿ "âœ“" æŒ‡å‡º)ã€‚ æœ€å¾Œï¼Œå®ƒæœƒé¡¯ç¤º StringLibrary ä¸­çš„å…¶ä»–æ–¹æ³•éƒ½æ²’æœ‰ç¨‹å¼ç¢¼æ¶µè“‹ç¯„åœ (ï¼Œä»¥è—è‰²ç·š "â–" ) è¡¨ç¤ºã€‚

![å•Ÿå‹•å³æ™‚å–®å…ƒæ¸¬è©¦ä¹‹å¾Œçš„ [å³æ™‚æ¸¬è©¦ç€è¦½å™¨] å’Œ [ç¨‹å¼ç¢¼ç·¨è¼¯å™¨] è¦–çª—](media/lut-start/vs-2019/lut-results-cs.png)
::: moniker-end

æ‚¨ä¹Ÿå¯ä»¥åœ¨ [ç¨‹å¼ç¢¼ç·¨è¼¯å™¨] è¦–çª—ä¸­é¸å–ç‰¹å®šçš„ç¨‹å¼ç¢¼æ¶µè“‹ç¯„åœåœ–ç¤ºï¼Œä»¥å–å¾—æ¸¬è©¦æ¶µè“‹ç¯„åœå’Œæ¸¬è©¦çµæœçš„è©³ç´°è³‡è¨Šã€‚ è‹¥è¦æª¢æŸ¥æ­¤è©³ç´°è³‡æ–™ï¼Œè«‹åŸ·è¡Œä¸‹åˆ—ä½œæ¥­ï¼š

1. æŒ‰ä¸€ä¸‹ `StartsWithUpper` æ–¹æ³•ä¹‹ `if (String.IsNullOrWhiteSpace(s))` è¡Œä¸­çš„ç¶ è‰²æ ¸å–è¨˜è™Ÿã€‚ å¦‚ä¸‹åœ–æ‰€ç¤ºï¼ŒLive Unit Testing è¡¨ç¤ºä¸‰é …æ¸¬è©¦æ¶µè“‹è©²ç¨‹å¼ç¨‹å¼ç¢¼ï¼Œè€Œä¸”å…¨éƒ¨éƒ½å·²æˆåŠŸåŸ·è¡Œã€‚

   !['if' æ¢ä»¶é™³è¿°å¼çš„ç¨‹å¼ç¢¼æ¶µè“‹ç¯„åœ](media/lut-start/code-coverage-cs1.png)

1. æŒ‰ä¸€ä¸‹ `StartsWithUpper` æ–¹æ³•ä¹‹ `return Char.IsUpper(s[0])` è¡Œä¸­çš„ç¶ è‰²æ ¸å–è¨˜è™Ÿã€‚ å¦‚ä¸‹åœ–æ‰€ç¤ºï¼ŒLive Unit Testing æŒ‡å‡ºåªæœ‰å…©å€‹æ¸¬è©¦æ¶µè“‹è©²ç¨‹å¼ç¨‹å¼ç¢¼ï¼Œè€Œä¸”å…¨éƒ¨éƒ½å·²æˆåŠŸåŸ·è¡Œã€‚

   ![return é™³è¿°å¼çš„ç¨‹å¼ç¢¼æ¶µè“‹ç¯„åœ](media/lut-start/code-coverage-cs2.png)

Live Unit Testing æ‰€è­˜åˆ¥çš„ä¸»è¦å•é¡Œæ˜¯ä¸å®Œæ•´çš„ç¨‹å¼ç¢¼æ¶µè“‹ç¯„åœã€‚ æ‚¨å°‡åœ¨ä¸‹ç¯€ä¸­è§£æ±ºå®ƒã€‚

## <a name="expand-test-coverage"></a>å±•é–‹æ¸¬è©¦æ¶µè“‹ç¯„åœ

åœ¨æœ¬ç¯€ä¸­ï¼Œæ‚¨æœƒå°‡å–®å…ƒæ¸¬è©¦æ“´å……è‡³ `StartsWithLower` æ–¹æ³•ã€‚ ç•¶æ‚¨é€™éº¼åšæ™‚ï¼ŒLive Unit Testing æœƒå‹•æ…‹ç¹¼çºŒæ¸¬è©¦æ‚¨çš„ç¨‹å¼ç¢¼ã€‚

è‹¥è¦å°‡ç¨‹å¼ç¢¼æ¶µè“‹ç¯„åœæ“´å……è‡³ `StartsWithLower` æ–¹æ³•ï¼Œè«‹åŸ·è¡Œä¸‹åˆ—ä½œæ¥­ï¼š

1. å°‡ä¸‹åˆ— `TestStartsWithLower` å’Œ `TestDoesNotStartWithLower` æ–¹æ³•æ–°å¢è‡³å°ˆæ¡ˆçš„æ¸¬è©¦åŸå§‹ç¨‹å¼æª”ï¼š

    [!code-csharp[StringLibraryTest source code](samples/snippets/csharp/lut-start/unittest2.cs#1)]

1. è—‰ `DirectCallWithNullOrEmpty` ç”±åœ¨å‘¼å«æ–¹æ³•ä¹‹å¾Œç«‹å³æ–°å¢ä¸‹åˆ—ç¨‹å¼ç¢¼ä¾†ä¿®æ”¹æ–¹æ³• [`Microsoft.VisualStudio.TestTools.UnitTesting.Assert.IsFalse`](/dotnet/api/microsoft.visualstudio.testtools.unittesting.assert.isfalse) ã€‚

    [!code-csharp[StringLibraryTest source code](samples/snippets/csharp/lut-start/unittest2.cs#2)]

1. Live Unit Testing æœƒåœ¨æ‚¨ä¿®æ”¹åŸå§‹ç¨‹å¼ç¢¼æ™‚è‡ªå‹•åŸ·è¡Œæ–°çš„å’Œä¿®æ”¹éçš„æ¸¬è©¦ã€‚ å¦‚ä¸‹åœ–æ‰€ç¤ºï¼Œæ‰€æœ‰æ¸¬è©¦ï¼ˆåŒ…æ‹¬æ‚¨å·²æ–°å¢çš„å…©å€‹æ¸¬è©¦ï¼Œä»¥åŠæ‚¨ä¿®æ”¹éçš„æ‰€æœ‰æ¸¬è©¦ï¼‰éƒ½å·²æˆåŠŸã€‚

   ::: moniker range="vs-2017"
   ![å±•é–‹æ¸¬è©¦æ¶µè“‹ç¯„åœä¹‹å¾Œçš„ Test Explorer](media/lut-start/test-dynamic.png)
   ::: moniker-end
   ::: moniker range=">=vs-2019"
   ![å±•é–‹æ¸¬è©¦æ¶µè“‹ç¯„åœä¹‹å¾Œçš„å³æ™‚æ¸¬è©¦ç€è¦½å™¨](media/lut-start/vs-2019/test-dynamic.png)
   ::: moniker-end

1. åˆ‡æ›è‡³åŒ…å« StringLibrary é¡åˆ¥ä¹‹åŸå§‹ç¨‹å¼ç¢¼çš„è¦–çª—ã€‚ Live Unit Testing ç¾åœ¨æœƒé¡¯ç¤ºæˆ‘å€‘çš„ç¨‹å¼ç¢¼æ¶µè“‹ç¯„åœæ“´å……è‡³ `StartsWithLower` æ–¹æ³•ã€‚

    ![StartsWithLower æ–¹æ³•çš„ç¨‹å¼ç¢¼æ¶µè“‹ç¯„åœ](media/lut-start/lut-extended-cs.png)

åœ¨æŸäº›æƒ…æ³ä¸‹ï¼Œ **æ¸¬è©¦ç€è¦½å™¨** ä¸­çš„æˆåŠŸæ¸¬è©¦å¯èƒ½æœƒå‘ˆç¾ç°è‰²ã€‚é€™è¡¨ç¤ºæ¸¬è©¦ç›®å‰æ­£åœ¨åŸ·è¡Œï¼Œæˆ–æ¸¬è©¦å°šæœªå†æ¬¡åŸ·è¡Œï¼Œå› ç‚ºæ²’æœ‰ä»»ä½•ç¨‹å¼ç¢¼è®Šæ›´æœƒå½±éŸ¿è‡ªä¸Šæ¬¡åŸ·è¡Œå¾Œçš„æ¸¬è©¦ã€‚

æˆªè‡³ç›®å‰ç‚ºæ­¢ï¼Œæ‰€æœ‰æ¸¬è©¦å‡ç‚ºæˆåŠŸã€‚ åœ¨ä¸‹ç¯€ä¸­ï¼Œæˆ‘å€‘å°‡æª¢æŸ¥å¦‚ä½•è™•ç†æ¸¬è©¦å¤±æ•—ã€‚

## <a name="handle-a-test-failure"></a>è™•ç†æ¸¬è©¦å¤±æ•—

åœ¨æœ¬ç¯€ä¸­ï¼Œæ‚¨å°‡æ¢ç´¢å¦‚ä½•ä½¿ç”¨ Live Unit Testing ä¾†è­˜åˆ¥ã€ç–‘é›£æ’è§£å’Œè§£æ±ºæ¸¬è©¦å¤±æ•—ã€‚ åšæ³•æ˜¯å°‡æ¸¬è©¦æ¶µè“‹ç¯„åœå±•é–‹è‡³ `HasEmbeddedSpaces` æ–¹æ³•ã€‚

1. å°‡ä¸‹åˆ—æ–¹æ³•æ–°å¢è‡³æ¸¬è©¦æª”æ¡ˆï¼š

    [!code-csharp[The TestHasEmbeddedSpaces test method](samples/snippets/csharp/lut-start/unittest2.cs#3)]

1. ç•¶æ¸¬è©¦åŸ·è¡Œæ™‚ï¼ŒLive Unit Testing æŒ‡å‡º `TestHasEmbeddedSpaces` æ–¹æ³•å·²å¤±æ•—ï¼Œå¦‚ä¸‹åœ–æ‰€ç¤ºï¼š

   ::: moniker range="vs-2017"
   ![æ¸¬è©¦ç€è¦½å™¨å ±å‘Šå¤±æ•—çš„æ¸¬è©¦](media/lut-start/test-failure.png)
   ::: moniker-end
   ::: moniker range=">=vs-2019"
   ![Live Test Explorer å ±å‘Šæ¸¬è©¦å¤±æ•—](media/lut-start/vs-2019/test-failure.png)
   ::: moniker-end

1. é¸å–é¡¯ç¤ºç¨‹å¼åº«ç¨‹å¼ç¢¼çš„è¦–çª—ã€‚ Live Unit Testing å·²æ“´å……æ–¹æ³•çš„ç¨‹å¼ç¢¼æ¶µè“‹ç¯„åœ `HasEmbeddedSpaces` ã€‚ å®ƒä¹Ÿæœƒåœ¨å¤±æ•—æ¸¬è©¦æ‰€æ¶µè“‹çš„ç¨‹å¼è¡Œä¸­æ–°å¢ç´…è‰² "ğŸ©"ï¼Œä»¥å ±å‘Šæ¸¬è©¦å¤±æ•—ã€‚

1. å°‡æ¸¸æ¨™åœç•™åœ¨å« `HasEmbeddedSpaces` æ–¹æ³•ç°½ç« çš„è¡Œä¸Šæ–¹ã€‚ Live Unit Testing æœƒé¡¯ç¤ºä¸€å€‹å·¥å…·æç¤ºï¼Œå ±å‘Šè©²æ–¹æ³•æ˜¯å¦åŒ…å«åœ¨ä¸€é …æ¸¬è©¦ä¸­ï¼Œå¦‚ä¸‹åœ–æ‰€ç¤ºï¼š

   ![æ¸¬è©¦å¤±æ•—çš„ Live Unit Testing è³‡è¨Š](media/lut-start/test-failure-info-cs.png)

1. é¸å–å¤±æ•—çš„ **TestHasEmbeddedSpaces** æ¸¬è©¦ã€‚ Live Unit Testing æä¾›å¹¾å€‹é¸é …ï¼Œä¾‹å¦‚åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦å’Œæ‰€æœ‰æ¸¬è©¦çš„æ¸¬è©¦ï¼Œå¦‚ä¸‹åœ–æ‰€ç¤ºï¼š

   ::: moniker range="vs-2017"
   ![æ¸¬è©¦å¤±æ•—çš„ Live Unit Testing é¸é …](media/lut-start/test-failure-options.png)
   ::: moniker-end
   ::: moniker range=">=vs-2019"
   ![æ¸¬è©¦å¤±æ•—çš„ Live Unit Testing é¸é …](media/lut-start/vs-2019/test-failure-options.png)
   ::: moniker-end

1. é¸å– [ **å…¨éƒ¨èª¿è©¦** ] ä»¥åµæ¸¬å¤±æ•—çš„æ¸¬è©¦ã€‚

1. Visual Studio æœƒä»¥åµéŒ¯æ¨¡å¼åŸ·è¡Œæ¸¬è©¦ã€‚

   æ¸¬è©¦æœƒå°‡é™£åˆ—ä¸­çš„æ¯å€‹å­—ä¸²æŒ‡æ´¾çµ¦åç‚ºçš„è®Šæ•¸ `phrase` ï¼Œä¸¦å°‡å®ƒå‚³éçµ¦ `HasEmbeddedSpaces` æ–¹æ³•ã€‚ assert é‹ç®—å¼ç¬¬ä¸€æ¬¡ç‚º `false` æ™‚ï¼ŒåŸ·è¡Œç¨‹å¼æœƒæš«åœä¸¦å«ç”¨åµéŒ¯å·¥å…·ã€‚ ä¸‹åœ–é¡¯ç¤ºç”±æ–¹æ³•å‘¼å«ä¸­éé æœŸå€¼æ‰€ç”¢ç”Ÿçš„ä¾‹å¤–ç‹€æ³å°è©±æ–¹å¡Š [`Microsoft.VisualStudio.TestTools.UnitTesting.Assert.IsTrue`](/dotnet/api/microsoft.visualstudio.testtools.unittesting.assert.istrue) ã€‚

   ![Live Unit Testing ä¾‹å¤–ç‹€æ³å°è©±æ–¹å¡Š](media/lut-start/exception-dialog-cs.png)

   æ­¤å¤–ï¼ŒVisual Studio æä¾›çš„æ‰€æœ‰åµéŒ¯å·¥å…·éƒ½å¯å”åŠ©æˆ‘å€‘ç–‘é›£æ’è§£å¤±æ•—çš„æ¸¬è©¦ï¼Œå¦‚ä¸‹åœ–æ‰€ç¤ºï¼š

   ![Visual Studio èª¿è©¦å·¥å…·](media/lut-start/debugging-tools-cs.png)

   è«‹æ³¨æ„ï¼Œåœ¨ `phrase` è®Šæ•¸å€¼ç‚º "Name\tDescription" (å³é™£åˆ—çš„ç¬¬äºŒå€‹é …ç›®) çš„ [è‡ªå‹•è®Šæ•¸] è¦–çª—ä¸­ã€‚ æ¸¬è©¦æ–¹æ³•é æœŸ `HasEmbeddedSpaces` åœ¨æ”¶åˆ°æ­¤å­—ä¸²æ™‚å‚³å› `true`ï¼›ä½†å»å‚³å› `false`ã€‚ é¡¯ç„¶ï¼Œå®ƒç„¡æ³•å°‡ "\t" (å®šä½å­—å…ƒ) è¾¨è­˜ç‚ºå…§åµŒç©ºæ ¼ã€‚

1. é¸å– [ **Debug**  >  **Continue**]ã€æŒ‰ **F5**ï¼Œæˆ–æŒ‰ä¸€ä¸‹å·¥å…·åˆ—ä¸Šçš„ [**ç¹¼çºŒ**] æŒ‰éˆ•ï¼Œç¹¼çºŒåŸ·è¡Œæ¸¬è©¦ç¨‹å¼ã€‚ å› ç‚ºç™¼ç”Ÿç„¡æ³•è™•ç†çš„ä¾‹å¤–ç‹€æ³ï¼Œæ‰€ä»¥æ¸¬è©¦çµ‚æ­¢ã€‚
é€™æä¾›åˆæ­¥èª¿æŸ¥ Bug çš„è¶³å¤ è³‡è¨Šã€‚ `TestHasEmbeddedSpaces` (æ¸¬è©¦å¸¸å¼) çš„å‡è¨­éŒ¯èª¤ï¼Œæˆ– `HasEmbeddedSpaces` æœªæ­£ç¢ºåœ°è¾¨è­˜æ‰€æœ‰å…§åµŒç©ºæ ¼ã€‚

1. è‹¥è¦è¨ºæ–·ä¸¦ä¿®æ­£å•é¡Œï¼Œè«‹å¾ `StringLibrary.HasEmbeddedSpaces` æ–¹æ³•è‘—æ‰‹ã€‚ æŸ¥çœ‹ `HasEmbeddedSpaces` æ–¹æ³•ä¸­çš„æ¯”è¼ƒã€‚ å®ƒæœƒå°‡å…§åµŒç©ºæ ¼è¦–ç‚º U+0020ã€‚ ä¸éï¼ŒUnicode Standard åŒ…å«è¨±å¤šå…¶ä»–ç©ºæ ¼å­—å…ƒã€‚ é€™å¯èƒ½è¡¨ç¤ºä¸æ­£ç¢ºåœ°æ¸¬è©¦ç¨‹å¼åº«ç¨‹å¼ç¢¼çš„ç©ºæ ¼å­—å…ƒã€‚

1. å°‡ç›¸ç­‰æ¯”è¼ƒå–ä»£ç‚º <xref:System.Char.IsWhiteSpace%2A?displayProperty=fullName> æ–¹æ³•å‘¼å«ï¼š

    [!code-csharp[The TestHasEmbeddedSpaces test method](samples/snippets/csharp/lut-start/program2.cs#1)]

1. Live Unit Testing æœƒè‡ªå‹•é‡æ–°é‹è¡Œå¤±æ•—çš„æ¸¬è©¦æ–¹æ³•ã€‚

   Live Unit Testing æœƒé¡¯ç¤ºæ›´æ–°å¾Œçš„çµæœï¼Œé€™ä¹Ÿæœƒå‡ºç¾åœ¨ [ç¨‹å¼ç¢¼ç·¨è¼¯å™¨] è¦–çª—ä¸­ã€‚

## <a name="see-also"></a>å¦è«‹åƒé–±

- [Visual Studio ä¸­çš„ Live Unit Testing](live-unit-testing.md)
- [Live Unit Testing å¸¸è¦‹å•é¡Œé›†](live-unit-testing-faq.md)
