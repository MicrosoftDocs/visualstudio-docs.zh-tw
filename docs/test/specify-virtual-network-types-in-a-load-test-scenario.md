---
title: '指定虛擬網路類型 (負載測試) '
description: 瞭解如何使用網路混合來建立使用者與應用程式互動方式的更接近近似值。
ms.custom: SEO-VS-2020
ms.date: 10/19/2016
ms.topic: how-to
helpviewer_keywords:
- load tests, scenarios
- load tests, adding networks
- load tests, removing networks
- load tests, virtual networks
- network mix
ms.assetid: 3c4f7874-081a-4ec4-9510-4d6d7d863a11
author: mikejo5000
ms.author: mikejo
manager: jmartens
ms.openlocfilehash: 7783c8f90f1e289f8e13ed2bd85e8263edec3408
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 02/08/2021
ms.locfileid: "99894552"
---
# <a name="specify-virtual-network-types-in-a-load-test-scenario"></a>在負載測試情節中指定虛擬網路類型

「網路混合」提供在負載測試情節中更真實的模擬負載方法。 負載是以網路類型的異質混合，而非使用單一網路類型所產生。 您會更貼切地呈現使用者與應用程式的互動方式。

網路混合會指定一位虛擬使用者執行特定「網路設定檔」的可能性。 網路設定檔則可模擬應用程式層的網路頻寬， 但它並不會模擬延遲時間 (Latency)。

建立負載測試時，您可能想模擬該負載透過一或多種網路連接類型產生。 網路混合提供數種網路類型。 網路混合會模擬不同的網路。 當您選擇 `Cable-DSL 1.5Mbps` 之類的選項時，等候時間會插入測試內，以便模擬選取的頻寬。

網路混合的運作方式和其他混合選項類似。 與某個虛擬使用者關聯的網路類型，是依照網路混合隨意選擇的。 該使用者的測試會使用特定的網路類型執行，視您在混合中指定的可能性而定。

指定網路混合之後，便可加入和移除網路類型。 您還可以使用混合控制，變更網路混合的散發。

混合控制項可讓您輕鬆調整情境中網路的分佈。

如需詳細資訊，請參閱 [關於混合控制項](../test/specify-virtual-network-types-in-a-load-test-scenario.md)。

[!INCLUDE [web-load-test-deprecated](includes/web-load-test-deprecated.md)]

## <a name="true-network-emulation"></a>實際網路模擬

Visual Studio 會針對所有測試類型 (包括負載測試) 使用軟體實際網路模擬。 實際網路模擬會藉由直接操作網路封包，來模擬網路狀況。 實際網路模擬器可以使用可靠的實體連結 (如乙太網路)，來同時模擬有線和無線網路。 下列網路屬性會納入實際網路模擬中：

- 網路的來回時間 (延遲)

- 可用的頻寬量

- 佇列行為

- 封包遺失

- 封包重新排序

- 錯誤傳用

實際網路模擬在根據 IP 位址或 TCP、UDP 和 ICMP 之類通訊協定來篩選網路封包上，也提供了相當的彈性。

網路架構應用程式開發人員和測試人員可以使用實際網路模擬，來模擬所要的測試環境、評定效能、預測變更的影響或者做出有關技術最佳化的決策。 與硬體測試平台相較之下，實際網路模擬是成本更低但彈性更高的一種解決方案。

## <a name="to-add-new-networks-to-a-scenario"></a>將新網路加入至情節

1. 在針對情節指定網路混合的過程中，選擇 [新增]。

     新的網路項目就會加入至方格。

    > [!NOTE]
    > 若要顯示 [編輯網路混合] 對話方塊，請以滑鼠右鍵按一下現有情節，然後選擇 [編輯網路混合]。

2. 在 [網路類型] 資料行中，選擇新項目的箭號。 選擇所需的網路類型。

3. (選擇性) 調整混合控制項以指定測試分佈。 如需詳細資訊，請參閱 [關於混合控制項](../test/specify-virtual-network-types-in-a-load-test-scenario.md)。

4. 完成新增網路時，選擇 [確定]。

## <a name="to-remove-networks-from-a-scenario"></a>從情節移除網路

1. 開啟負載測試。

2. 以滑鼠右鍵按一下您要移除網路的情節，並選擇 [編輯網路混合]。 [編輯網路混合] 對話方塊隨即顯示。

3. 在方格中選取網路，然後選擇 [移除]。

4. (選擇性) 調整混合控制項以指定測試分佈。 如需詳細資訊，請參閱 [關於混合控制項](../test/specify-virtual-network-types-in-a-load-test-scenario.md)。

5. 完成移除網路後，選擇 [確定]。

## <a name="about-the-mix-control"></a>關於混合控制項

混合控制項可讓您在負載測試情節中，調整分佈在測試、瀏覽器類型或網路類型中的負載百分比。 若要調整百分比值，請移動滑桿。 調整網路類型混合可指定在負載測試情節中，一位虛擬使用者執行特定網路設定檔的可能性。

當您移動滑桿時，所有可用項目的百分比值就會變更。 如果您有兩個以上的項目，您所新增或移除的數量會在其他項目間平均分佈。 您無法覆寫這個行為。 如果您針對特定項目選取鎖定資料行中的核取方塊，就會鎖定該項目所指定的百分比值。 之後，當您移動滑桿時，您所新增或移除的數量僅會套用到其餘未鎖定的所有項目。

[均分] 按鈕用於平均配置所有項目間的百分比值。 例如，如果您有三個項目，選擇 [均分] 會將百分比值設定為 34、33 與 33。

> [!WARNING]
> [均分] 按鈕會覆寫所有已鎖定的項目。

您也可以直接在資料行中輸入百分比值， **%** 而不是使用滑杆。 如果您直接輸入百分比值，其他項目就不會自動調整。

> [!NOTE]
> 當總計未新增至100%，或輸入資料行的百分比值為十進位時，滑杆會停用 **%** 。

當您手動輸入百分比值時，應確認所有項目的總和為 100%。 當您儲存混合時，如果總和不是 100%，系統會提示您接受該百分比值，或返回予以調整。 如果您選擇接受此設定，則會按比例分配至 100%。  例如，如果您有兩個項目，而且手動設定為 80% 和 40%。第一個項目會被設定為 66.67% (80 除以 120)，而第二個項目則會被設定為 33.33% (40 除以 120)。
