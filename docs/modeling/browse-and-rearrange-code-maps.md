---
title: 瀏覽和重新排列 Code Map
ms.date: 11/04/2016
ms.topic: conceptual
f1_keywords:
- vs.progression.dgmlgraph.layouthelp
- vs.progression.graphdocument
- vs.progression.dgmlgraph.message.notUlt.noexpandgroup
- vs.progression.colorsetpicker
- vs.progression.iconsetpicker
helpviewer_keywords:
- Visual Studio Ultimate, dependency graphs
- code visualization [Visual Studio ALM]
- graph documents, browsing
- Visual Studio ALM, dependency graphs
- code visualization
- Visual Studio ALM, graph documents
- Visual Studio Ultimate, graph documents
- dependency graphs, browsing
author: JoshuaPartlow
ms.author: joshuapa
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 8e38308c5bb94028fa17e78740da2b0df2779447
ms.sourcegitcommit: 95f26af1da51d4c83ae78adcb7372b32364d8a2b
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/13/2020
ms.locfileid: "79302963"
---
# <a name="browse-and-rearrange-code-maps"></a>瀏覽和重新排列 Code Map

重新排列 Code Map 上的項目，使其更容易閱讀與提升其效能。

您可以自訂 Code Map，卻不影響方案的基礎程式碼。 這在您想專注在主要程式碼項目或交換關於程式碼的想法時會很有用。 例如，若要反白顯示感興趣的區域，您可以選取對應上的程式碼項目並加以篩選，變更程式碼項目和連結的樣式，隱藏或刪除程式碼項目，以及使用屬性、分類或群組來組織程式碼項目。

 **需求**

- 若要建立 Code Map，您必須擁有 Visual Studio Enterprise。

- 您可以檢視 Code Map，然後有限制地編輯 Visual Studio Professional 中的 Code Map。

## <a name="get-started-working-with-code-maps"></a><a name="ManageLargeGraphs"></a>開始使用代碼映射

創建代碼映射（有關詳細資訊，請參閱[解決方案的映射依賴項](../modeling/map-dependencies-across-your-solutions.md)）。 如果不想等待地圖完成生成，請隨時按一下 **"取消"** 連結以停止生成過程。 不過，這樣做就看不到所有相依性和連結的詳細資訊。

產生對應之後，請開始利用這些祕訣檢閱程式碼：

- 看看程式碼中的自然相依性叢集。 在地圖工具列上](../modeling/media/quickclustersicon.gif)，在圖形工具列上選擇 **"佈局**"**快速群集**![快速群集按鈕。 請參閱[更改地圖佈局](#Selecting)。

     ![依賴項圖&#45;快速群集佈局](../modeling/media/dependencygraph_quickclusters.png)

- 分組相關的節點，將對應組織成較小的區域。 摺疊群組只查看群組間相依性，這會自動出現。 請參閱[組節點](#OrganizeGroups)。

- 使用篩選以簡化對應，並著重於您感興趣的節點或連結類型。 請參閱[篩選器節點和連結](#FilterNodes)。

- 大型對應的效能最大化。 有關詳細資訊[，請參閱解決方案的映射依賴項](../modeling/map-dependencies-across-your-solutions.md)。例如，在地圖工具列上打開 **"跳過生成**"，以便在更新地圖上的專案時，Visual Studio 不會重新生成解決方案。

## <a name="change-the-map-layout"></a><a name="Selecting"></a>更改地圖佈局

|**自**|**執行這些步驟**|
|-|-|
|按特定方向排列整個對應的相依性流程。 這有助於了解程式碼中的架構圖層。|在地圖工具列上，選擇 **"佈局**"，然後：<br /><br /> -   **從上到下**![從上到下圖表按鈕](../modeling/media/topbottomgraphbutton.gif)<br />-   **從下到上，**![從上到下圖形按鈕](../modeling/media/bottomtopgraphbutton.gif)<br />-   **從左至右**![從左至右佈局按鈕](../modeling/media/leftrightgraphbutton.gif)<br />-   **從右至左**![從右至左圖形按鈕](../modeling/media/rightleftgraphbutton.gif)|
|在程式碼的自然相依性叢集裡，查看叢集中心相依性最高的節點，和叢集外相依性最低的節點。|在地圖工具列上，選擇 **"佈局**"，然後在圖形工具列](../modeling/media/quickclustersicon.gif)上**選擇快速群集**![快速群集按鈕。|
|在對應上選取一或多個節點。|按一下節點即可選取它。 要選擇或取消選擇多個節點，請在按一下時按住**CTRL。**<br /><br /> 鍵盤：按**TAB**或使用方向鍵將虛線焦點矩形移動到節點，然後按**空格**將其選中。 按**CTRL** + **空間**到多選擇或取消選擇節點。|
|在對應上自由移動特定的節點。|拖曳以移動節點。 要在拖動節點時將其他節點和連結移開，請按住**SHIFT**鍵。<br /><br /> 鍵盤：按住**CTRL**並按下方向鍵。|
|變更群組內的配置，不受對應上其他節點及群組的影響。|選取節點並開啟捷徑功能表。 選擇**佈局**並選擇配置樣式。<br /><br /> - 或 -<br /><br /> 選取並展開節點，以顯示子節點。 按一下節點標題以顯示組彈出工具列，並打開 **"更改組**![依賴項"圖形的配置樣式&#45;組工具列&#45;佈局](../modeling/media/dependencygraph_grouptoolbar.gif)清單。 選擇樹佈局之一、**快速群集**或**清單視圖**（將組的內容排列到清單中）。<br /><br /> 有關詳細資訊，請參閱[組節點](#OrganizeGroups)。|
|復原對應中的動作。|按**CTRL** + **Z**或使用視覺化工作室**撤銷**命令。|

## <a name="browse-the-map"></a><a name="Explore"></a>流覽地圖

|**自**|**執行這些步驟**|
|-|-|
|掃描對應。|使用滑鼠自由拖曳對應。<br /><br /> - 或 -<br /><br /> 按住**SHIFT**並旋轉滑鼠滾輪以水準滾動。 按住**SHIFT** + **CTRL**並旋轉滑鼠滾輪以水準滾動。|
|放大或縮小對應。|旋轉滑鼠滾輪。<br /><br /> - 或 -<br /><br /> 使用代碼映射工具列上的 **"縮放**下拉清單"。<br /><br /> - 或 -<br /><br /> 使用鍵盤快速鍵。 要放大，請按**CTRL = SHIFT = 。** (句點)。 要縮小，請按**CTRL = SHIFT = （** 逗號）。|
|使用滑鼠放大特定的區域。|按住滑鼠右按鈕，同時繪製矩形套住您感興趣的區域。|
|調整大小，讓對應符合其視窗。|從代碼映射工具列上的 **"縮放**"清單中選擇 **"縮放以適合**"。<br /><br /> - 或 -<br /><br /> 按一下 **"縮放"以在**代碼映射工具列上的地圖![工具列](../modeling/media/almcodemapzoomicon.png)上安裝圖示"縮放"圖示。 鍵盤：按**CTRL = 0（** 零）。|
|按照名稱在對應上尋找節點。 **提示：** 這僅適用于地圖上的專案。 要查找解決方案中的項，但不在地圖上查找它們，請將其在**解決方案資源管理器**中查找，然後將它們拖動到地圖中。 （拖動所選內容，或在**解決方案資源管理器**工具列上，按一下"**在代碼映射上顯示**"。|1. 選擇代碼地圖![工具列上的地圖工具列](../modeling/media/almcodemapfindicon.png)上的 **"查找**"圖示（鍵盤：按**CTRL + F）** 以顯示地圖右上角的搜索框。<br />2. 鍵入專案名稱並按 **"返回**"或按一下"放大鏡"圖示。 符合搜尋的第一個項目即會在對應上顯示選取。<br />3. 要自訂搜索，請打開下拉清單並選擇搜索選項。 選項是 **"查找下一步**"，"**查找上一個**"和 **"全部**"。 然後按一下搜尋文字方塊旁邊對應的按鈕。<br />     ![搜索選項&#45;下清單下拉](../modeling/media/almcodemapssearchdropdown.png)<br />     或者，使用鍵盤：按**F3**選擇下一個匹配節點或**SHIFT + F3**以選擇以前的匹配節點。<br />4. 通過按一下搜索文字方塊下方的圖示，選擇指定如何處理搜索詞的任何選項。<br />     ![搜尋相符選項](../modeling/media/almcodemapssearchmatchicons.png)<br />     選項包括：由左至右、區分大小寫、全字拼寫須相符、 使用 .NET 規則運算式語法、自動展開群組顯示密封項目的相符項目。 **重要提示：** 僅當以前擴展了這些組時，才能使用搜索框查找折疊組中的匹配項。 若要尋找這些相符項目並自動展開其父群組，請選擇搜尋方塊下的這個選項。|
|選取所有未選取的節點。|開啟所選節點的捷徑功能表。 選擇 **"選擇**"，**反轉選擇**。|
|選取連結至已選取節點的其他節點。|開啟所選節點的捷徑功能表。 **選擇"選擇"，** 選擇以下之一：<br /><br /> - 要選擇直接連結到所選節點的其他節點，請選擇**傳入依賴項**。<br />- 要選擇直接從所選節點連結的其他節點，請選擇 **"傳出依賴項**"。<br />- 要選擇直接連結到所選節點和從所選節點的其他節點，請選擇 **"兩者**"。<br />- 要選擇連結到所選節點和傳出選定節點的所有節點，請選擇 **"已連接的子圖**"。<br />- 要選擇所選節點的所有子節點，請選擇 **"子級**"。|

## <a name="filter-nodes-and-links"></a><a name="FilterNodes"></a>篩選節點和連結

|**自**|**執行這些步驟**|
|-|-|
|顯示或隱藏 [篩選] 窗格。|選擇代碼映射工具列上的 **"篩選器"** 按鈕。 預設情況下 **，"篩選器"** 窗格在**解決方案資源管理器**中顯示為選項卡式頁面。|
|篩選顯示在對應上的節點類型。|設置或清除"篩選器"窗格中的 **"代碼元素**"清單中的核取方塊。|
|篩選顯示在對應上的連結類型。|設置或清除"篩選器"窗格中"**關係**"清單中的核取方塊。|
|顯示或隱藏對應上的測試專案節點。|設置或清除"篩選器"窗格中的 **"雜項**"清單中的 **"測試資產**"核取方塊。|

對應 [圖例] 面板中顯示的圖示，會反映您在清單中的設定。 要顯示或隱藏"圖例"面板，請按一下代碼映射工具列上的 **"圖例**"按鈕。

## <a name="examine-nodes-and-links"></a><a name="Inspect"></a>檢查節點和連結

Code map 會顯示下列連結：

- 個別連結表示兩個節點間的單一關聯性。

- 跨群組連結表示不同群組中兩個節點間的關聯性。

- 彙總連結表示兩個群組間，指向相同方向的所有關聯性。

> [!TIP]
> 對應預設只顯示選取節點的跨群組連結。 要更改此行為以顯示或隱藏組之間的聚合連結，請按一下代碼映射工具列上的 **"佈局"，** 然後選擇 **"高級**"，然後**顯示所有跨組連結**或**隱藏所有跨組連結**。 有關詳細資訊，請參閱[隱藏或顯示節點和連結](#HidingShowing)。

|**自**|**執行這些步驟**|
|-|-|
|查看節點或連結的詳細資訊。|將滑鼠指標移到節點或連結的上方，直到出現工具提示。<br /><br /> 彙總連結的工具提示會列出它所代表的個別相依性。<br /><br /> - 或 -<br /><br /> 開啟節點或連結的捷徑功能表。 選擇 **"編輯**"**屬性**。|
|顯示或隱藏群組的內容。|- 要展開組，請打開節點的快顯功能表，然後選擇 **"展開****組"。**<br />     - 或 -<br />     將滑鼠指標移到節點上方，直到＞形箭號 (向下箭號) 按鈕出現。 按一下此按鈕展開群組。 鍵盤：要展開或折疊所選組，請按**PLUS**鍵**+**（ ） 或**-** **MINUS**鍵 （ ）。<br />- 要折疊組，請打開節點的快顯功能表，然後選擇 **"組****"、"折疊**"。<br />     - 或 -<br />     將滑鼠指標移至群組上方，直到＞形箭號 (向上箭頭) 按鈕出現。 按一下此按鈕以摺疊群組。<br />- 要展開所有組，請按**CTRL** + **A**選擇所有節點。 打開地圖的快顯功能表並選擇 **"組****"，展開**。 **注：**     如果展開所有組生成不可用的映射或記憶體問題，則此命令不可用。 建議只展開對應至關心的細節階層就好。<br />- 要折疊所有組，打開節點或地圖的快顯功能表。 選擇**組**，**全部折疊**。|
|請查看程式碼定義，以取得命名空間、類型或成員。|打開節點的快顯功能表，然後選擇 **"轉到定義**"。<br /><br /> -或-<br /><br /> 按兩下節點。 針對展開的群組，請按兩下群組的標頭。<br /><br /> -或-<br /><br /> 選擇節點並按**F12**。<br /><br /> 例如：<br /><br /> - 對於包含一個類的命名空間，該類的代碼檔將打開以顯示該類的定義。 在其他情況下，"**查找符號結果**"視窗顯示代碼檔的清單。 **注：**     在 Visual Basic 命名空間上執行此任務時，命名空間後面的代碼檔不會打開。 當您在包含 Visual Basic 命名空間的一組選定節點上執行此任務時，也會出現此問題。 若要解決這個問題，請手動瀏覽至命名空間背後的程式碼檔案，或省略選取範圍中的命名空間節點。<br />- 對於類或部分類，該類的代碼檔將打開以顯示類定義。<br />- 對於方法，父類的代碼檔將打開以顯示方法定義。|
|檢查相依性和參與彙總連結的項目。|選擇您感興趣的連結，並打開所選內容的快顯功能表。 選擇 **"在新代碼圖上顯示貢獻連結**"或 **"顯示貢獻連結**"。<br /><br /> Visual Studio 會展開在連結兩端的群組，並只顯示參與此連結的項目和相依性。 **注：** 當您檢查部分組中的項之間的依賴項時，您可能會看到以下行為： <ul><li>不參加考試的專案的連結將從地圖中消失，即使這些連結仍然存在。</li><li>假設您先檢查部分群組的項目連結，然後再檢查同一項目的不同連結。 在第二個檢查中，目標部分群組只會顯示第一個檢查內的項目。 未參加第一次考試但參加第二次考試的連結和目標專案不會顯示。</li></ul> 要查看組中缺少的專案，請選擇 **"重新提取子級**!["圖示](../modeling/media/dependencygraph_deletednodesicon.png)（表示不是組的所有成員都顯示在地圖上）。 您還可以嘗試撤銷操作（鍵盤：按**CTRL_Z**），並檢查新地圖上的依賴項。|
|檢查不同群組之多節點間的相依性。|展開群組以查看其所有子系。 選取所有感興趣的節點，包括其子系。 對應會顯示所選節點之間的跨群組連結。<br /><br /> 要選擇組中的所有節點，請在圍繞該組繪製矩形時按住**SHIFT**和滑鼠左鍵。 要選擇地圖上的所有節點，請按**CTRL**+**A**。 **提示：** 要隨時顯示跨組連結，請選擇地圖工具列上的 **"佈局****"，"高級**"顯示**所有跨組連結**。|
|查看節點或連結參考的項目。|打開節點的快顯功能表，然後選擇 **"查找所有參考**"。 **注：** 僅當為地圖的`Reference`.dgml 檔中的節點或連結設置屬性時，才適用。 要從節點或連結添加對項的引用，請參閱[通過編輯 DGML 檔自訂代碼映射](../modeling/customize-code-maps-by-editing-the-dgml-files.md)。|

## <a name="hide-or-show-nodes-and-links"></a><a name="HidingShowing"></a>隱藏或顯示節點和連結

隱藏節點可防止節點參與配置演算法。 根據預設，跨群組連結是隱藏的。 跨群組連結是連接不同群組節點的個別連結。 當群組摺疊起來時，對應會將所有跨群組連結彙總成單一的群組間連結。 當您展開一個群組並選取群組內的節點時，跨群組連結會出現並顯示該群組中的相依性。

> [!CAUTION]
> 在您要與使用 Visual Studio Professional 的人共用 Visual Studio Enterprise 建立的對應之前，請確保取消隱藏所有您要讓其他人看到的所有節點或跨群組連結。 否則，那些使用者將無法取消隱藏這些項目。

### <a name="to-hide-or-show-nodes"></a>隱藏或顯示節點

|**自**|**執行這些步驟**|
|-|-|
|隱藏選取的節點。|1. 選擇要隱藏節點。<br />2. 打開所選節點或地圖的快顯功能表。 **選擇"選擇****""隱藏選定**"。|
|隱藏未選取的節點。|1. 選擇要保持可見的節點。<br />2. 打開所選節點或地圖的快顯功能表。 **選擇"選擇**"，"**隱藏未選中**"。|
|顯示隱藏的節點。|- 要顯示組內的所有隱藏節點，首先請確保擴展該組。 打開快顯功能表並**選擇"取消****隱藏子項**"。<br />     - 或 -<br />     按一下組左上角的 **"取消隱藏子項**!["圖示](../modeling/media/dependencygraph_filtericon_hiddennodes.gif)圖示（僅當存在隱藏子節點時，才可見）。<br />- 要顯示所有隱藏的節點，請打開地圖或節點的快顯功能表，然後**選擇"全部****取消隱藏**"。|

### <a name="to-hide-or-show-links"></a>隱藏或顯示連結

|**自**|**在對應工具列上，依序選擇 [配置]、[進階] 及**|
|-|-|
|永遠顯示跨群組連結。|**顯示所有跨組連結**。 如此會隱藏群組之間的彙總連結。|
|永遠隱藏跨群組連結。|**隱藏所有跨群組連結**|
|只顯示選取節點的跨群組連結。|**顯示所選取節點上的跨群組連結**|
|隱藏所有連結。|**隱藏所有連結**。 若要再次顯示連結，請選擇上列其中一個選項。|

## <a name="group-nodes"></a><a name="OrganizeGroups"></a>分組節點

|**自**|**執行這些步驟**|
|-|-|
|將容器節點顯示為群組節點或分葉節點。|要將容器節點顯示為葉節點：選擇節點，打開所選內容的快顯功能表，然後選擇 **"組****"、"轉換為葉**"。<br /><br /> 要將容器節點顯示為組節點：選擇節點，打開所選內容的快顯功能表，然後選擇 **"組****"、"轉換為組**"。|
|變更群組內的配置。|選擇組，打開快顯功能表，選擇**佈局**，然後選擇所需的配置樣式。<br /><br /> - 或 -<br /><br /> 1. 選擇組並確保其展開。<br />2. 再次按一下組標題，將顯示組工具列。<br />     ![依賴項圖&#45;組工具列](../modeling/media/dependencygraph_group.png)<br />3. 打開 **"更改組**清單![依賴項"圖的配置樣式&#45;組工具列&#45;佈局](../modeling/media/dependencygraph_grouptoolbar.gif)，然後選擇所需的配置樣式。<br /><br /> **清單視圖**將組的成員重新排列到清單中。 **圖形預設值**將組佈局重置為地圖預設佈局。 有關其他選項，請參閱[更改地圖佈局](#Selecting)。|
|將節點加入群組。|將節點拖曳至群組。<br /><br /> 拖曳節點時，Visual Studio 會顯示一個標記，顯示您要移動節點。<br /><br /> 您也可以將節點拖曳至群組之外。|
|將節點加入非群組節點。|拖曳節點到目標節點上。 將節點加入任意目標節點，即可將此目標節點轉換成群組。|
|群組選取的節點。|1. 選擇要分組的節點。 快顯工具列會出現在您選取的最後一個節點上方。<br />     ![相依性圖形工具列](../modeling/media/depedencygraph_toolbar.png)<br />2. 在工具列上，選擇第四個圖示**將所選節點分組**（如果節點被展開，它將有五個圖示而不是四個圖示）。 鍵入新組的名稱，然後按**Return**。<br />     - 或 -<br />     選取要群組的節點，並開啟所選項目的捷徑功能表。 選擇**組**，**添加父組**，鍵入新組的名稱，然後按**Return**。<br /><br /> 您可以重新命名群組。 打開組的快顯功能表，然後選擇 **"編輯**、**屬性**"以打開"視覺工作室屬性"視窗。 在 **"Label"** 屬性中，根據需要重命名組。|
|移除群組。|選取您要移除的群組。 打開所選內容的快顯功能表，然後選擇 **"組****"、"刪除組**"。|
|從其父群組中移除節點。|選取您要移動的節點。 打開所選內容的快顯功能表，然後選擇 **"從****父項中刪除**"。 這會移除至其 Grandparent 節點，如果沒有 Grandparent 群組，則會移除至群組外部節點。<br /><br /> - 或 -<br /><br /> 選取節點，並將它們拖曳出群組。|

## <a name="add-remove-or-rename-nodes-links-and-comments"></a><a name="AddRemoveNodesLinks"></a>添加、刪除或重命名節點、連結和注釋

您可以顯示更多或較少的對應項目，以便向下鑽研或簡化對應。 也可以重新命名項目，並將註解加入項目。

> [!CAUTION]
> 在您與 Visual Professional 的使用者共用以 Visual Studio Enterprise 建立的對應之前，請確認您想讓其他人查看的程式碼項目都顯示在對應上。 否則，那些使用者將無法擷取已刪除的程式碼項目。

### <a name="add-a-node-for-a-code-element"></a>為程式碼項目加入節點

|**自**|**執行這些步驟**|
|-|-|
|在目前的滑鼠指標位置加入新的泛型節點。|1. 將滑鼠指標移動到要放置新代碼元素的地圖上的位置，然後按 **"插入**"。<br />     - 或 -<br />     打開地圖的快顯功能表，然後選擇 **"編輯**"、"**添加**"、"**通用節點**"。<br />2. 鍵入新節點的名稱，然後按**Return**。|
|在目前的滑鼠指標位置加入特定類型的程式碼項目節點。|1. 將滑鼠指標移動到要放置新代碼元素的地圖上的位置，然後打開地圖的快顯功能表。<br />2. 選擇 **"編輯**"、"**添加**"並選擇所需的節點類型。<br />3. 鍵入新節點的名稱，然後按**Return**。|
|將一般或特定類型的程式碼項目節點加入群組。|1. 選擇組節點並打開快顯功能表。<br />2. 選擇 **"編輯**"、"**添加**"並選擇所需的節點類型。<br />3. 鍵入新節點的名稱，然後按**Return**。|
|加入相同類型的新節點，並從現有的節點連結。|1. 選擇代碼元素。 快顯工具列顯示在其上方。<br />     ![相依性圖形工具列](../modeling/media/depedencygraph_toolbar.png)<br />2. 在工具列上，選擇第二**個圖示"創建與此節點具有相同類別的節點"，然後向該節點添加新連結**。<br />3. 選擇地圖上的一個位置來放置新的代碼元素，然後按一下滑鼠左鍵。<br />4. 鍵入新節點的名稱，然後按**Return**。|
|加入新的泛型節點，它從具有焦點的現有程式碼項目連結。|1. 使用鍵盤，按**Tab，** 直到要連結的代碼元素具有焦點（虛線矩形）。<br />2. 按**Alt**+**插入**。<br />3. 鍵入新節點的名稱，然後按**Return**。|
|加入新的泛型節點，它會連結到具有焦點的現有程式碼項目。|1. 使用鍵盤，按**Tab，** 直到代碼元素連結到具有焦點（虛線矩形）。<br />2. 按**Alt**+**換檔**+**插入**。<br />3. 鍵入新節點的名稱，然後按**Return**。|

|**程式碼項目加入對象**|**執行這些步驟**|
|-|-|
|方案中的程式碼項目。|1. 在**解決方案資源管理器**中查找代碼元素。 使用 **"解決方案資源管理器**"搜索框或流覽解決方案。 **提示：**     要查找對類型或成員具有依賴項的代碼元素，請打開**解決方案資源管理器**中類型或成員的快顯功能表。 選擇您感興趣的關聯性。 **解決方案資源管理器**僅顯示具有指定依賴項的代碼元素。<br />2. 將您感興趣的代碼元素拖動到地圖表面。 您也可以從 [類別檢視] 或 [物件瀏覽器] 拖曳程式碼項目。<br />     - 或 -<br />     在**解決方案資源管理器中**，選擇要映射的代碼元素。 然後，在 **"解決方案資源管理器**"工具列上，按一下"**在代碼映射上顯示**"。<br /><br /> 新程式碼項目的父容器階層預設會顯示在對應上。 使用代碼映射工具列上的"**包含父"** 按鈕來更改此行為。 關閉時，只有程式碼項目本身加入對應。 要僅對一個拖放操作撤銷此行為，請按住**CTRL**鍵，同時將代碼元素拖動到地圖。<br /><br /> Visual Studio 會將最上層程式碼項目的程式碼項目加入您的選取範圍。 若要查看程式碼項目是否包含其他程式碼項目，請將滑鼠指標移到程式碼項目上，＞形箭號 (向下箭頭) 隨即出現。 選擇＞形箭號展開程式碼項目。 要展開所有代碼元素，請按**CTRL**+**A**選擇所有元素，打開地圖的快顯功能表，然後選擇 **"組****展開**"。 如果展開所有群組產生了無法使用的對應，或導致記憶體不足問題，便無法使用這個命令。|
|程式碼項目與對應的程式碼項目相關。|按一下代碼映射工具列上的 **"顯示相關**"按鈕，然後選擇您感興趣的相關專案的類型。<br /><br /> - 或 -<br /><br /> 開啟程式碼項目的捷徑功能表。 根據您感興趣的關聯類型，在功能表上選擇"**顯示..."** 項之一。 例如，您可以看到目前項目參考的項目，以及參考目前項目、類別的基底類型和衍生類型、方法呼叫程式，以及包含類別、命名空間和組件的項目。<br /><br /> 有關詳細資訊，請參閱[本主題](../modeling/map-dependencies-across-your-solutions.md)。|
|已編譯的 .NET 組件 (.dll 或 .exe) 或二進位檔。|從 Visual Studio 外部，將組件或二進位檔拖曳至對應。<br /><br /> 只要您是以相同的使用者存取控制 (UAC) 權限等級執行它與 Visual Studio，就可以從 Windows 檔案總管或檔案總管拖曳。 例如，如果 UAC 已開啟，而您是以系統管理員身分執行 Visual Studio，那麼 Windows 檔案總管或檔案總管將會封鎖拖曳作業。|

### <a name="AddNodes"></a>

#### <a name="add-a-link-between-existing-code-elements"></a>在現有的程式碼項目之間加入連結

1. 選取來源程式碼項目。 工具列會出現在程式碼項目的上方。

    ![相依性圖形工具列](../modeling/media/depedencygraph_toolbar.png)

2. 在工具列上，選擇第一個圖示，**從此節點創建新連結到您按一下的下一個節點**。

3. 選取目標程式碼項目。 兩個程式碼項目之間會出現連結。

**或**

1. 在對應上選取來源程式碼項目。

2. 如已安裝滑鼠，請將滑鼠指標移至對應範圍外。

3. 打開代碼元素的快顯功能表，然後選擇 **"編輯** > **添加** > **通用連結**"。

4. 用 Tab 鍵移至並選取連結的目標程式碼項目。

5. 按 **Enter**。

### <a name="AddComments"></a>

#### <a name="add-a-comment-to-an-existing-node-on-the-map"></a>在對應上的現有節點中加入註解

1. 選取程式碼項目。 工具列出現在其上方。

     ![相依性圖形工具列](../modeling/media/depedencygraph_toolbar.png)

2. 在工具列上，選擇第三個圖示，**創建一個指向所選節點的新連結的新注釋節點**。

     \- 或 -

     打開代碼元素的快顯功能表，然後選擇 **"編輯** > **新注釋**"。

3. 輸入您的註解。 要在新行上鍵入，請按 **"移位** + **輸入**"。

#### <a name="add-a-comment-to-the-map-itself"></a>在對應本身加入註解

1. 打開地圖的快顯功能表，然後選擇 **"編輯** > **新注釋**"。

2. 輸入您的註解。 要在新行上鍵入，請按 **"移位** + **輸入**"。

### <a name="RenameNodes"></a>

#### <a name="rename-a-code-element-or-link"></a>重新命名程式碼項目或連結

1. 選取程式碼項目或想要重新命名的連結。

2. 按**F2**，或打開快顯功能表並選擇 **"編輯** > **重命名**"。

3. 當編輯方塊出現在對應中時，重新命名程式碼項目或連結。

**或**

1. 打開快顯功能表並選擇 **"編輯** > **屬性**"。

2. 在"視覺化工作室屬性"視窗中編輯 **"標籤**"屬性。

#### <a name="remove-a-code-element-or-link-from-the-map"></a>移除對應的程式碼項目或連結

1. 選擇代碼元素或連結，然後按 **"刪除**"鍵。

     \- 或 -

     打開代碼元素或連結的快顯功能表，然後選擇 **"編輯** > **刪除**"。

2. 如果元素或連結是組的一部分，則"**重新提取子項**"![按鈕"重新提取](../modeling/media/dependencygraph_deletednodesicon.png)子圖示"將顯示在組內。 按一下此選項可擷取遺漏的項目和連結。

- 您可以移除對應的程式碼項目和連結，不影響基礎程式碼。 當您刪除這些項目時，其定義會從 DGML (.dgml) 檔案中移除。

- 透過編輯 DGML、加入未定義的程式碼項目，或使用較早版本的 Visual Studio 所建立的對應，不支援此功能。

#### <a name="flag-a-code-element-for-follow-up"></a>將程式碼項目標記為待處理

1. 選取要標記為待處理的程式碼項目或連結。

2. 打開快顯功能表，選擇 **"編輯** > **標誌"以進行跟進**。

- 程式碼項目預設為紅色背景。 請考慮向其中[添加注釋](#AddComments)，並提供有關相應的後續資訊。

- 通過選擇 **"編輯** > **其他標誌顏色**"，更改元素的背景顏色或清除後續標誌。

## <a name="change-the-style-of-a-code-element-or-link"></a><a name="ChangeStyleCodeOrLink"></a>更改代碼元素或連結的樣式

您可以使用預先定義的圖示和色彩，變更程式碼項目上的圖示以及程式碼項目和連結的色彩。 例如，您可以選擇色彩來醒目提示具有特定分類或屬性的程式碼項目和連結。 這樣就能識別和注意對應的特定區域。 您可以通過編輯地圖的 .dgml 檔來指定自訂圖示和顏色;請參閱[通過編輯 DGML 檔自訂代碼映射](../modeling/customize-code-maps-by-editing-the-dgml-files.md)。

### <a name="to-apply-a-predefined-color-or-icon-to-code-elements-or-links-with-a-certain-category-or-property"></a>將預先定義的色彩或圖示套用至具有特定分類或屬性的程式碼項目或連結

1. 在地圖工具列上，選擇 **"圖例**"。

2. 在 **"圖例"** 框中，查看代碼元素類別或屬性是否已顯示在清單中。

3. 如果清單不包括類別或**+** 屬性，請在 **"圖例"** 框中選擇，然後選擇 **"節點屬性**、**節點類別**"、**連結屬性**或**連結類別**。 再選擇屬性或類別。 類別或屬性現在顯示在 **"圖例"** 框中。

    > [!NOTE]
    > 要創建類別或屬性並將其分配給代碼元素，可以編輯地圖的 .dgml 檔;例如，可以編輯地圖的 .dgml 檔。請參閱[通過編輯 DGML 檔自訂代碼映射](../modeling/customize-code-maps-by-editing-the-dgml-files.md)。

4. 在 **"圖例"** 框中，按一下您添加或要更改的類別或屬性旁邊的圖示。

5. 使用下表選取您想要變更的樣式：

    |**更改**|**選擇**|
    |-|-|
    |背景色彩|**背景**|
    |外框色彩|**中風**|
    |文本顏色（顯示字母"f"以顯示結果）|**前景**|
    |圖示|**圖示**|

     將顯示"**顏色集選取器**"或 **"圖示集選取器"** 對話方塊，供您選擇顏色或圖示。

6. 在 **"顏色集選取器**"或 **"圖示集選取器"** 對話方塊中，執行以下操作之一：

    |**若要套用**|**執行這些步驟**|
    |-|-|
    |色彩或圖示集|打開 **"選擇顏色**（或**圖示** **）"設置**清單。 選取色彩或圖示集。|
    |特定的色彩或圖示|開啟類別或屬性值的清單。 選取色彩或圖示。|

    > [!NOTE]
    > 您可以在 **"圖例"** 框中重新排列、刪除或暫時停用樣式。 請參閱[編輯圖例框](#ModifyLegend)。

## <a name="edit-the-legend-box"></a><a name="ModifyLegend"></a>編輯"圖例"框

您可以在 **"圖例"** 框中重新排列、刪除或暫時停用樣式：

1. 在 **"圖例"** 框中打開樣式的快顯功能表。

2. 請執行下列其中一項工作：

    |**自**|**選擇**|
    |-|-|
    |停用程式碼項目|**Disable**|
    |刪除程式碼項目|**刪除**|
    |將樣式向上移動|**上移**|
    |下移程式碼項目|**下移**|

## <a name="copy-styles-from-one-map-to-another"></a><a name="CopyLegend"></a>將樣式從一個地圖複製到另一個地圖

1. 確保 **"圖例"** 框顯示在源地圖上。 如果不可見，請在地圖工具列上按一下 **"圖例**"。

2. 打開 **"圖例"** 框的快顯功能表。 選擇**複製圖例**。

3. 將圖例貼到目標對應。

## <a name="merge-code-maps"></a><a name="MergeMaps"></a>合併代碼映射

在對應間複製及貼上程式碼項目，可以合併對應。 如果程式碼項目的識別項相符，則貼上程式碼項目的功能就和合併作業一樣。 若要使此工作更加容易，將所有您想要視覺化的組件或二進制檔放在相同的資料夾內，如此對於要合併的每個對應而言，每個組件或二進制檔的完整路徑均相同。

或者，您可以將該資料夾的這些組件或二進位檔拖曳至相同的對應。

## <a name="see-also"></a>另請參閱

- [對應方案之間的相依性](../modeling/map-dependencies-across-your-solutions.md)
- [使用 Code Map 偵錯您的應用程式](../modeling/use-code-maps-to-debug-your-applications.md)
- [使用 Code Map 分析器尋找潛在問題](../modeling/find-potential-problems-using-code-map-analyzers.md)
- [藉由編輯 DGML 檔案自訂 Code Map](../modeling/customize-code-maps-by-editing-the-dgml-files.md)
- [有向圖形標記語言 (DGML) 參考](../modeling/directed-graph-markup-language-dgml-reference.md)
