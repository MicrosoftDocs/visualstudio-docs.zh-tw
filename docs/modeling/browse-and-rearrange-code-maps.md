---
title: 瀏覽和重新排列 Code Map
description: 瞭解如何重新排列 code map 上的專案，使其更容易閱讀及改善其效能。
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: how-to
f1_keywords:
- vs.progression.dgmlgraph.layouthelp
- vs.progression.graphdocument
- vs.progression.dgmlgraph.message.notUlt.noexpandgroup
- vs.progression.colorsetpicker
- vs.progression.iconsetpicker
helpviewer_keywords:
- Visual Studio Ultimate, dependency graphs
- code visualization [Visual Studio ALM]
- graph documents, browsing
- Visual Studio ALM, dependency graphs
- code visualization
- Visual Studio ALM, graph documents
- Visual Studio Ultimate, graph documents
- dependency graphs, browsing
author: mgoertz-msft
ms.author: mgoertz
manager: jmartens
ms.workload:
- multiple
ms.openlocfilehash: 83132cfccd0af7244cf31f502669144eb3388bd8
ms.sourcegitcommit: e3a364c014ccdada0860cc4930d428808e20d667
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/19/2021
ms.locfileid: "112385548"
---
# <a name="browse-and-rearrange-code-maps"></a>瀏覽和重新排列 Code Map

重新排列 Code Map 上的項目，使其更容易閱讀與提升其效能。

您可以自訂 Code Map，卻不影響方案的基礎程式碼。 這在您想專注在主要程式碼項目或交換關於程式碼的想法時會很有用。 例如，若要反白顯示感興趣的區域，您可以選取對應上的程式碼項目並加以篩選，變更程式碼項目和連結的樣式，隱藏或刪除程式碼項目，以及使用屬性、分類或群組來組織程式碼項目。

 **需求**

- 若要建立 Code Map，您必須擁有 Visual Studio Enterprise。

- 您可以檢視 Code Map，然後有限制地編輯 Visual Studio Professional 中的 Code Map。

## <a name="get-started-working-with-code-maps"></a><a name="ManageLargeGraphs"></a> 開始使用 code map

建立 code map (請參閱 [對應解決方案](../modeling/map-dependencies-across-your-solutions.md) 的相依性，以取得更多詳細資料) 。 如果您不想要等待對應完成產生，請隨時按一下 [ **取消** ] 連結以停止產生程式。 不過，這樣做就看不到所有相依性和連結的詳細資訊。

產生對應之後，請開始利用這些祕訣檢閱程式碼：

- 看看程式碼中的自然相依性叢集。 在 [對應] 工具列上 **，選擇 [** 圖形] 工具列上的 [配置]、[**快速群集** ![ 快速叢集] 按鈕 ](../modeling/media/quickclustersicon.gif) 。 請參閱 [變更地圖版面](#Selecting)配置。

     ![相依性圖形 &#45; 快速叢集版面配置](../modeling/media/dependencygraph_quickclusters.png)

- 分組相關的節點，將對應組織成較小的區域。 摺疊群組只查看群組間相依性，這會自動出現。 請參閱 [群組節點](#OrganizeGroups)。

- 使用篩選以簡化對應，並著重於您感興趣的節點或連結類型。 請參閱 [篩選節點和連結](#FilterNodes)。

- 大型對應的效能最大化。 如需詳細資訊，請參閱 [對應解決方案之間](../modeling/map-dependencies-across-your-solutions.md) 的相依性。例如，在對應工具列上開啟 [ **略過組建** ]，讓 Visual Studio 不會在您更新地圖上的專案時重建方案。

## <a name="change-the-map-layout"></a><a name="Selecting"></a> 變更地圖版面配置

|**若要**|**執行這些步驟**|
|-|-|
|按特定方向排列整個對應的相依性流程。 這有助於了解程式碼中的架構圖層。|在對應工具列上選擇 [ **版面** 配置]，然後：<br /><br /> -   從 **上到下** ![從上到下圖形按鈕](../modeling/media/topbottomgraphbutton.gif)<br />-   從 **下到上** ![從下到上圖形按鈕](../modeling/media/bottomtopgraphbutton.gif)<br />-   **由左至右** ![由左至右配置按鈕](../modeling/media/leftrightgraphbutton.gif)<br />-   由 **右至左** ![由右至左圖形按鈕](../modeling/media/rightleftgraphbutton.gif)|
|在程式碼的自然相依性叢集裡，查看叢集中心相依性最高的節點，和叢集外相依性最低的節點。|在 [對應] 工具列上 **，選擇 [** 配置]，然後選擇 [ ![ 圖形] 工具列上的 [快速叢集快速群集] 按鈕 ](../modeling/media/quickclustersicon.gif) 。|
|在對應上選取一或多個節點。|按一下節點即可選取它。 若要選取或取消選取多個節點，請按住 **CTRL** 並按一下。<br /><br /> 鍵盤：按下 **tab** 鍵，或使用方向鍵將圓點焦點矩形移至節點，然後按 **空格鍵** 以選取它。 按 **CTRL**  +  **空格鍵** 可多重選取或取消選取節點。|
|在對應上自由移動特定的節點。|拖曳以移動節點。 若要在拖曳節點時移動其他節點和連結，請按住 **SHIFT** 鍵。<br /><br /> 鍵盤：按住 **CTRL** 鍵，然後按下方向鍵。|
|變更群組內的配置，不受對應上其他節點及群組的影響。|選取節點並開啟捷徑功能表。 選擇 [ **版面** 配置]，然後選取配置樣式。<br /><br /> - 或 -<br /><br /> 選取並展開節點，以顯示子節點。 按一下節點標題以顯示群組彈出工具列，然後開啟 [**變更群組** 相依性圖形的配置樣式 ![ ] &#45; 群組工具列 &#45; 配置 ](../modeling/media/dependencygraph_grouptoolbar.gif) 清單。 選取其中一個樹狀配置、 **快速** 叢集或 **清單視圖** (，將群組的內容排列成清單) 。<br /><br /> 如需詳細資料，請參閱 [群組節點](#OrganizeGroups) 。|
|復原對應中的動作。|按 **CTRL**  +  **Z** 或使用 Visual Studio 的 **復原** 命令。|

## <a name="browse-the-map"></a><a name="Explore"></a> 流覽地圖

|**若要**|**執行這些步驟**|
|-|-|
|掃描對應。|使用滑鼠自由拖曳對應。<br /><br /> - 或 -<br /><br /> 按住 **SHIFT 鍵** 並旋轉滑鼠滾輪以水準滾動。 按住 **SHIFT**  +  **CTRL** 鍵並旋轉滑鼠滾輪以水準滾動。|
|放大或縮小對應。|旋轉滑鼠滾輪。<br /><br /> - 或 -<br /><br /> 使用 code map 工具列上的 [ **縮放** ] 下拉式清單。<br /><br /> - 或 -<br /><br /> 使用鍵盤快速鍵。 若要放大，請按 **CTRL + SHIFT +。** (句點)。 若要縮小，請按 **CTRL + SHIFT +，** (逗號) 。|
|使用滑鼠放大特定的區域。|按住滑鼠右按鈕，同時繪製矩形套住您感興趣的區域。|
|調整大小，讓對應符合其視窗。|從 code map 工具列上的 [**顯示** 比例] 清單中選擇 [**縮放**]。<br /><br /> - 或 -<br /><br /> 在 code map 工具列上，按一下地圖工具列上的 [ **縮放至適當比例** ] 圖示 ![ 縮放圖示 ](../modeling/media/almcodemapzoomicon.png) 。 鍵盤：按 **CTRL + 0** (零) 。|
|按照名稱在對應上尋找節點。 **秘訣：**  這僅適用于地圖上的專案。 若要尋找方案中的專案，但不在地圖上尋找專案，請在 **方案總管** 中尋找專案，然後將它們拖曳至對應。  (拖曳您的選取專案，或在 [ **方案總管** ] 工具列上，按一下 [ **在 Code Map 上顯示** ]) 。|1. 在 code map 工具列上的 [地圖] 工具列上，選擇 [ **尋找** ] 圖示 ![ 尋找圖示 ](../modeling/media/almcodemapfindicon.png) (鍵盤：按下 **CTRL + F**) ，在地圖的右上角顯示搜尋方塊。<br />2. 輸入專案名稱，然後按 [ **返回** ] 或按一下 [放大鏡] 圖示。 符合搜尋的第一個項目即會在對應上顯示選取。<br />3. 若要自訂搜尋，請開啟下拉式清單，並選擇搜尋選項。 您可以在 [**下一步]****找到選項，然後****選取 [全部**]。 然後按一下搜尋文字方塊旁邊對應的按鈕。<br />     ![搜尋選項下拉&#45;向下清單](../modeling/media/almcodemapssearchdropdown.png)<br />     或者，您也可以使用鍵盤：按 **F3** 選取下一個相符的節點，或按 **SHIFT + F3** 選取先前的相符節點。<br />4. 按一下 [搜尋] 文字方塊下方的圖示，選取任何一個選項來指定搜尋字詞的處理方式。<br />     ![搜尋相符選項](../modeling/media/almcodemapssearchmatchicons.png)<br />     選項包括：由左至右、區分大小寫、全字拼寫須相符、 使用 .NET 規則運算式語法、自動展開群組顯示密封項目的相符項目。 **重要事項：**  您可以使用 [搜尋] 方塊來尋找已折迭群組中的相符專案（如果先前已展開這些群組的話）。 若要尋找這些相符項目並自動展開其父群組，請選擇搜尋方塊下的這個選項。|
|選取所有未選取的節點。|開啟所選節點的捷徑功能表。 選擇 [ **選取**]、[ **反向選取**]。|
|選取連結至已選取節點的其他節點。|開啟所選節點的捷徑功能表。 選擇 [ **選取** ] 和下列其中一項：<br /><br /> -若要選取直接連結到所選節點的其他節點，請選擇 [連入相依性 **]**。<br />-若要選取直接連結到所選節點的其他節點，請選擇 [ **外寄** 相依性]。<br />-若要選取直接連結到所選節點的其他節點，請選擇 [ **兩者**]。<br />-若要選取連結到所選節點的所有節點，請選擇 [ **連接的性子圖形**]。<br />-若要選取所選節點的所有子系，請選擇 [ **子** 系]。|

## <a name="filter-nodes-and-links"></a><a name="FilterNodes"></a> 篩選節點和連結

|**若要**|**執行這些步驟**|
|-|-|
|顯示或隱藏 [篩選] 窗格。|選擇 code map 工具列上的 [ **篩選** ] 按鈕。 [ **篩選** ] 窗格預設會顯示為 **方案總管** 中的索引標籤式頁面。|
|篩選顯示在對應上的節點類型。|在 [篩選] 窗格中，設定或清除程式 **代碼元素** 清單中的核取方塊。|
|篩選顯示在對應上的連結類型。|設定或清除 [篩選] 窗格中 [ **關聯** 性] 清單中的核取方塊。|
|顯示或隱藏對應上的測試專案節點。|在 [篩選] 窗格的 [**其他**] 清單中，設定或清除 [**測試資產**] 核取方塊。|

對應 [圖例] 面板中顯示的圖示，會反映您在清單中的設定。 若要顯示或隱藏 [圖例] 面板，請按一下 code map 工具列上的 [ **圖例** ] 按鈕。

## <a name="examine-nodes-and-links"></a><a name="Inspect"></a> 檢查節點和連結

Code map 會顯示下列連結：

- 個別連結表示兩個節點間的單一關聯性。

- 跨群組連結表示不同群組中兩個節點間的關聯性。

- 彙總連結表示兩個群組間，指向相同方向的所有關聯性。

> [!TIP]
> 對應預設只顯示選取節點的跨群組連結。 若要變更此行為以顯示或隱藏群組之間的匯總連結 **，請按一下 code** map 工具列上的 [配置]，然後選擇 [ **Advanced**]，然後 **顯示所有跨群組連結** 或 **隱藏所有跨群組連結**。 如需詳細資訊，請參閱 [隱藏或顯示節點和連結](#HidingShowing) 。

|**若要**|**執行這些步驟**|
|-|-|
|查看節點或連結的詳細資訊。|將滑鼠指標移到節點或連結的上方，直到出現工具提示。<br /><br /> 彙總連結的工具提示會列出它所代表的個別相依性。<br /><br /> - 或 -<br /><br /> 開啟節點或連結的捷徑功能表。 選擇 [ **編輯**]、[ **屬性**]。|
|顯示或隱藏群組的內容。|-若要展開群組，請開啟節點的快捷方式功能表，然後選擇 [ **群組**]、[ **展開**]。<br />     - 或 -<br />     將滑鼠指標移到節點上方，直到＞形箭號 (向下箭號) 按鈕出現。 按一下此按鈕展開群組。 鍵盤：若要展開或折迭選取的群組，請按 **加號** 鍵 (**+**) 或 () 的 **減號** 鍵 **-** 。<br />-若要折迭群組，請開啟節點的快捷方式功能表，然後選擇 [ **群組** **]、[** 折迭]。<br />     - 或 -<br />     將滑鼠指標移至群組上方，直到＞形箭號 (向上箭頭) 按鈕出現。 按一下此按鈕以摺疊群組。<br />-若要展開所有群組，請按 **CTRL**  +  **鍵** 以選取所有節點。 開啟對應的快捷方式功能表，然後選擇 [ **群組**]、[ **展開**]。 **注意：**      如果展開所有群組會產生無法使用的對應或記憶體問題，則無法使用此命令。 建議只展開對應至關心的細節階層就好。<br />-若要折迭所有群組，請開啟節點或對應的快捷方式功能表。 選擇 [ **群組**]、[ **全部** 折迭]。|
|請查看程式碼定義，以取得命名空間、類型或成員。|開啟節點的快捷方式功能表，然後選擇 [ **移至定義**]。<br /><br /> -或-<br /><br /> 按兩下節點。 針對展開的群組，請按兩下群組的標頭。<br /><br /> -或-<br /><br /> 選取節點，然後按下 **F12** 鍵。<br /><br /> 例如：<br /><br /> -對於包含一個類別的命名空間，會開啟類別的程式碼檔案來顯示該類別的定義。 在其他情況下，[ **尋找符號結果** ] 視窗會顯示程式碼檔案的清單。 **注意：**      當您在 Visual Basic 命名空間上執行這項工作時，不會開啟命名空間後方的程式碼檔案。 當您在包含 Visual Basic 命名空間的選定節點群組上執行這項工作時，也會發生此問題。 若要解決這個問題，請手動瀏覽至命名空間背後的程式碼檔案，或省略選取範圍中的命名空間節點。<br />-如果是類別或部分類別，則會開啟該類別的程式碼檔案來顯示類別定義。<br />-如果是方法，則會開啟父類別的程式碼檔案來顯示方法定義。|
|檢查相依性和參與彙總連結的項目。|選取您感興趣的連結，然後開啟您選取專案的快捷方式功能表。 選擇 [ **顯示參與連結**  ] 或 [ **在新 Code Map 上顯示參與連結**]。<br /><br /> Visual Studio 會展開在連結兩端的群組，並只顯示參與此連結的項目和相依性。 **注意：**  當您檢查部分群組中專案之間的相依性時，您可能會看到此行為： <ul><li>未參與您檢查之專案的連結會從地圖中消失，即使這些連結仍然存在也一樣。</li><li>假設您先檢查部分群組的項目連結，然後再檢查同一項目的不同連結。 在第二個檢查中，目標部分群組只會顯示第一個檢查內的項目。 未參與您第一次檢查但參與第二次檢查的連結和目標專案則不會出現。</li></ul> 若要查看群組中遺失的專案，請選擇 [**重新擷取子** ![ 重新擷取子系] 圖示 ](../modeling/media/dependencygraph_deletednodesicon.png) (這表示群組中的所有成員都不會出現在地圖上) 。 您也可以嘗試將動作復原 (鍵盤：按 **CTRL + Z**) 並檢查新地圖上的相依性。|
|檢查不同群組之多節點間的相依性。|展開群組以查看其所有子系。 選取所有感興趣的節點，包括其子系。 對應會顯示所選節點之間的跨群組連結。<br /><br /> 若要選取群組中的所有節點，請按住 **SHIFT 鍵** 和滑鼠左鍵，同時在該群組周圍繪製矩形。 若要選取地圖上的所有節點，請按下 **CTRL** + **鍵**。 **秘訣：**  若要隨時顯示跨群組連結，請選擇地圖工具列上的 [ **版面** 配置]、[ **Advanced**]、[ **顯示所有跨群組連結**]。|
|查看節點或連結參考的項目。|開啟節點的快捷方式功能表，然後選擇 [ **尋找所有參考**]。 **注意：**  這項功能只適用于 `Reference` 設定對應 .dgml 檔案中節點或連結的屬性時。 若要從節點或連結加入專案的參考，請參閱 [編輯 DGML 檔案以自訂 code map](../modeling/customize-code-maps-by-editing-the-dgml-files.md)。|

## <a name="hide-or-show-nodes-and-links"></a><a name="HidingShowing"></a> 隱藏或顯示節點和連結

隱藏節點可防止節點參與配置演算法。 根據預設，跨群組連結是隱藏的。 跨群組連結是連接不同群組節點的個別連結。 當群組摺疊起來時，對應會將所有跨群組連結彙總成單一的群組間連結。 當您展開一個群組並選取群組內的節點時，跨群組連結會出現並顯示該群組中的相依性。

> [!CAUTION]
> 在您要與使用 Visual Studio Professional 的人共用 Visual Studio Enterprise 建立的對應之前，請確保取消隱藏所有您要讓其他人看到的所有節點或跨群組連結。 否則，那些使用者將無法取消隱藏這些項目。

### <a name="to-hide-or-show-nodes"></a>隱藏或顯示節點

|**若要**|**執行這些步驟**|
|-|-|
|隱藏選取的節點。|1. 選取您要隱藏的節點。<br />2. 開啟所選節點或對應的快捷方式功能表。 選擇 [ **選取**]、[ **隱藏選取** 的]。|
|隱藏未選取的節點。|1. 選取您要保持可見的節點。<br />2. 開啟所選節點或對應的快捷方式功能表。 選擇 [ **選取**]、[ **隱藏未選取**]。|
|顯示隱藏的節點。|-若要顯示群組內所有隱藏的節點，請先確定群組已展開。 開啟快捷方式功能表，並選擇 [ **選取**]、[ **取消隱藏子** 系]。<br />     - 或 -<br />     按一下群組左上角的 [**取消隱藏** 子系隱藏子系] ![ 圖示 ](../modeling/media/dependencygraph_filtericon_hiddennodes.gif) 圖示 (只有在) 隱藏的子節點時，才會顯示此圖示。<br />-若要顯示所有隱藏的節點，請開啟地圖或節點的快捷方式功能表，然後選擇 [ **選取**]、[ **全部解除隱藏**]。|

### <a name="to-hide-or-show-links"></a>隱藏或顯示連結

|**若要**|**在對應工具列上，依序選擇 [配置]、[進階] 及**|
|-|-|
|永遠顯示跨群組連結。|**顯示所有跨群組連結**。 如此會隱藏群組之間的彙總連結。|
|永遠隱藏跨群組連結。|**隱藏所有跨群組連結**|
|只顯示選取節點的跨群組連結。|**顯示所選取節點上的跨群組連結**|
|隱藏所有連結。|**隱藏所有連結**。 若要再次顯示連結，請選擇上列其中一個選項。|

## <a name="group-nodes"></a><a name="OrganizeGroups"></a> 群組節點

|**若要**|**執行這些步驟**|
|-|-|
|將容器節點顯示為群組節點或分葉節點。|若要將容器節點顯示為分葉節點：選取節點，開啟選取專案的快捷方式功能表，然後選擇 [ **群組**]、[ **轉換為分葉**]。<br /><br /> 若要將容器節點顯示為群組節點：選取節點，開啟選取專案的快捷方式功能表，然後選擇 [ **群組**]、[ **轉換為群組**]。|
|變更群組內的配置。|選取群組、開啟快捷方式功能表、選擇 [配置]，然後選取您想要 **的版面配置** 樣式。<br /><br /> - 或 -<br /><br /> 1. 選取群組，並確認它已展開。<br />2. 再次按一下群組標頭，[群組] 工具列隨即出現。<br />     ![相依性圖形 &#45; 群組工具列](../modeling/media/dependencygraph_group.png)<br />3. 開啟 [ **變更群組** 清單相依性圖形的配置樣式 ![ ] &#45; 群組工具列 &#45; 配置 ](../modeling/media/dependencygraph_grouptoolbar.gif) ，然後選擇您想要的版面配置樣式。<br /><br /> **清單視圖** 會將群組的成員重新排列成清單。 **圖形預設** 會將群組配置重設為地圖預設版面配置。 如需其他選項，請參閱 [變更地圖版面](#Selecting)配置。|
|將節點加入群組。|將節點拖曳至群組。<br /><br /> 拖曳節點時，Visual Studio 會顯示一個標記，顯示您要移動節點。<br /><br /> 您也可以將節點拖曳至群組之外。|
|將節點加入非群組節點。|拖曳節點到目標節點上。 將節點加入任意目標節點，即可將此目標節點轉換成群組。|
|群組選取的節點。|1. 選取您要群組的節點。 快顯工具列會出現在您選取的最後一個節點上方。<br />     ![相依性圖形工具列](../modeling/media/depedencygraph_toolbar.png)<br />2. 在工具列上，選擇第四個圖示 **群組選取的節點** (如果節點展開，則會有五個，而不是四個圖示) 。 輸入新群組的名稱，然後按下 **Return**。<br />     - 或 -<br />     選取要群組的節點，並開啟所選項目的捷徑功能表。 選擇 [ **群組**]、[ **加入父群組**]，輸入新群組的名稱，然後按 [ **返回**]。<br /><br /> 您可以重新命名群組。 開啟群組的快捷方式功能表，然後選擇 [ **編輯**]、[ **屬性** ]，開啟 Visual Studio 屬性視窗。 在 [ **標籤** ] 屬性中，視需要將群組重新命名。|
|移除群組。|選取您要移除的群組。 開啟您選取專案的快捷方式功能表，然後選擇 [ **群組**]、[ **移除群組**]。|
|從其父群組中移除節點。|選取您要移動的節點。 開啟選取專案的快捷方式功能表，然後選擇 [ **群組**]、[ **從父系移除**]。 這會移除至其 Grandparent 節點，如果沒有 Grandparent 群組，則會移除至群組外部節點。<br /><br /> - 或 -<br /><br /> 選取節點，並將它們拖曳出群組。|

## <a name="add-remove-or-rename-nodes-links-and-comments"></a><a name="AddRemoveNodesLinks"></a> 新增、移除或重新命名節點、連結和批註

您可以顯示更多或較少的對應項目，以便向下鑽研或簡化對應。 也可以重新命名項目，並將註解加入項目。

> [!CAUTION]
> 在您與 Visual Professional 的使用者共用以 Visual Studio Enterprise 建立的對應之前，請確認您想讓其他人查看的程式碼項目都顯示在對應上。 否則，那些使用者將無法擷取已刪除的程式碼項目。

### <a name="add-a-node-for-a-code-element"></a>為程式碼項目加入節點

|**若要**|**執行這些步驟**|
|-|-|
|在目前的滑鼠指標位置加入新的泛型節點。|1. 將滑鼠指標移至地圖上您要放置新程式碼專案的位置，然後按 [ **插入**]。<br />     - 或 -<br />     開啟對應的快捷方式功能表，然後選擇 [ **編輯**]、[ **加入**]、[ **一般] 節點**。<br />2. 輸入新節點的名稱，然後按下 **Return**。|
|在目前的滑鼠指標位置加入特定類型的程式碼項目節點。|1. 將滑鼠指標移至地圖上您要放置新程式碼專案的位置，然後開啟地圖的快捷方式功能表。<br />2. 選擇 [ **編輯**]、[ **新增**]，然後選取您想要的節點類型。<br />3. 輸入新節點的名稱，然後按下 **Return**。|
|將一般或特定類型的程式碼項目節點加入群組。|1. 選取 [群組] 節點，然後開啟快捷方式功能表。<br />2. 選擇 [ **編輯**]、[ **新增**]，然後選取您想要的節點類型。<br />3. 輸入新節點的名稱，然後按下 **Return**。|
|加入相同類型的新節點，並從現有的節點連結。|1. 選取程式碼專案。 快顯工具列顯示在其上方。<br />     ![相依性圖形工具列](../modeling/media/depedencygraph_toolbar.png)<br />2. 在工具列上，選擇第二個圖示 **建立與此節點相同分類的節點，並在其中加入新的連結**。<br />3. 選擇地圖上的位置來放置新的程式碼元素，然後按一下滑鼠左鍵。<br />4. 輸入新節點的名稱，然後按下 **Return**。|
|加入新的泛型節點，它從具有焦點的現有程式碼項目連結。|1. 使用鍵盤，按下 **tab** 鍵，直到要連結的程式碼專案具有焦點 (虛線矩形) 。<br />2. 按 **Alt** + **Insert**。<br />3. 輸入新節點的名稱，然後按下 **Return**。|
|加入新的泛型節點，它會連結到具有焦點的現有程式碼項目。|1. 使用鍵盤，按下 **tab** 鍵，直到要連結的程式碼專案具有焦點 (虛線矩形) 。<br />2. 按 **Alt** + **Shift** + **Insert**。<br />3. 輸入新節點的名稱，然後按下 **Return**。|

|**程式碼項目加入對象**|**執行這些步驟**|
|-|-|
|方案中的程式碼項目。|1. 在 **方案總管** 中尋找程式碼專案。 使用 **方案總管** 搜尋方塊或流覽方案。 **秘訣：**      若要尋找與類型或成員具有相依性的程式碼專案，請在 [ **方案總管**] 中開啟類型或成員的快捷方式功能表。 選擇您感興趣的關聯性。 **方案總管** 只會顯示具有指定相依性的程式碼元素。<br />2. 將您感興趣的程式碼元素拖曳至地圖介面。 您也可以從 [類別檢視] 或 [物件瀏覽器] 拖曳程式碼項目。<br />     - 或 -<br />     在 **方案總管** 中，選取您要對應的程式碼專案。 然後，在 [ **方案總管** ] 工具列上，按一下 [ **在 Code Map 上顯示**]。<br /><br /> 新程式碼項目的父容器階層預設會顯示在對應上。 使用 code map 工具列上的 [ **包含父代** ] 按鈕，即可變更此行為。 關閉時，只有程式碼項目本身加入對應。 若只要將這個行為反轉一個拖放動作，請在將程式碼專案拖曳至對應時按住 **CTRL** 鍵。<br /><br /> Visual Studio 會將最上層程式碼項目的程式碼項目加入您的選取範圍。 若要查看程式碼項目是否包含其他程式碼項目，請將滑鼠指標移到程式碼項目上，＞形箭號 (向下箭頭) 隨即出現。 選擇＞形箭號展開程式碼項目。 若要展開所有程式碼專案，請按 **CTRL** + **鍵** 選取所有元素，開啟地圖的快捷方式功能表，然後選擇 [**群組**]、[**展開**]。 如果展開所有群組產生了無法使用的對應，或導致記憶體不足問題，便無法使用這個命令。|
|程式碼項目與對應的程式碼項目相關。|按一下 code map 工具列上的 [ **顯示相關** 專案] 按鈕，然後選擇您感興趣的相關專案類型。<br /><br /> - 或 -<br /><br /> 開啟程式碼項目的捷徑功能表。 根據您感興趣的關聯性種類，選擇功能表上的其中一個 [ **顯示 ...** ] 專案。 例如，您可以看到目前項目參考的項目，以及參考目前項目、類別的基底類型和衍生類型、方法呼叫程式，以及包含類別、命名空間和組件的項目。<br /><br /> 如需詳細資訊，請參閱 [本主題](../modeling/map-dependencies-across-your-solutions.md)。|
|已編譯的 .NET 組件 (.dll 或 .exe) 或二進位檔。|從 Visual Studio 外部，將組件或二進位檔拖曳至對應。<br /><br /> 只要您是以相同的使用者存取控制 (UAC) 權限等級執行它與 Visual Studio，就可以從 Windows 檔案總管或檔案總管拖曳。 例如，如果 UAC 已開啟，而您是以系統管理員身分執行 Visual Studio，那麼 Windows 檔案總管或檔案總管將會封鎖拖曳作業。|

### <a name="AddNodes"></a>

#### <a name="add-a-link-between-existing-code-elements"></a>在現有的程式碼項目之間加入連結

1. 選取來源程式碼項目。 工具列會出現在程式碼項目的上方。

    ![相依性圖形工具列](../modeling/media/depedencygraph_toolbar.png)

2. 在工具列上，選擇第一個圖示， **然後從這個節點建立新的連結，然後按一下 [下一步]**。

3. 選取目標程式碼項目。 兩個程式碼項目之間會出現連結。

**OR**

1. 在對應上選取來源程式碼項目。

2. 如已安裝滑鼠，請將滑鼠指標移至對應範圍外。

3. 開啟程式碼專案的快捷方式功能表，然後選擇 [**編輯**  >  **加入**  >  **泛型連結**]。

4. 用 Tab 鍵移至並選取連結的目標程式碼項目。

5. 按 **Enter**。

### <a name="AddComments"></a>

#### <a name="add-a-comment-to-an-existing-node-on-the-map"></a>在對應上的現有節點中加入註解

1. 選取程式碼項目。 工具列出現在其上方。

     ![相依性圖形工具列](../modeling/media/depedencygraph_toolbar.png)

2. 在工具列上，選擇第三個圖示， **並使用所選節點的新連結來建立新的批註節點**。

     \- 或 -

     開啟程式碼專案的快捷方式功能表，然後選擇 [**編輯**  >  **新的批註**]。

3. 輸入您的註解。 若要輸入新的一行，請按 **Shift**  +  **鍵**。

#### <a name="add-a-comment-to-the-map-itself"></a>在對應本身加入註解

1. 開啟對應的快捷方式功能表，然後選擇 [**編輯**  >  **新的批註**]。

2. 輸入您的註解。 若要輸入新的一行，請按 **Shift**  +  **鍵**。

### <a name="RenameNodes"></a>

#### <a name="rename-a-code-element-or-link"></a>重新命名程式碼項目或連結

1. 選取程式碼項目或想要重新命名的連結。

2. 按 **F2**，或開啟快捷方式功能表，然後選擇 [**編輯**  >  **重新命名**]。

3. 當編輯方塊出現在對應中時，重新命名程式碼項目或連結。

**OR**

1. 開啟快捷方式功能表，然後選擇 [**編輯**  >  **屬性**]。

2. 編輯 Visual Studio 屬性視窗中的 **標籤** 屬性。

#### <a name="remove-a-code-element-or-link-from-the-map"></a>移除對應的程式碼項目或連結

1. 選取程式碼專案或連結，然後按下 **Delete** 鍵。

     \- 或 -

     開啟程式碼專案或連結的快捷方式功能表，然後選擇 [**編輯**  >  **移除**]。

2. 如果專案或連結是群組的一部分，[ **重新擷取子** 系] 按鈕 ![ 重新擷取子系圖示 ](../modeling/media/dependencygraph_deletednodesicon.png) 就會出現在群組內。 按一下此選項可擷取遺漏的項目和連結。

- 您可以移除對應的程式碼項目和連結，不影響基礎程式碼。 當您刪除這些項目時，其定義會從 DGML (.dgml) 檔案中移除。

- 透過編輯 DGML、加入未定義的程式碼項目，或使用較早版本的 Visual Studio 所建立的對應，不支援此功能。

#### <a name="flag-a-code-element-for-follow-up"></a>將程式碼項目標記為待處理

1. 選取要標記為待處理的程式碼項目或連結。

2. 開啟快捷方式功能表，然後選擇 [**編輯**  >  **旗標] 進行後續追蹤**。

- 程式碼項目預設為紅色背景。 請考慮使用適當的後續資訊來 [新增批註](#AddComments) 。

- 請變更元素的背景色彩，或選擇 [**編輯**  >  **其他旗標色彩**] 來清除後續旗標。

## <a name="change-the-style-of-a-code-element-or-link"></a><a name="ChangeStyleCodeOrLink"></a> 變更程式碼元素或連結的樣式

您可以使用預先定義的圖示和色彩，變更程式碼項目上的圖示以及程式碼項目和連結的色彩。 例如，您可以選擇色彩來醒目提示具有特定分類或屬性的程式碼項目和連結。 這樣就能識別和注意對應的特定區域。 您可以藉由編輯對應的 .dgml 檔案來指定自訂圖示和色彩;請參閱藉 [由編輯 DGML 檔案自訂 code map](../modeling/customize-code-maps-by-editing-the-dgml-files.md)。

### <a name="to-apply-a-predefined-color-or-icon-to-code-elements-or-links-with-a-certain-category-or-property"></a>將預先定義的色彩或圖示套用至具有特定分類或屬性的程式碼項目或連結

1. 選擇 [對應] 工具列上的 [ **圖例**]。

2. 在 [ **圖例** ] 方塊中，查看清單中是否已顯示程式碼專案分類或屬性。

3. 如果清單未包含類別或屬性，請選擇 **+** [ **圖例** ] 方塊中的 [ **節點屬性**]、[ **節點類別目錄**]、[ **連結屬性**] 或 [ **連結類別**]。 再選擇屬性或類別。 類別或屬性現在會出現在 [ **圖例** ] 方塊中。

    > [!NOTE]
    > 若要建立類別或屬性，並將其指派給程式碼專案，您可以編輯對應的 .dgml 檔案;請參閱藉 [由編輯 DGML 檔案自訂 code map](../modeling/customize-code-maps-by-editing-the-dgml-files.md)。

4. 在 [ **圖例** ] 方塊中，按一下您新增或想要變更之類別或屬性旁的圖示。

5. 使用下表選取您想要變更的樣式：

    |**若要變更**|**選擇**|
    |-|-|
    |背景色彩|**背景**|
    |外框色彩|**中風**|
    |文字色彩 (會顯示字母 "f" 以顯示結果) |**前景**|
    |圖示|**圖示**|

     [ **色彩集選擇器** ] 或 [ **圖示集選擇器** ] 對話方塊隨即出現，供您選取色彩或圖示。

6. 在 [ **色彩集選擇器** ] 或 [ **圖示集選擇器** ] 對話方塊中，執行下列其中一項：

    |**若要套用**|**執行這些步驟**|
    |-|-|
    |色彩或圖示集|開啟 [**選取色彩**] (或) **設定** 清單的 **圖示**。 選取色彩或圖示集。|
    |特定的色彩或圖示|開啟類別或屬性值的清單。 選取色彩或圖示。|

    > [!NOTE]
    > 您可以重新整理、刪除或暫時停用 [ **圖例** ] 方塊中的樣式。 請參閱 [編輯圖例](#ModifyLegend)方塊。

## <a name="edit-the-legend-box"></a><a name="ModifyLegend"></a> 編輯圖例方塊

您可以重新整理、刪除或暫時停用 [ **圖例** ] 方塊中的樣式：

1. 在 [ **圖例** ] 方塊中開啟樣式的快捷方式功能表。

2. 請執行下列其中一項工作：

    |**若要**|**選擇**|
    |-|-|
    |停用程式碼項目|「停用」|
    |刪除程式碼項目|**刪除**|
    |將樣式向上移動|**上移**|
    |下移程式碼項目|**下移**|

## <a name="copy-styles-from-one-map-to-another"></a><a name="CopyLegend"></a> 從一個地圖將樣式複製到另一個對應

1. 請確定 [ **圖例** ] 方塊出現在來源對應上。 如果看不到，請按一下 [對應] 工具列上的 [ **圖例**]。

2. 開啟 [ **圖例** ] 方塊的快捷方式功能表。 選擇 [ **複製圖例**]。

3. 將圖例貼到目標對應。

## <a name="merge-code-maps"></a><a name="MergeMaps"></a> 合併 code map

在對應間複製及貼上程式碼項目，可以合併對應。 如果程式碼項目的識別項相符，則貼上程式碼項目的功能就和合併作業一樣。 若要使此工作更加容易，將所有您想要視覺化的組件或二進制檔放在相同的資料夾內，如此對於要合併的每個對應而言，每個組件或二進制檔的完整路徑均相同。

或者，您可以將該資料夾的這些組件或二進位檔拖曳至相同的對應。

## <a name="see-also"></a>另請參閱

- [對應方案之間的相依性](../modeling/map-dependencies-across-your-solutions.md)
- [使用 Code Map 偵錯您的應用程式](../modeling/use-code-maps-to-debug-your-applications.md)
- [使用 Code Map 分析器尋找潛在問題](../modeling/find-potential-problems-using-code-map-analyzers.md)
- [藉由編輯 DGML 檔案自訂 Code Map](../modeling/customize-code-maps-by-editing-the-dgml-files.md)
- [有向圖形標記語言 (DGML) 參考](../modeling/directed-graph-markup-language-dgml-reference.md)
