---
title: 偵錯執行緒和處理程序 |Microsoft Docs
ms.custom: ''
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.reviewer: ''
ms.suite: ''
ms.technology:
- vs-ide-debug
ms.tgt_pltfrm: ''
ms.topic: article
dev_langs:
- FSharp
- VB
- CSharp
- C++
helpviewer_keywords:
- multiprocess debugging
- threading [Visual Studio], debugging
- processes, debugging
- debugging threads
- debugging [Visual Studio], threads
ms.assetid: 9f0c8505-b6b2-452b-adfd-076db14d8115
caps.latest.revision: 18
author: MikeJo5000
ms.author: mikejo
manager: ghogen
ms.openlocfilehash: d0a42ed90275bb8988bb6bedc0b707aec21ab3b8
ms.sourcegitcommit: af428c7ccd007e668ec0dd8697c88fc5d8bca1e2
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/16/2018
ms.locfileid: "51802612"
---
# <a name="debug-threads-and-processes"></a>偵錯執行緒和處理序
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

執行緒 * 並*處理序*是電腦科學中相關的概念。 兩者都代表必須以特定順序執行的指令序列。 但是，不同執行緒或處理序中的指令能夠平行執行。  
  
 處理序存在於作業系統中，並對應至所謂的程式或應用程式。 從另一方面來說，執行緒存在於處理序中。 基於這個理由，執行緒有時候稱為*輕量級程序*。 每個處理序是由一或多個執行緒組成。  
  
 具有多個處理序能夠讓電腦同時執行一項以上的工作。 具有多個執行緒能夠讓處理序分割工作以平行方式執行。 使用多個處理器的電腦能夠在不同的處理器上執行處理序或執行緒。 如此可達到真正的平行處理。  
  
 但是並非都能達到完美的平行處理境界。 執行緒有時候必須進行同步處理。 一個執行緒可能需要等候其他執行緒的結果，或是一個執行緒可能需要其他執行緒正在使用之資源的獨佔存取權。 同步處理是多執行緒應用程式中發生錯誤的常見原因。 有時候執行緒會演變成一直在等候永遠無法使用的資源。 這會導致所謂*死結*。  
  
 [!INCLUDE[vsprvs](../includes/vsprvs-md.md)] 偵錯工具提供強大而容易使用的工具以便偵錯執行緒和處理序。  
  
## <a name="tools-for-debugging-threads-and-processes-in-visual-studio"></a>Visual Studio 中偵錯執行緒和處理序的工具  
 使用中的程序的主要工具[!INCLUDE[vsprvs](../includes/vsprvs-md.md)]會**附加至處理序** 對話方塊中，**程序**視窗中，而**偵錯位置**工具列。 偵錯執行緒的主要工具是**執行緒**視窗中，在來源視窗中的執行緒標記並**偵錯位置**工具列。  
  
 偵錯多執行緒應用程式的主要工具是**平行堆疊**並**平行工作**，**平行監看式**，和**GPU 執行緒** windows。  
  
 下表顯示在這些位置中可用的資訊與能夠執行的動作：  
  
|使用者介面|可用的資訊|能夠執行的動作|  
|--------------------|---------------------------|-----------------------------|  
|**Připojit k procesu**對話方塊|能夠附加至的可用處理序：<br /><br /> 同處理序名稱 (.exe)<br />-處理序 ID 編號<br />-Menubar 標題<br />型別 (Managed v4.0;managed;受管理的 v2.0、 v1.1、 v1.0;x86;x64;IA64)<br />使用者名稱 （帳戶名稱）<br />工作階段數目|選取要附加至的處理序<br /><br /> 選取遠端電腦<br /><br /> 變更連接至遠端電腦的傳輸類型|  
|**處理序**視窗|附加之處理序：<br /><br /> 同處理序名稱<br />-處理序 ID 編號<br />-處理序.exe 的路徑<br />-Menubar 標題<br />狀態 （中斷。 執行)<br />-偵錯 （原生、 Managed，而且等等）。<br />-傳輸類型 （預設、 未經驗證的機器碼）<br />-傳輸限定詞 （遠端電腦）|工具：<br /><br /> 附加<br />卸離<br />-結束<br /><br /> 捷徑功能表：<br /><br /> 附加<br />卸離<br />卸離時停止偵錯<br />-結束|  
|**執行緒**視窗|目前處理序中的執行緒：<br /><br /> 執行緒識別碼<br />-受管理的識別碼<br />-分類 （主執行緒、 介面執行緒、 遠端程序呼叫處理常式或背景工作執行緒）<br />執行緒名稱<br />位置會在建立執行緒<br />優先順序<br />相似性遮罩<br />-暫停計數<br />同處理序名稱<br />旗標指標<br />-暫停指標|工具：<br /><br /> 搜尋<br />搜尋呼叫堆疊<br />-加上旗標 Just My Code<br />旗標自訂模組選取範圍<br />-分組<br />資料行<br />展開/摺疊呼叫堆疊<br />展開/摺疊群組<br />-凍結/解除凍結執行緒<br /><br /> 捷徑功能表：<br /><br /> -在來源中顯示執行緒<br />-切換至執行緒<br />-凍結執行中的執行緒<br />-解除凍結的執行緒<br />-加上旗標的執行緒，以便做進一步研究<br />-執行緒取消旗標<br />-重新命名執行緒<br />-顯示和隱藏執行緒<br /><br /> 其他動作：<br /><br /> 檢視資料提示方塊中的執行緒的呼叫堆疊|  
|來源視窗|左側的裝訂邊中的執行緒指示器能指出是單一或多個執行緒 (預設為使用中的捷徑功能表開啟關閉**執行緒**視窗)|捷徑功能表：<br /><br /> -切換至執行緒<br />-加上旗標的執行緒，以便做進一步研究<br />-執行緒取消旗標|  
|**偵錯位置**工具列|-目前的處理序<br />暫停應用程式<br />-繼續執行應用程式<br />-暫止並關閉應用程式<br />-目前的執行緒<br />-切換目前執行緒的旗標狀態<br />-顯示已標幟的執行緒<br />-僅顯示目前處理序<br />-目前的堆疊框架|-切換至另一個處理序<br />-暫止、 繼續或關閉應用程式<br />-切換至目前的處理序中的另一個執行緒<br />-切換至目前執行緒中的另一個堆疊框架<br />-加上旗標，或將目前的執行緒取消標幟<br />-顯示已標幟的執行緒<br />-僅顯示目前處理序|  
|**平行堆疊**視窗|-在同一個視窗中的多個執行緒中呼叫堆疊。<br />的每個執行緒作用中堆疊框架。<br />-呼叫端和被呼叫端的任何方法。|-篩選出指定的執行緒<br />-切換至 [平行工作] 檢視<br />-旗標或取消執行緒取消旗標<br />縮放|  
|**平行工作**視窗|-檢視有關的資訊<xref:System.Threading.Tasks.Task>物件包括工作 ID、 工作狀態 （已排程、 執行中、 等待，死結），以及哪一個執行緒指派給工作。<br />-目前呼叫堆疊中的位置。<br />在建立時傳遞至工作的委派|-切換至目前的工作<br />-加上旗標，或將工作取消標幟<br />-凍結或解除凍結工作|  
|**平行監看式**視窗|-旗標資料行，您可以在其中將標記您想要特別注意的執行緒。<br />-框架資料行，其中箭號表示所選取畫面格。<br />-機器、 程序、 tile、 工作中和執行緒可以顯示可設定資料行。|-旗標或取消執行緒取消旗標<br />-顯示已標幟的執行緒<br />切換框架<br />排序資料行<br />-群組執行緒<br />-凍結或解除凍結執行緒<br />-匯出 [平行監看式] 視窗中的資料|  
|**GPU 執行緒**視窗|-旗標資料行，您可以在其中將標記您想要特別注意的執行緒。<br />-使用中執行緒資料行，其中黃色箭號表示使用中執行緒。 箭號表示執行進入偵錯工具的執行緒。<br />-**執行緒計數**資料行，在相同位置顯示的執行緒數目。<br />-**列**資料行，顯示每個執行緒群組所在的程式碼行。<br />-**地址**資料行，顯示每個執行緒群組所在的指令位址。<br />-**位置**資料行，這是在程式碼中的地址的位置。<br />-**狀態**資料行，顯示執行緒為作用中或已封鎖。<br />-**圖格**資料行，資料列中顯示執行緒的磚索引。|-變更為不同的使用中執行緒<br />-顯示特定 tile 和執行緒<br />-顯示或隱藏資料行<br />依資料行排序<br />-群組執行緒<br />-凍結或解除凍結執行緒<br />-旗標或取消執行緒取消旗標<br />-顯示已標幟的執行緒|  
  
## <a name="see-also"></a>另請參閱  
 [附加至執行中處理程序](../debugger/attach-to-running-processes-with-the-visual-studio-debugger.md)   
 [偵錯多執行緒應用程式](../debugger/debug-multithreaded-applications-in-visual-studio.md)   
 [偵錯 GPU 程式碼](../debugger/debugging-gpu-code.md)



