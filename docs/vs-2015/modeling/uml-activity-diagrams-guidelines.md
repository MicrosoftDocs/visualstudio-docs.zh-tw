---
title: UML 活動圖表： 指導方針 |Microsoft Docs
ms.custom: ''
ms.date: 11/15/2016
ms.prod: visual-studio-tfs-dev14
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- UML diagrams, activity
- diagrams - modeling, activity
- diagrams - modeling, UML activity
- activity diagrams
- UML, activity diagrams
ms.assetid: fe5dbe96-79ab-483a-b9bc-44d0d1d3efc2
caps.latest.revision: 50
author: gewarren
ms.author: gewarren
manager: douge
ms.openlocfilehash: a13db375305e96c4657e007f9cd8bfffbf34f990
ms.sourcegitcommit: af428c7ccd007e668ec0dd8697c88fc5d8bca1e2
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/16/2018
ms.locfileid: "51722692"
---
# <a name="uml-activity-diagrams-guidelines"></a>UML 活動圖表：方針
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

在 Visual Studio 中，您可以繪製活動圖表，將商務程序或軟體演算法描述成為經過一系列動作的工作流程。 人員、軟體元件或裝置皆可執行這些動作。 如需影片示範，請參閱：[使用活動圖表擷取商業工作流程](http://channel9.msdn.com/posts/clinted/UML-with-VS-2010-Part-4-Capture-Business-Workflows/)。  
  
 若要查看哪些 Visual Studio 版本支援這項功能，請參閱 [Version support for architecture and modeling tools](../modeling/what-s-new-for-design-in-visual-studio.md#VersionSupport)。  
  
 若要建立 UML 活動圖，在**架構**功能表上，按一下**新增 UML 或分層圖**。  
  
 您可以使用活動圖表來進行許多用途：  
  
- 描述商務程序或使用者與系統之間的工作流程。 如需詳細資訊，請參閱 <<c0> [ 模型使用者需求](../modeling/model-user-requirements.md)。  
  
- 描述使用案例的執行步驟。 如需詳細資訊，請參閱 < [UML 使用案例圖： 方針](../modeling/uml-use-case-diagrams-guidelines.md)。  
  
- 描述在軟體中的方法、函式或作業。 如需詳細資訊，請參閱 <<c0> [ 您的應用程式架構模型](../modeling/model-your-app-s-architecture.md)。  
  
  繪製活動圖表可協助您改善程序。 如果現有程序的圖表會很複雜，您可以考慮如何簡化程序。  
  
  活動圖表上 參考之元素的相關資訊，請參閱[UML 活動圖表： 參考](../modeling/uml-activity-diagrams-reference.md)。  
  
##  <a name="Relationships"></a> 與其他圖表的關聯性  
 如果您繪製活動圖表來描述商務程序，或使用者使用您系統的方式，則可以繪製使用案例圖，以顯示相同資訊的不同檢視。 在使用案例圖中，您將動作繪製成為使用案例。 提供使用案例與對應動作相同的名稱。 使用案例檢視的優點是您可以：  
  
- 在一個圖表中，顯示較小的動作 / 使用案例如何使用「包含」關聯性來組成較大的動作 / 使用案例。  
  
- 明確將每個動作 / 使用案例連接到執行時牽涉到的使用者或外部系統。  
  
- 在您的系統或其每個主要元件所支援的動作 / 使用案例周圍繪製界限。  
  
  您也可以繪製活動圖表來描述軟體作業的詳細設計。  
  
  在活動圖表中，您可以顯示動作之間傳遞的資料流。 請參閱 〈[描述資料流程](#DataFlows)。 但是活動圖表不會描述資料的結構。 針對該目的，您可以繪製 UML 類別圖表。 如需資訊[UML 類別圖： 方針](../modeling/uml-class-diagrams-guidelines.md)。  
  
##  <a name="BasicSteps"></a> 繪製活動圖表的基本步驟  
 建立任何模型圖的詳細的步驟所述[編輯 UML 模型和圖表](../modeling/edit-uml-models-and-diagrams.md)。  
  
#### <a name="to-draw-an-activity-diagram"></a>繪製活動圖表  
  
1.  在 **架構**功能表上，按一下**新增 UML 或分層圖**。  
  
2.  底下**範本**，按一下**UML 活動圖表**。  
  
3.  命名圖表。  
  
4.  在 **加入至模型專案**，在您方案中，選取現有的模型專案或**建立新的模型專案**。  
  
#### <a name="to-draw-elements-on-an-activity-diagram"></a>繪製活動圖表上的項目  
  
1.  將項目從工具箱拖曳至圖表。  
  
     首先將主要活動放在圖表上、連接它們，然後加入最後的裝點，例如初始和最終節點。  
  
    > [!NOTE]
    >  您無法將現有項目從 UML 模型總管拖曳到圖表上。  
  
2.  若要連接項目，請遵循下列步驟：  
  
    1.  在 [**活動圖表**工具箱] 中，按一下**連接器**。  
  
    2.  在圖表中，按一下來源項目。  
  
    3.  按一下目標項目。  
  
        > [!NOTE]
        >  若要多次使用一種工具，請按兩下工具箱中的工具。  
  
#### <a name="to-move-an-activity-to-another-package"></a>將活動移到另一個套件  
  
-   在 [ **UML 模型總管]**，將活動拖曳至套件。  
  
     \-或-  
  
-   在  **UML 模型總管**，以滑鼠右鍵按一下活動，然後按一下**剪下**。 然後以滑鼠右鍵按一下封裝，並按一下**貼上**。  
  
    > [!NOTE]
    >  只有當您將第一個項目加入圖表，活動才會出現在 UML 模型總管。  
  
##  <a name="SimpleControlFlow"></a> 描述控制流程  
 活動圖表將商務程序或軟體演算法描述為一系列的動作。 連接器箭頭顯示控制如何循序從一個動作傳遞到下一個動作。 一般來說，只在前一個動作完成之後，才能開始動作。  
  
 下圖示範您如何使用動作、連接器、分支與迴圈來顯示一系列動作。 每個項目將於下列各節中詳細說明。  
  
 ![簡單的活動圖表](../modeling/media/uml-actguidectrl.png "UML_ActGuideCtrl")  
  
 活動圖表使用**動作**並**連接器**來描述您的系統或應用程式作為一系列的動作與循序從一個動作送至下一個控制項。  
  
- 建立**動作**(1) 由使用者、 系統，或兩者共同作業中執行每個主要工作。  
  
  > [!NOTE]
  >  請試著以幾個動作描述您的程序或演算法。 您可以使用**呼叫行為動作**中所述，在個別的圖表，詳細定義每個動作[使用呼叫行為動作描述子活動](#Subactivities)。  
  
- 確定每個動作的標題清楚地指出它通常會達成的事項。  
  
- 連結動作序列**連接器**(2)。  
  
- 每個動作會在控制流程中的下一個動作開始之前結束。 如果您想要描述重疊，請使用動作**分岔節點**一節中所述[並行流程](#Concurrent)。  
  
  雖然圖表描述動作的順序，但是它不會描述如何執行動作，或控制如何從一個動作傳遞至下一個動作。 如果您使用圖表來代表商務程序，比方說，當有人將電子郵件訊息傳送至另一人時，可能會傳遞控制。 如果您使用圖表來代表軟體設計，控制可能會藉由從一個陳述式到下個陳述式的正常執行流程而傳遞。  
  
### <a name="describing-decisions-and-loops"></a>描述決策與迴圈  
  
-   使用**決策節點**(3)，以表示決策結果決定下一個步驟的其中一個點。 您可以繪製您想要的任意數目的傳出路徑。  
  
-   如果您使用活動圖表來定義應用程式的組件，您應該定義成立條件 (4)，以便清楚每個路徑應該採用的時機。 以滑鼠右鍵按一下連接器，請按一下**屬性**，然後在**屬性**視窗中，輸入的值**Guard**欄位。  
  
-   您不一定需要定義成立條件。 例如，如果您使用活動圖表來描述商務程序或互動通訊協定，則分支會定義使用者或互動元件可用的選項範圍。  
  
-   使用**合併節點**(5) 來結合兩個或多個已在分支的替代流程**決策節點**。  
  
    > [!NOTE]
    >  您應該使用**合併節點**來結合替代的流程，而不是流程結合在一個動作。 在範例中，它不會正確連接從決策節點直接回到**Choose Menu Item**。 這是因為動作不會啟動，直到控制到達所有內送的連接器為止。 因此，您應該只將並行流程結合在動作。 如需詳細資訊，請參閱 <<c0> [ 並行流程](#Concurrent)。  
  
-   使用分支來描述迴圈，如範例所示。  
  
    > [!NOTE]
    >  嘗試以結構良好的方式建立迴圈巢狀，如同在程式碼中一樣。 如果您要描述現有的商務程序，這樣做有可能會顯露出一些改善程序的機會。  
  
### <a name="starting-the-activity"></a>啟動活動  
 有兩種方式可表示活動的進入點：  
  
-   **初始節點**  
  
     建立一個**初始節點**(6) 來表示活動的第一個動作。  
  
     當您在描述子活動時，或在不必明確陳述活動的起始物時，這個方法最有用。 比方說，「點餐」(Order a Meal) 這個活動顯然是在客戶餓了時開始。  
  
-   **接受事件節點**  
  
     建立**接受事件節點**，如下一節中所述[並行流程](#Concurrent)，以表示執行緒會回應特定事件，例如使用者輸入的開頭。 請不要對該節點提供流入流程。 省略傳入的流程表示每當事件發生時，將會啟動執行緒。  
  
     描述對特定外部事件的回應時，這個方法最有用。  
  
### <a name="ending-the-activity"></a>結束活動  
 使用**活動的最後節點**(7)，表示活動的結尾。  
  
-   當控制項的執行緒到達**活動的最後節點**，活動的所有並行動作和子活動終止。  
  
-   若要減少其他連接器造成的雜亂，您可以使用多個活動的最後節點。  
  
### <a name="interrupting-the-activity"></a>中斷活動  
 若要描述如何中斷活動的一般流程，例如，如果使用者決定取消程序，您可以建立接聽該事件的接受事件節點。 如需詳細資訊，請參閱[並行流程](#Concurrent)。 建立從該節點到「活動的最後節點」(7) 的控制流程。  
  
### <a name="swimlanes"></a>區隔線  
 將活動的動作排列成區域，對應到執行動作的不同物件或商務角色，有時是很有用的。 這些區域通常會排列成資料行中，以及稱為*泳道*。  
  
- 使用線條或矩形，從**簡單的圖形**來繪製區隔線或其他區域的 [工具箱] 的區段。  
  
- 每一個泳道都加上標籤，建立註解，並設定其**Transparent**屬性設 **，則為 True**。  
  
  簡單的圖形不會形成 UML 模型的一部分，且不會出現在 UML 模型總管中。  
  
##  <a name="DataFlows"></a> 描述資料流程  
 您可以使用兩種方式之一，描述傳入和傳出活動的資料：  
  
-   使用**物件節點**。 這是描述活動之間資訊流程最簡單的方法。 物件節點，就像是程式中的變數。 它代表儲存從一個動作傳遞至另一個動作之一或多個值的項目。  
  
-   使用**輸出釘選**並**輸入 pin 碼**。 這個方法可讓您分別描述一個動作的輸出和另一個動作的輸入。 連接就像是程式中的參數。 連接代表連接埠，物件可以在這裡進入及離開動作。  
  
    > [!NOTE]
    >  如需這一節所使用之元素的概觀，請參閱 < 資料流程 > 一節的主題看到[UML 活動圖表： 參考](../modeling/uml-activity-diagrams-reference.md)。  
  
### <a name="describing-data-flow-with-object-nodes"></a>使用物件節點描述資料流程  
 大部分的控制流程都含有資料。 比方說，從「客戶提供詳細資料」動作的輸出流程便帶有送貨地址的參考。  
  
 如果您想要在圖表上描述該資料，可以使用一個物件節點加上兩個連接器來取代一個連接器，如下圖所示。  
  
 ![物件節點，可顯示動作之間傳送的資料](../modeling/media/uml-actguidedata.png "UML_ActGuideData")  
  
 請注意圓角矩形是代表動作，例如「配送餐點」，在這裡會發生處理作業。 方角矩形，例如「送貨地址」，則代表從一個動作到另一個動作的物件流程。  
  
 提供物件節點可反映節點角色的名稱，做為在動作之間流動的物件管道或緩衝區。  
  
 您可以設定**型別**的 [屬性] 視窗中的 [物件] 節點。 類型可以是基本類型，例如整數，或您在類別圖表中定義的類別、介面或列舉。 比方說，您可以建立類別 Shipment Address，並具有屬性 Street Address、City 等等，以及與另一個名為 Customer 之類別的關聯。 如需詳細資訊，請參閱 < [UML 類別圖： 方針](../modeling/uml-class-diagrams-guidelines.md)。  
  
> [!NOTE]
>  如果您輸入尚未定義的型別名稱時，會加入項目之下**未指定的型別**UML 模型總管 中。 如果接下來您在類別圖表中定義該名稱的類型，則應該重設物件節點的類型，使其參考新的類型。  
  
#### <a name="buffering-data-in-object-nodes"></a>在物件節點中緩衝處理資料  
 物件節點可做為多個物件的緩衝區。 在下圖中，控制流程顯示使用者可以經過 [選擇更多] 迴圈 (1) 許多次，而「選擇菜單項目」物件節點 (2) 則會累積使用者的選擇。 最後，當使用者完成選取項目時，控制權會傳遞給 Confirm Order 動作 (3)，它會從 Chosen Menu Items 緩衝區接受選項的完整清單。  
  
 ![在物件節點中緩衝處理資料](../modeling/media/uml-actguidebuffer.png "UML_ActGuideBuffer")  
  
 您可以藉由設定物件節點的屬性，指定如何儲存緩衝區中的項目：  
  
-   設定**訂購**屬性：  
  
    -   **未排序**指定隨機或未指定的順序。 (預設值。)  
  
    -   **排序**以指定的順序，根據特定的索引鍵。  
  
    -   **Fifo**以指定的順序的先進先出。  
  
    -   **Lifo**來指定後進先出順序。  
  
-   設定**上限**屬性來指定緩衝區中的物件可以包含最大數目。 預設值為 *。 這表示沒有任何限制。  
  
### <a name="describing-data-flow-with-input-and-output-pins"></a>使用輸入和輸出連接描述資料流程  
 使用** 輸出接點**並**輸入 pin 碼**分別描述一個動作到另一個輸入與輸出。  
  
 ![輸入和輸出連接都是動作參數](../modeling/media/uml-actguidepins.png "UML_ActGuidePins")  
  
 若要建立 pin 碼，請按一下**輸入 Pin**或**輸出連接**在工具箱上，然後按一下 動作。 接著您可以將連接在動作周圍移動，並變更其名稱。 您可以建立輸入和輸出連接上任何一種動作，包括**呼叫行為動作**，**呼叫作業動作**，**傳送訊號動作**，和**接受事件動作**。  
  
 兩個連接之間的連接器代表物件流程，就像進出物件節點的流程一樣。  
  
 提供每個連接一個名稱，表示它產生或接受的物件角色，例如參數名稱。  
  
 您可以設定傳輸中的物件型別**型別**屬性。 這必須是您已在 UML 類別圖表中建立的類型。  
  
 在相連的連接之間流動的物件必須以某種方式相容。 這可能是因為輸出連接所產生的物件屬於輸入連接類型的衍生類型。  
  
 或者，您可以指定物件流程包含轉換，可將資料在輸出連接類型和輸入連接類型之間進行轉換。 這種最常見的轉換只會從較大的類型擷取適當的組件。 圖中的範例暗示有轉換存在，從 Order Detail 擷取 Shipping Address。  
  
##  <a name="Details"></a> 更詳細地定義動作  
 除了使用動作的名稱，釐清通常應該達到的結果，以下還有一些您可以為動作加入更多詳細資料的方法：  
  
-   撰寫更詳細的描述**主體**屬性。 例如，您可以撰寫一段程式碼或虛擬程式碼，或是所達到結果的完整描述。  
  
-   將動作取代為呼叫行為動作，並在個別活動圖表中描述其詳細的行為。 請參閱[描述子活動，使用呼叫行為動作](#Subactivities)。  
  
-   設定的動作**本機後置條件**並**本機前置條件**屬性，以描述其結果更具體的詳細資料。 如需詳細資訊，請參閱 <<c0> [ 定義後置條件和前置條件](#Postcondition)。  
  
###  <a name="Subactivities"></a> 使用呼叫行為動作描述子活動  
 您可以使用個別的活動圖表描述動作的詳細行為。 呼叫的行為是一個活動圖表，它在您的主要活動圖表上是由呼叫行為動作所代表。 您也可以使用呼叫行為動作，來描述不同活動之間共用的行為，您便不需要多次繪製子活動。  
  
 在下圖中，圖 1 顯示具有呼叫行為動作的活動，圖 2 則顯示子活動圖表，它顯示被呼叫的行為。  
  
 ![個別的活動圖表會顯示詳細的動作](../modeling/media/uml-actguidedetail.png "UML_ActGuideDetail")  
  
##### <a name="to-describe-a-sub-activity-with-a-call-behavior-action"></a>使用呼叫行為動作描述子活動  
  
1.  在中建立的子活動時，圖表**方案總管 中**，以滑鼠右鍵按一下您的模型專案，指向**新增**，然後按一下**新項目**。  
  
2.  在 **加入新項目**對話方塊的 **範本**按一下**活動圖表**然後在**名稱**方塊中，輸入想要提供的名稱您**呼叫行為動作**。  
  
3.  繪製子活動的詳細工作流程。 這是被呼叫的行為。  
  
    -   在呼叫的子活動圖表中，**初始節點**表示叫用呼叫的行為時，控制項的開始位置。 **活動的最後節點**顯示控制權應傳回至父活動的位置。  
  
4.  設定**行為**屬性**呼叫行為動作**參考被呼叫的行為圖表。  
  
    > [!NOTE]
    >  子活動圖表必須在其上有一些項目，或將無法使用的下拉式清單中的圖表**行為**屬性。 此外，三叉戟圖示不會出現在您**呼叫行為動作**圖形，除非您設定其**行為**屬性。  
  
5.  設定**Is Synchronous**來表示您的活動是否等待呼叫完成的活動動作的屬性。  
  
    -   如果您設定**Is Synchronous**設為 false，即表示流程可以繼續下一個動作，呼叫的活動完成之前。 您不應該定義動作的輸出連接或傳出的資料流程。  
  
### <a name="describing-data-flow-in-and-out-of-sub-activities"></a>描述流入和流出子活動的資料流程  
 您可以描述流入及流出子活動的資料，方式就如同在軟體中使用參數一樣。  
  
- 針對每一項流入或流出動作的資料，在呼叫行為動作上建立輸入和輸出連接 (1)。 適當地為每一個命名。  
  
- 在子活動圖表中，建立**活動參數節點**（2） 的每個輸入和輸出的連接上呼叫的動作。 提供每個節點與其對應連接相同的名稱。  
  
  > [!NOTE]
  >  活動參數節點類似於物件節點。 若要檢查您正在查看的節點類型，以滑鼠右鍵按一下節點，然後按一下 **屬性**。 節點類型會顯示在 [屬性] 視窗的標頭中。  
  
- 在子活動圖表中繪製連接器，顯示流入或流出每個活動參數節點的物件流程。  
  
  ![在 呼叫行為對應至動作參數上釘選](../modeling/media/uml-actguidesub.png "UML_ActGuideSub")  
  
###  <a name="Postcondition"></a> 定義後置條件和前置條件  
 您可以使用**本機後置條件**並**本機前置條件**屬性，以詳細指定動作的結果。 這些屬性會描述動作的效果，而不描述如何達成此效果。  
  
 若要設定這些屬性，以滑鼠右鍵按一下 動作，然後按一下 **屬性**。 在 [屬性] 視窗中的屬性輸入值。  
  
#### <a name="local-postconditions"></a>本機後置條件  
 後置條件應該是先滿足，動作才能視為完成的條件。 在範例動作 Confirm Order 中，後置條件可能是：  
  
 客戶已提供完整且有效的詳細資料，以便正確處理信用卡所需。  
  
 後置條件可以表示動作發生之前與之後的狀態關聯性。 例如：  
  
 利率是先前的兩倍。  
  
 您可以以更正式的樣式撰寫後置條件，參考動作中處理之資料的特定屬性。 例如:   
  
 `InvoiceTotal == Sum(OrderItem.MenuItem.Price)`  
  
#### <a name="local-preconditions"></a>本機前置條件  
 前置條件是當動作準備要開始時應為 true 的條件。 比方說，Confirm Order 動作可能會有前置條件：  
  
 客戶已從選單選擇至少一個項目。  
  
### <a name="describing-calls-to-operations"></a>描述作業的呼叫  
 一般而言，動作會描述由任何人員、軟體或電腦混合所執行的工作。 但是，您可以使用呼叫作業動作，來描述對特定軟體方法或函式的呼叫。  
  
-   設定呼叫作業動作的名稱，來表示呼叫什麼作業，以及針對什麼物件或元件。  
  
-   加入對呼叫作業動作的輸入和輸出連接，來描述參數和傳回值。  
  
-   您可以設定**Is Synchronous**屬性來表示您的活動是否等待作業完成的動作。  
  
    -   如果您設定**Is Synchronous**設為 false，即表示流程可以繼續下一個動作，在呼叫的作業完成之前。 您不應該定義動作的輸出連接或傳出的資料流程。  
  
##  <a name="Concurrent"></a> 並行的流程  
 您可以使用**分岔節點**並**聯結節點**來描述可以在同一時間執行之活動的兩個或多個執行緒。  
  
 ![分岔和聯結節點顯示並行流程](../modeling/media/uml-actguideconcurrent.png "UML_ActGuideConcurrent")  
  
 效果**分岔節點**(1) 是將控制項的執行緒分成兩個或多個執行緒。 前一個動作結束時，分岔輸出端的所有動作便可以開始。  
  
 A**聯結節點**（2） 結合並行執行緒。 之後的動作**聯結節點**可能無法啟動造成的所有動作直到**聯結節點**都已完成。  
  
### <a name="describing-signals-and-events"></a>描述訊號和事件  
 您可以將程序中傳送訊號的步驟顯示為活動中的「傳送訊號動作」。 您可以將等候特定訊號或事件才能繼續的步驟顯示為接受事件動作。  
  
 例如，您可能會顯示一個傳送訂單的步驟，然後顯示另一個必須先接收訂單才處理該訂單的步驟。  
  
#### <a name="sending-a-signal"></a>傳送訊號  
 使用傳送訊號動作 (3)，來表示訊號或某種訊息已傳送到其他活動或程序。 使用動作的名稱來表示它傳送的訊息類型。  
  
-   如果有的話，則控制權會立即傳遞給控制流程中的下一個動作。  
  
-   您無法使用傳送訊號動作來描述您的程序如何回應任何傳回的資訊。 若要這樣做，請使用個別的接受事件動作。  
  
-   您可以顯示對傳送訊號動作的傳入資料流程，來表示可以用傳出訊息傳送什麼資料。 如需詳細資訊，請參閱 <<c0> [ 描述資料流程](#DataFlows)。  
  
#### <a name="waiting-for-a-signal-or-event"></a>等待訊號或事件  
 使用接受事件動作 (4)，來表示此活動會等待某些外部事件或傳入的訊息。 使用動作的名稱來表示它等候的事件類型。  
  
-   若要顯示您的活動在流程中的特定點等待外部事件或訊息，請在活動中的適當位置繪製具有流入流程的接受事件動作。  
  
-   若要顯示您的活動可以隨時回應外部事件或訊息，請繪製沒有任何流入流程的接受事件動作。 當具名的外部事件發生時，您活動中會有新的執行緒開始，且是從接受事件動作開始。  
  
-   您無法使用接受事件動作來描述傳回給訊號傳送者的任何值。 針對該用途，請使用個別的傳送訊號動作。  
  
-   您可以顯示動作的傳出資料流程，以顯示您的活動如何處理訊號中收到的資料。 如果您想要顯示多個輸出流程時，您應該設定**IsUnmarshall**接受事件動作屬性，這表示動作成其個別的元件會將連入的訊號。 如需詳細資訊，請參閱 <<c0> [ 描述資料流程](#DataFlows)。  
  
### <a name="describing-multiple-data-flows"></a>描述多個資料流程  
 您可以繪製從動作出來的多個控制流程或物件流程，表示動作結束時多個執行緒會形成。 效果類似於分叉，差別在於您可以使用控制和物件流程的混合。  
  
 下列範例顯示出入動作的多個流程。  
  
 ![平行物件流程](../modeling/media/uml-actguidemulti.png "UML_ActGuideMulti")  
  
 當 "Customer Provides Details" 動作完成時，它會產生兩個物件："Shipment Address" 和 "Credit Card Details"。 兩個物件會繼續由不同的動作處理。  
  
 由於動作需要所有輸入都可用才能開始，因此最後一個動作會等到通往它的所有動作都完成之後才開始。  
  
### <a name="streams"></a>資料流  
 您可以使用活動圖表來協助您描述管線或一系列同時執行的動作，並持續將資料從一個動作傳送到另一個動作。  
  
 下列範例的用意是讓每個動作都能產生物件並繼續運作。 因為沒有控制流程，每個動作只要收到第一個物件便可以開始。  
  
 請注意，在此範例中的連接器是物件流程，因為它們都有至少一端在活動參數節點、物件節點，或輸入或輸出連接上。  
  
 ![資料流程](../modeling/media/uml-actguidestream.png "UML_ActGuideStream")  
  
 1. 範例包含三個活動參數節點，代表其輸入和輸出。  
  
 2. 物件節點、輸入連接和輸出連接可以代表緩衝區。 您可以設定物件節點的上限屬性，以指出可以同時在緩衝區中有多少物件。  
  
 3. 您可以使用決策節點來顯示資料流會分割，並且向不同的分支傳送不同的物件。 您可以使用註解或節點的標題，來說明分隔的準則是什麼。  
  
 4. 您可以使用分叉節點以顯示建立了兩份或多份物件的複本，並傳送它們進行並行處理。  
  
 5. 您可以使用聯結節點以顯示兩個處理資料流會合併回一個。  
  
### <a name="selection-and-transformation"></a>選取和轉換  
 您可以指定轉換及 / 或選取物件流程中的物件。 物件流程是流入或流出連接或物件節點的流程。  
  
- 轉換會描述如何將進入流程的物件轉換成另一種類型。  
  
- 選取會描述如何將僅一部分進入流程的物件傳送至接收的動作。  
  
  此範例顯示轉換。 圖 1 中的第一個動作會在輸出連接產生郵遞區號。 這連接到第二個動作的輸入連接。 但是，第二個動作預期要有完整指定的地址。 在第二個活動 (地址查詢) 中指定了從一種類型轉換為另一個類型。 這是參考自物件流程的 Transformation 屬性。 地址查詢活動包含一個活動參數節點以處理傳入的郵遞區號，還有另一個活動參數節點處理傳出的完整地址。  
  
  ![物件在另一個圖表中定義的轉換](../modeling/media/uml-actguidetransform.png "UML_ActGuideTransform")  
  
  您可以用兩種方式指定轉換或選取：  
  
- 附加註解至輸入或輸出連接。  
  
  -   為了區分此描述與一般的註解，您就可以開始註解的 <\<**transformation**>> 或 <\<**選取**>>。  
  
- 請在個別的活動圖表中詳細指定轉換或選取。  
  
  -   如果您使用這個方法，也請附加註解，讓讀者清楚您已經定義了轉換。  
  
##### <a name="to-specify-a-transformation-or-selection-in-a-separate-activity-diagram"></a>在個別的活動圖表中指定轉換或選取  
  
1. 建立新的活動圖表，以描述轉換或選取流程。  
  
   -   中**方案總管] 中**，以滑鼠右鍵按一下您的專案，指向**新增**，按一下 [**新項目**，然後按一下**活動圖表**。 為圖表提供適當的名稱，以表示轉換或選取流程。 按一下 [加入] 。  
  
2. 在新的圖表中：  
  
   1.  建立兩個活動參數節點，一個用於輸入流程，一個用於輸出。  
  
   2.  建立與物件流程互連的動作。 這會顯示轉換或選取的運作方式。  
  
3. 在您要使用轉換或選取的任何圖表中：  
  
   1.  建立物件流程，亦即與輸入或輸出連接、物件節點或活動參數節點之間的連接器。  
  
   2.  以滑鼠右鍵按一下物件流程，然後按一下**屬性**。  
  
   3.  在 **轉換**或**選取**屬性，選取您用來指定轉換或選取流程的圖表。  
  
   您也可以為物件節點，以及在個別的輸入和輸出連接上定義選取。 定義選取活動，如同先前的程序，並將**選取項目**屬性 [物件] 節點中，或是輸入或輸出連接。  
  
## <a name="see-also"></a>另請參閱  
 [編輯 UML 模型和圖表](../modeling/edit-uml-models-and-diagrams.md)   
 [UML 循序圖： 參考](../modeling/uml-sequence-diagrams-reference.md)   
 [UML 元件圖： 參考](../modeling/uml-component-diagrams-reference.md)   
 [UML 使用案例圖： 參考](../modeling/uml-use-case-diagrams-reference.md)   
 [UML 類別圖： 參考](../modeling/uml-class-diagrams-reference.md)   
 [UML 元件圖： 參考](../modeling/uml-component-diagrams-reference.md)   
 [影片： 使用活動圖表擷取商業工作流程](http://channel9.msdn.com/posts/clinted/UML-with-VS-2010-Part-4-Capture-Business-Workflows/)



