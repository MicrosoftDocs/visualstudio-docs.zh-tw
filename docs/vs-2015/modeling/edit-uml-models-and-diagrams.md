---
title: 編輯 UML 模型和圖表 |Microsoft Docs
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-modeling
ms.topic: conceptual
f1_keywords:
- vs.teamarch.modelingproject
- vs.teamarch.UMLModelExplorer
- vs.teamarch.UMLModelExplorer.rootnode
helpviewer_keywords:
- diagrams - modeling
- UML, copy and paste
- UML, models
- UML model
- UML, element properties
- UML
- UML, diagrams
ms.assetid: 87affd40-8127-4ee9-9d3a-ad977abe2ed6
caps.latest.revision: 86
author: jillre
ms.author: jillfra
manager: jillfra
ms.openlocfilehash: 00ac30cc7e9ee3aff0dd64f015a4b4954972c09a
ms.sourcegitcommit: bad28e99214cf62cfbd1222e8cb5ded1997d7ff0
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/21/2019
ms.locfileid: "74295527"
---
# <a name="edit-uml-models-and-diagrams"></a>編輯 UML 模型和圖表
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

您可以透過數種不同類型之圖表所提供的檢視來建立和編輯 UML 模型。 這些圖表在您的系統上提供不同的觀點，協助您了解並討論其設計和需求的不同層面。 Visual Studio 提供其中五個最常用的 UML 圖表類型的範本。

 若要查看哪些 Visual Studio 版本支援這項功能，請參閱 [Version support for architecture and modeling tools](../modeling/what-s-new-for-design-in-visual-studio.md#VersionSupport)。

 本主題描述用於編輯不同圖表類型通用之模型的技巧。 如需特定圖表類型特有的詳細資訊，請參閱為[您的應用程式建立模型](../modeling/create-models-for-your-app.md)。

## <a name="in-this-topic"></a>本主題內容

- [UML 圖表是 UML 模型的視圖](#Views)

- [建立 UML 模型圖](#Creating)

- [繪製 UML 模型圖表](#Drawing)

- [編輯圖形和連接器](#Editing)

- [復原模型的變更](#Undo)

- [在圖表之間共用元素](#Sharing)

- [複製元素和相關元素群組](#Copying)

- [刪除模型元素或其 Views](#Deleting)

- [搜尋圖表中的文字](#Searching)

- [準備簡報的圖表](#presentation)

- [擴充 UML 設計工具](#extensions)

## <a name="Views"></a>UML 圖表是 UML 模型的視圖
 您只能在模型專案中建立和使用 UML 圖表。 如需如何建立圖表和專案的詳細資訊，請參閱[建立 UML 模型專案和圖表](../modeling/create-uml-modeling-projects-and-diagrams.md)。

- 模型專案包含單一 UML 模型。 專案中的每個 UML 圖表都是 UML 模型的檢視。

- 您可以在 [ **UML 模型瀏覽器**] 中看到模型。 在 [**架構**] 功能表上，指向 [ **Windows**]，然後按一下 [ **UML 模型 Explorer**]。

- 圖表上的每個圖形都是模型中項目的檢視。 在圖表上放置新圖形時，就會在模型中建立新項目。

- 當您儲存任何圖表時，Visual Studio 會儲存整個模型、其所有圖表和模型專案檔案。

## <a name="Creating"></a>建立 UML 模型圖

1. 在 Visual Studio 的 [**架構**] 功能表上，按一下 [**新增 UML 或分層圖**]。

2. 選取並命名您的圖表。

3. 在 [**加入至模型專案**] 中，選取現有的模型專案，或選取 [**建立新的模型專案**]。

   > [!NOTE]
   > 模型圖必須存在於模型專案內。

   您也可以在 [方案總管] 中將圖表加入現有的模型專案。 以滑鼠右鍵按一下模型專案，指向 [**加入**]，然後按一下 [**新增專案**]。

#### <a name="to-create-an-empty-uml-modeling-project"></a>建立空白 UML 模型專案

- 在 [檔案 **] 功能表上**，指向 [**新增**]，按一下 [**專案**]，然後在 [**新增專案**] 對話方塊中，按兩下 [**模型專案**]。

  如需如何管理模型專案的詳細資訊，請參閱[建立 UML 模型專案和圖表](../modeling/create-uml-modeling-projects-and-diagrams.md)。

## <a name="Drawing"></a>繪製 UML 模型圖表
 模型圖會顯示透過關聯性連結之模型項目的集合。 每個項目都會顯示為圖形，而每個關聯性都會顯示為兩個圖形的接點。

 有兩種工具，一個適用於項目，另一個則適用於關聯性。 例如，在 [UML 類別圖] 工具箱中，[**類別**] 是 [元素] 工具，而 [**關聯**] 則是關係工具。

> [!NOTE]
> 如果您想要特定圖表類型的特定資訊，請參閱[為您的應用程式建立模型](../modeling/create-models-for-your-app.md)。

#### <a name="to-create-elements-and-relationships-in-a-uml-modeling-diagram"></a>在 UML 模型圖中建立項目和關聯性

1. 若要建立模型項目，請按一下 [工具箱] 中的項目工具，然後按一下您想要顯示它的圖表。 建立項目之後，請拖曳其控點來調整大小和形狀。

    在某些情況下，您可以將新項目放到另一個項目內。 例如，在 UML 類別圖上，您可以將類別放到套件內。

   > [!NOTE]
   > 如果您看不到 [工具箱]，請按一下 [**視圖**] 功能表上的 [**工具箱**]。

2. 若要建立關聯性，請按一下關聯性工具，並按一下您想要開始關聯性的項目，然後按一下您想要結束關聯性的項目。

    不同類型的關聯性可以開始或結束於不同類型的項目。 例如，在 UML 類別圖上，[關聯] 關聯性不能開始或結束於 [註解] 項目上。

   > [!NOTE]
   > 若要使用相同的工具數次，請按兩下工具。 完成後，請按一下 [**指標**] 工具。

   在某些類型的圖表中，您也可以繪製簡單圖形。 這些圖形不是模型的一部分，但是您可以使用它們來強調圖表的各部分，或將圖表分成不同的區域。

## <a name="Editing"></a>編輯圖形和連接器
 如果調整圖形的大小或顏色，或是重新路由傳送接頭，並不會影響基礎模型。 不過，如果在圖表上或 [UML 模型總管] 中重新命名圖形，則也會在 [UML 模型總管] 以及呈現該項目的任何其他圖表中重新命名對應的項目。

> [!NOTE]
> 具有簡單的方式可製作新的工具箱項目，以從中建立多組項目或具有所選擇屬性的項目。 如需詳細資訊，請參閱[定義自訂模型工具箱專案](../modeling/define-a-custom-modeling-toolbox-item.md)。

 下圖顯示如何變更圖形大小或其名稱。

 ![調整模型元素](../modeling/media/uml-drawadjust1.png "UML_DrawAdjust1")

> [!TIP]
> 內建命令不包括用於整齊地對齊圖形的命令。 不過，您可以藉由複製在[圖表上顯示 UML 模型](../modeling/display-a-uml-model-on-diagrams.md)中範例中的程式碼，輕鬆建立自己的對齊命令。

 下圖顯示如何調整接點或其標籤的路由和位置。

 ![調整連接器](../modeling/media/uml-drawadjust2.png "UML_DrawAdjust2")

#### <a name="to-move-one-end-of-a-connector-to-another-shape"></a>將接頭的一端移至另一個圖形

1. 執行下列任一步驟：

   - 按**CTRL**並移動結束。

     \-或-

   - 在連接器上按一下滑鼠右鍵，然後按一下 [**重新連接**]。

2. 按一下您想要移動的接頭端。

3. 按一下您想要將接頭移至其中的圖形。

#### <a name="to-change-color-or-other-properties-of-an-element-relationship-or-diagram"></a>變更項目、關聯性或圖表的色彩或其他屬性

- 按一下元素，然後在 [**屬性**] 視窗中設定欄位。

     如果您看不到 [**屬性**] 視窗，請以滑鼠右鍵按一下專案，然後按一下 [**屬性]。**

#### <a name="to-zoom-in-and-out-on-a-modeling-diagram"></a>在模型圖上放大和縮小

- 當您旋轉滑鼠滾輪時按住**CTRL**鍵。

     \-或-

- 按住**CTRL + SHIFT**，然後按一下滑鼠左鍵或向右鍵。

     \-或-

- 在 [**架構設計**工具] 工具列上，按一下加號（ **+** ）或減號（ **-** ），或選擇縮放層級。

## <a name="Searching"></a>在圖表中搜尋
 [快速尋找] 函式會尋找圖表上的項目。 您必須將 [**查詢：** ] 設定為 [**目前檔**]。

#### <a name="to-search-for-text-in-a-modeling-diagram"></a>在模型圖中搜尋文字

1. 按**CTRL + F**。

     \-或-

     在 [**編輯**] 功能表上，指向 [**尋找和取代**]，然後按一下 [**快速尋找**]。

    > [!NOTE]
    > 在 [**尋找和取代**] 對話方塊中，您必須將 [**查詢**] 欄位保留為 [**目前檔**]。 不支援其他選項。

2. 輸入您要尋找的文字，然後按一下 **[尋找下一個]** 。

    > [!NOTE]
    > 如果您想要尋找的文字是在已摺疊的圖形內部，則會反白顯示圖形。 展開圖形，然後再次按一下 **[尋找下一個]** 。

## <a name="Undo"></a>復原模型的變更
 您可以使用 [**編輯**] 功能表上的 [**復原**] 和 [**重做**] 命令，復原和重做您對模型和圖表所做的變更。

 **每個模型專案都有單一的變更堆疊。** 所有您對模型和圖表所做的變更都會保留在此堆疊上。 此堆疊也包括從某個圖表到另一個圖表的焦點變更。 [復原] 命令會反轉此堆疊的變更。

 例如，假設您執行這些作業：變更圖表 1；將焦點變更為圖表 2；變更圖表 2。 復原變更時，第一個復原會反轉最後一個變更、下一個復原會將焦點移回圖表 1，而第三個復原會反轉對圖表 1 的變更。

 **關閉圖表會截斷變更堆疊。** 如果您關閉圖表，則無法復原您已在該圖表中執行的變更，而且無法復原對模型或其任何圖表所做的較早變更。

 **當您編輯屬性時，無法復原。** 在 [屬性] 視窗或圖表標籤中編輯屬性時，只能復原您已在該屬性中所做的變更。 按 ENTER 完成您在屬性中的變更，或按 ESC 予以取消。 您接著可以復原模型和圖表中的變更。

 **關閉圖表而不儲存，可能不會有您預期的效果。** 如果您進行一些變更，然後關閉圖表而不加以儲存，則變更還是會保留在模型中。 如果您想要這樣做而不加以儲存，則建議關閉整個模型。

## <a name="Sharing"></a>在圖表之間共用元素
 您可以讓模型項目的特定執行個體多次出現在圖表中。 這套用至類別、介面、元件、使用案例和行動。

 如果您想要在不同的圖表中顯示不同群組的關聯性，則這十分有用。 例如，在某個圖表上，您可以顯示 Customer 與 Address 類別之間的關聯。 在另一個圖表上，您可以再顯示 Address 類別，而其關聯為 Postal Area。

 選取模型項目在任何圖表上的任何檢視，或在 [UML 模型總管] 中選取它，即可變更其屬性 (例如名稱)。

 每種圖表都只能顯示某種模型項目。 例如，您無法在元件圖上顯示使用案例。 因此，下列程序只適用於某些模型項目與圖表組合。

#### <a name="to-add-a-new-view-of-a-model-element-by-using-uml-model-explorer"></a>使用 UML 模型總管加入模型項目的新檢視

1. 若要開啟 [ **UML 模型瀏覽器**]，請在 [**架構**] 功能表上，指向 [**視窗**]，然後按一下 [ **UML 模型 explorer**]。

2. 將 [ **UML 模型瀏覽器**] 中的模型專案拖曳至相同專案中的相容圖表。

     即會出現提供模型項目檢視的圖形，也可能會有其他圖表或相同圖表上的檢視。

    > [!NOTE]
    > 將類別或元件拖曳至循序圖時，效果會不同。 在該情況下，會建立其類型是該類別或元件的新生命線。 如需詳細資訊，請參閱[UML 順序圖表：方針](../modeling/uml-sequence-diagrams-guidelines.md)。

#### <a name="to-add-a-new-view-of-a-model-element-by-using-paste-reference"></a>使用貼上參考加入模型項目的新檢視

1. 以滑鼠右鍵按一下現有的元素，然後按一下 [**複製**]。

    - 您可以同時複製數個項目。 按住 CTRL 鍵，同時按一下每個元素，以滑鼠右鍵按一下其中一個專案，然後按一下 [**複製**]。

2. 以滑鼠右鍵按一下相容圖表的空白部分，然後按一下 [**貼上參考**]。

     相同項目的另一個檢視隨即出現。

    > [!NOTE]
    > 這與 [**貼入**] 命令不同，它會在模型中建立新的元素。 如需詳細資訊，請參閱[複製專案和相關元素的群組](#Copying)。

> [!NOTE]
> 如果您將已透過關聯性連接之兩個模型項目的檢視加入圖表，則關聯性檢視也會出現在圖表上。 只有從圖表中移除其中一個項目，或從模型中刪除關聯性，才能刪除此檢視。

## <a name="Copying"></a>複製元素和相關元素群組
 您可以複製並貼上模型項目，而且可以複製並貼上項目群組以及其間的關聯性。

> [!NOTE]
> [**貼**上] 和 [**貼上參考**] 命令有不同的效果。 [**貼**上] 會建立新的專案，其屬性與所複製專案的內容相似。 **貼上參考**會建立相同元素的新視圖。

#### <a name="to-copy-elements-and-their-relationships"></a>複製項目和其關聯性

1. 在具有您想要複製之項目的圖表中，選取一或多個項目。

    > [!NOTE]
    > 您無法複製關聯性，但為項目群組一部分的關聯性除外。

2. 在 [**編輯**] 功能表上，按一下 [**複製**]。

3. 如果您想要將項目複製至另一個圖表，請建立新的圖表，或開啟現有圖表。

4. 在 [**編輯**] 功能表上，按一下 [**貼**上]。

    - 項目的複本以及在其間連結之任何關聯性的複本隨即出現。

    - 每個新項目都會有新的自動產生名稱。

5. 調整新項目與關聯性的位置、名稱和其他屬性。

> [!NOTE]
> 您無法將模型項目從某個模型複製至另一個模型 (例如，如果您的相同方案中有兩個模型)。 但是，您可以將項目從某個圖表複製至另一個圖表。

#### <a name="to-copy-an-entire-diagram"></a>複製整個圖表

1. 建立新的圖表。

2. 選取現有圖表中的所有項目、複製它們，並將它們貼入新的圖表。

   在 [方案總管] 中進行複製和貼上，並無法複寫圖表。

## <a name="Deleting"></a>刪除模型元素或其 Views
 某些種類的項目 (特別是分類器) 可以從圖表中移除，而不從模型中刪除它們。 分類器是在類別圖、元件圖和使用案例圖上顯示的主要項目。 它們會出現在多個圖表上。 針對這些類型的元素，有兩個不同的命令： [**從圖表移除**] 和 [**從模型刪除**]。

 反之，從圖表刪除關聯性時，一律會從模型予以刪除。

> [!NOTE]
> UML 圖表上特定種類的項目會有標籤。 透過在周圍繪製矩形來選取這類項目時，就可以選取標籤，但不是擁有這些標籤的項目。 不支援刪除透過這種方式選取的項目子集。 若要選取這些元素的子集，請按住**CTRL**鍵，同時按一下每個元素。

#### <a name="to-remove-a-classifiers-view-from-a-diagram"></a>從圖表移除分類器的檢視

- 以滑鼠右鍵按一下圖表上的元素，然後按一下 [**從圖表移除**]。

  \-或-

- 按一下圖表上的元素，然後按下**DELETE**鍵。

  - 項目的這個檢視隨即消失。 不過，專案仍會保留在模型中，您仍然可以在 [ **UML 模型瀏覽器**] 中找到該元素。 也會維持相同項目的任何其他檢視。

  - 每個終止於此圖形的接頭都會從圖表中予以移除，但是它代表的關聯性會維持在模型中。 您可以在 [ **UML 模型 Explorer** ] 中的 [**關聯**性] 底下，看到它所連接之每個專案底下的關聯性

#### <a name="to-delete-an-element-from-the-model"></a>從模型刪除項目

- 以滑鼠右鍵按一下 [ **UML 模型瀏覽器**] 或圖表上的元素，然後按一下 [**從模型刪除**]。

  - 項目隨即會從其出現的每個圖表中刪除。

  - 也會從模型中刪除每個終止於這個項目的關聯性。

#### <a name="to-delete-a-relationship-from-the-model"></a>從模型刪除關聯性

- 以滑鼠右鍵按一下圖表上的關聯性，或在 [ **UML 模型瀏覽器**] 中，然後按一下 [**從模型刪除**]。

    > [!CAUTION]
    > 您必須從模型移除關聯性，才能從圖表移除關聯性。

     關聯性隨即會從模型中刪除，並從其出現的每個圖表中刪除。

## <a name="presentation"></a>準備簡報的圖表
 下列功能可協助您將注意力放在圖表的特定部分、新增說明，或將圖表分成不同的興趣區域。

- 您可以將圖表的任何部分複製至 Word、PowerPoint 或其他文件。 選取您想要的圖案和連接器，按一下滑鼠右鍵，然後按一下 [**複製**]。

- 任何圖形或接頭的色彩隨即變更。 選取一或多個圖形，並變更 [**色彩**] 屬性。 如果看不到 [屬性] 視窗，請按 **F4** 鍵。

- 在某些類型的圖表上，您可以從 [工具箱] 的 [**簡單圖形**] 區段繪製線條、矩形和橢圓形。 這些圖形不會形成 UML 模型的一部分。

- 若要為區域加上標籤，您可以從 [工具箱] 拖曳批註，然後將其 [**透明**] 屬性設為 [ **True**]。 與 [簡單圖形] 相同，註解不會形成 UML 模型的一部分，而且不會出現在 [UML 模型總管] 中。

- 若要將附註和說明加入模型項目，您可以建立註解，然後將它們連結至項目。

### <a name="to-export-a-diagram-as-an-image"></a>將圖表匯出為影像
 如需詳細資訊，請參閱將[圖表匯出為影像](../modeling/export-diagrams-as-images.md)。

## <a name="extensions"></a>擴充 UML 設計工具
 您可以將新功能加入 UML 工具，以及調整圖表標記法使其符合您自己的需求。 如需詳細資訊，請參閱[擴充 UML 模型和圖表](../modeling/extend-uml-models-and-diagrams.md)。

## <a name="see-also"></a>另請參閱
 [建立 UML 模型專案和圖表](../modeling/create-uml-modeling-projects-and-diagrams.md)[分析和模型化架構](../modeling/analyze-and-model-your-architecture.md)[為您的應用程式建立模型](../modeling/create-models-for-your-app.md)
