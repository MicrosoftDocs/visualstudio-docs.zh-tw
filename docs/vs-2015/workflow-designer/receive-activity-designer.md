---
title: 接收活動設計器 |微軟文檔
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-workflow-designer
ms.topic: reference
f1_keywords:
- System.ServiceModel.Activities.Receive.UI
ms.assetid: f58d3c70-944d-4bb4-90a7-e68c103caddc
caps.latest.revision: 8
author: jillre
ms.author: jillfra
manager: jillfra
ms.openlocfilehash: 0e498d3b3bf534cd9d05326f26e0e9029dee446f
ms.sourcegitcommit: d6828e7422c8d74ec1e99146fedf0a05f757245f
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/30/2020
ms.locfileid: "80395406"
---
# <a name="receive-activity-designer"></a>Receive 活動設計工具
**接收**活動設計器用於創建和配置<xref:System.ServiceModel.Activities.Receive>活動。 <xref:System.ServiceModel.Activities.Receive> 活動是接收訊息的活動，該訊息可能是內建的型別 (例如 <xref:System.ServiceModel.Channels.Message>、<xref:System.IO.Stream> 或 <xref:System.Xml.Linq.XElement>)，或是應用程式定義的資料合約、訊息合約或可序列化的 XML 類別。

## <a name="the-receive-activity"></a>Receive 活動
 <xref:System.ServiceModel.Activities.Receive> 活動可以接收單一項目或多個項目，視所使用的接收內容型別而定。 <xref:System.ServiceModel.Activities.SendReply> 活動可以繫結程序至 <xref:System.ServiceModel.Activities.Receive> 活動，而後者會接收服務上做為要求/回應訊息交換模式的一部分之訊息。

### <a name="using-the-receive-activity-designer"></a>使用 Receive 活動設計工具
 **接收**活動設計器可以在**工具箱****Toolbar****的消息**類別中找到，該類別通過按一下"[!INCLUDE[wfd2](../includes/wfd2-md.md)]查看 **"** 功能表或 CTRL_ALT_X 上的 **"工具箱**"選項卡進行訪問。

 **接收**活動設計器可以從**工具箱**中拖動，並放置在[!INCLUDE[wfd2](../includes/wfd2-md.md)]通常放置活動的位置。 這會建立一個 <xref:System.ServiceModel.Activities.Receive> 活動，具有 Receive 的預設 <xref:System.Activities.Activity.DisplayName%2A>。 <xref:System.Activities.Activity.DisplayName%2A>可以在**接收**活動設計器的標頭或屬性網格的 **"顯示名稱"** 框中編輯 。

 <xref:System.ServiceModel.Activities.SendReply>要創建活動並將其綁定<xref:System.ServiceModel.Activities.Receive>到所選活動，請按右鍵 **"接收**活動設計器"，按一下內容功能表中的 **"創建發送回復**"項，然後"**發送回復接收"** 設計器將顯示在 **"接收"** 設計器下方。 <xref:System.ServiceModel.Activities.SendReply> 活動會傳送回覆訊息，而這屬於服務上要求/回應訊息交換模式的一部分。 它可以配置與**發送回復接收**設計器。

 或者，**工具箱**<xref:System.ServiceModel.Activities.Receive>**消息器**類別中的 **"接收和發送回復**"範本設計器可用於創建一對預配置的活動<xref:System.ServiceModel.Activities.SendReply>。 [!INCLUDE[crabout](../includes/crabout-md.md)]使用 **"接收和發送回復**"和 **"發送回復到接收"** 範本，請參閱[接收和發送回復](../workflow-designer/receiveandsendreply-template-designer.md)主題。

### <a name="the-receive-activity-properties"></a>Receive 活動屬性
 下表顯示 <xref:System.ServiceModel.Activities.Receive> 屬性，並且描述屬性在設計工具中的使用方式。 這些屬性可以在屬性方格中或在 [!INCLUDE[wfd2](../includes/wfd2-md.md)] 介面上編輯。 唯一必要的屬性是 <xref:System.ServiceModel.Activities.Receive.OperationName%2A> 屬性。

|                              屬性名稱                               | 必要 |                                                                                                                                                                                                                                                                                                                                                                                         使用量                                                                                                                                                                                                                                                                                                                                                                                         |
|--------------------------------------------------------------------------|----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|             <xref:System.Activities.Activity.DisplayName%2A>             |  False   |                                                                                                                                                                                                                                  指定 <xref:System.ServiceModel.Activities.Receive> 活動的易記名稱。 預設值是 Receive。<br /><br /> 雖然不是必須使用非預設值做為易記 <xref:System.Activities.Activity.DisplayName%2A>，但建議您盡量使用這類型的值。                                                                                                                                                                                                                                  |
|      <xref:System.ServiceModel.Activities.Receive.OperationName%2A>      |   True   |                                                                                                                                                                                                                                                              指定這個 <xref:System.ServiceModel.Activities.Receive> 活動實作之服務作業的名稱。 如果未顯式設置**Action**屬性，則此屬性用於構造**Action**屬性的預設值。                                                                                                                                                                                                                                                               |
|   <xref:System.ServiceModel.Activities.Receive.ServiceContractName%2A>   |  False   |                                                                                                                                                                        指定服務合約的名稱。 這個屬性會用於將服務作業群組為個別的服務合約。 具有相同 <xref:System.ServiceModel.Activities.Receive> 的所有 <xref:System.ServiceModel.Activities.Receive.ServiceContractName%2A> 活動，都會分組歸類到同一個服務合約 (WSDL 連接埠類型)。 預設值是最上層 (根) 活動的完整 CLR 名稱。                                                                                                                                                                         |
|         <xref:System.ServiceModel.Activities.Receive.Content%2A>         |  False   |                                                         指定要接收的訊息或參數內容。 這可以是 <xref:System.ServiceModel.Activities.ReceiveMessageContent> 活動或 <xref:System.ServiceModel.Activities.ReceiveParametersContent> 活動。 通過按一下屬性網格中 **"內容"** 欄位旁邊的橢圓按鈕或按一下 **"定義..."** **"接收**活動設計器"表面上**的內容**標籤旁邊的按鈕。 兩者都顯示 **"內容定義"** 對話方塊。 [!INCLUDE[crabout](../includes/crabout-md.md)]如何使用此框，請參閱[內容定義對話方塊主題](../workflow-designer/content-definition-dialog-box.md)。                                                          |
|      <xref:System.ServiceModel.Activities.Receive.CorrelatesOn%2A>       |  False   |                                                                                                          指定某個具有 <xref:System.ServiceModel.Activities.Receive> 物件之工作流程的服務作業中，不同 <xref:System.ServiceModel.MessageQuerySet> 活動之間的相互關聯。 按一下屬性網格中<xref:System.ServiceModel.Activities.Receive.CorrelatesOn%2A>屬性旁邊的省略號按鈕以打開 **"關聯On 定義"** 對話方塊。 [!INCLUDE[crabout](../includes/crabout-md.md)]使用此對話方塊，請參閱[內容定義對話方塊主題](../workflow-designer/content-definition-dialog-box.md)。                                                                                                           |
|     <xref:System.ServiceModel.Activities.Receive.CorrelatesWith%2A>      |  False   |                                                                                                                             指定用來路由訊息到適當工作流程執行個體的 <xref:System.ServiceModel.Activities.CorrelationHandle>。<br /><br /> 按一下屬性網格中<xref:System.ServiceModel.Activities.Receive.CorrelatesWith%2A>屬性旁邊的省略號按鈕以打開**運算式編輯器**對話方塊。 [!INCLUDE[crabout](../includes/crabout-md.md)]使用此對話方塊，請參閱["如何操作：使用運算式編輯器](../workflow-designer/how-to-use-the-expression-editor.md)"主題。                                                                                                                             |
| <xref:System.ServiceModel.Activities.Receive.CorrelationInitializers%2A> |  False   |                                               指定 <xref:System.ServiceModel.Activities.CorrelationInitializer> 物件的集合，這些物件會初始化多個 <xref:System.ServiceModel.Activities.CorrelationHandle> 物件，用來設定工作流程內的這個 <xref:System.ServiceModel.Activities.Receive> 活動。 按一下屬性網格中<xref:System.ServiceModel.Activities.Receive.CorrelationInitializers%2A>屬性旁邊的省略號按鈕以打開"**添加關聯初始化器"** 對話方塊。 [!INCLUDE[crabout](../includes/crabout-md.md)]使用此框，請參閱[添加關聯初始程式對話方塊主題](../workflow-designer/add-correlationinitializers-dialog-box.md)。                                                |
|    <xref:System.ServiceModel.Activities.Receive.CanCreateInstance%2A>    |  False   |                                                                                                                                                                                                                       指定值，這個值會判斷如果訊息與現有的工作流程執行個體之間不具有相互關聯，是否要建立新的工作流程執行個體來處理該訊息。 如果該值設置為**true，** 則會創建一個新的工作流實例，在消息與現有工作流實例不相關時處理消息。                                                                                                                                                                                                                       |
|       <xref:System.ServiceModel.Activities.Receive.KnownTypes%2A>        |  False   | 指定這個 <xref:System.ServiceModel.Activities.Receive> 活動實作服務作業之已知型別的集合。 這個屬性應該搭配 <xref:System.ServiceModel.Activities.Receive.SerializerOption%2A> 屬性 (設定為 <xref:System.Runtime.Serialization.DataContractSerializer>) 使用。 如果使用 <xref:System.Xml.Serialization.XmlSerializer>，則會忽略此項。<br /><br /> 按一下屬性網格中的 **"已知類型"** 欄位旁邊的橢圓按鈕，以顯示"**類型集合編輯器**"對話方塊，您可以使用該對話方塊添加相關類型。 [!INCLUDE[crabout](../includes/crabout-md.md)]使用此框，請參閱["類型集合編輯器"對話方塊主題](../workflow-designer/type-collection-editor-dialog-box.md)。 |
|     <xref:System.ServiceModel.Activities.Receive.ProtectionLevel%2A>     |  False   |                                                                                                                                                                      指定訊息的 <xref:System.Net.Security.ProtectionLevel>。<br /><br /> 1.<xref:System.Net.Security.ProtectionLevel>僅表示身份驗證。<br />2.<xref:System.Net.Security.ProtectionLevel>表示對資料進行簽名，以説明確保傳輸資料的完整性。<br />3.<xref:System.Net.Security.ProtectionLevel>意味著加密和簽名資料，以説明確保傳輸資料的機密性和完整性。                                                                                                                                                                      |
|    <xref:System.ServiceModel.Activities.Receive.SerializerOption%2A>     |  False   |                                                                                                                                                         指定 <xref:System.ServiceModel.Activities.Receive> 活動實作服務作業之序列化程式的型別。 預設值是 <xref:System.Runtime.Serialization.DataContractSerializer>，這會使用提供的資料合約，將型別的執行個體序列化及還原序列化，成為 XML 資料流或文件。 如果 XML 需要更多控制，也可以使用 <xref:System.Xml.Serialization.XmlSerializer>。                                                                                                                                                         |
|         <xref:System.ServiceModel.Activities.Receive.Action%2A>          |  False   |                                                                                                                                                                                                                                                                                              指定訊息的動作標頭。 如果未顯式設置，則其值預設為： `https://tempuri.org/{service contract namespace}/{service contract name}/{operation name}`。                                                                                                                                                                                                                                                                                               |

## <a name="see-also"></a>另請參閱
 [初始化相關](../workflow-designer/initializecorrelation-activity-designer.md)[關聯範圍](../workflow-designer/correlationscope-activity-designer.md)[接收和發送回復](../workflow-designer/receiveandsendreply-template-designer.md)[發送](../workflow-designer/send-activity-designer.md)[和接收回複](../workflow-designer/sendandreceivereply-template-designer.md)[處理接收範圍](../workflow-designer/transactedreceivescope-activity-designer.md)