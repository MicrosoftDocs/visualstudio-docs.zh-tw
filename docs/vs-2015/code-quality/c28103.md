---
title: C28103 |Microsoft Docs
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-code-analysis
ms.topic: reference
f1_keywords:
- C28103
helpviewer_keywords:
- C28103
ms.assetid: e39c464d-1049-4ff4-a62b-9cad9d3f6fee
caps.latest.revision: 5
author: corob-msft
ms.author: corob
manager: jillfra
ms.openlocfilehash: d2daf294fe8c02d76331c01c8b13368e764b92af
ms.sourcegitcommit: 6cfffa72af599a9d667249caaaa411bb28ea69fd
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/02/2020
ms.locfileid: "77266338"
---
# <a name="c28103"></a>C28103
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

警告 C28103：洩漏資源  
  
 指定的物件包含尚未釋放的資源。 正在呼叫的函式已加上 `__drv_acquiresResource` 或批註 `__drv_acquiresResourceGlobal` ，而此警告表示未釋出批註中命名的資源。  
  
## <a name="example"></a>範例  
 下列程式碼範例會產生此警告：  
  
```  
res = KeSaveFloatingPointState(buffer);  
```  
  
 下列程式碼範例可避免此警告：  
  
```  
res = KeSaveFloatingPointState(buffer);  
if (NT_SUCCESS(res))  
{  
    res = KeRestoreFloatingPointState(buffer);  
}  
```  
  
 如果將此警告回報為誤報，最可能的原因是釋出資源的函式未以 `__drv_releasesResource` 或標注 `__drv_releasesResourceGlobal` 。 請注意，如果您使用的是系統函式的包裝函式，包裝函式應使用與系統函數相同的注釋。 目前，模型檔案中有許多系統函數的批註，因此批註不會顯示在標頭檔中。
