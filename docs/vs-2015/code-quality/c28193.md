---
title: C28193 |Microsoft Docs
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-code-analysis
ms.topic: reference
f1_keywords:
- C28193
helpviewer_keywords:
- C28193
ms.assetid: 1db205f2-618c-4285-98b5-641b3ad8f10f
caps.latest.revision: 5
author: corob-msft
ms.author: corob
manager: jillfra
ms.openlocfilehash: a2b321bafdbcf45c0fd2eca0ad0583093c59c953
ms.sourcegitcommit: 6cfffa72af599a9d667249caaaa411bb28ea69fd
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/02/2020
ms.locfileid: "77278766"
---
# <a name="c28193"></a>C28193
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

警告 C28193：變數保留必須檢查的值  
  
 此警告表示呼叫函式不會檢查函數所提供的指定變數值。 傳回的值會標注 `_Check_return_` 批註，但呼叫的函式不會使用值，或在不檢查值的情況下覆寫該值。  
  
 此警告類似于警告 [C6031](../code-quality/c6031.md)，但只有在程式碼未測試或檢查變數的值（例如在比較中使用它）時，才會報告此警告。 只要指派值，就不會被視為足夠的檢查，以避免發生此警告。 從函式產生結果別名會被視為足夠的檢查，但結果本身應該會加上批註 `_Check_return_` 。  
  
 某些函式 (例如 `strlen`) 存在於其傳回值的情況下，因此它們具有批註是合理的 `_Check_return_` 。 針對這些函式，程式碼分析工具可能會在傳回值未使用時回報此警告。 這通常表示程式碼不正確，例如，它可能包含可刪除的剩餘程式碼。 不過，在某些罕見的情況下，不會刻意使用傳回值。 最常見的情況是傳回字串長度，但在進行其他測試之前，並不會實際使用它。 另一種測試會導致模擬路徑，其中字串長度最後會變成未使用。 當發生這種情況時，程式碼可以正確無誤，但可能沒有效率。  
  
 有兩個主要策略可以處理傳回值未使用的情況：  
  
 重新排列程式碼，使字串長度只在需要的路徑中傳回。  
  
 使用 `#pragma` 警告來抑制警告--如果重新排序程式代碼，您會讓程式碼變得太複雜或更不實用。  
  
## <a name="example"></a>範例  
 下列程式碼範例會產生此警告：  
  
```  
IoGetDmaAdapter(pPDO, &DevDesc, &nMapRegs);  
...  
```  
  
 下列程式碼範例可避免此警告：  
  
```  
IoGetDmaAdapter(pPDO, &DevDesc, &nMapRegs);  
...  
if (nMapRegs < MIN_REQUIRED_MAPS) {  
...  
}  
```
