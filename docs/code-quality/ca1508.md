---
title: CA1508:避免使用無作用條件式程式碼
ms.date: 04/23/2020
ms.topic: reference
f1_keywords:
- CA1508
- AvoidDeadConditionalCode
helpviewer_keywords:
- CA1508
- AvoidDeadConditionalCode
author: mavasani
ms.author: mavasani
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 17f56f12055223ca2b0591ac1f61eedb31e77017
ms.sourcegitcommit: de98ed7edc81383e47b87ae6e61143fbbbe7bc56
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/21/2020
ms.locfileid: "88710568"
---
# <a name="ca1508-avoid-dead-conditional-code"></a>CA1508:避免使用無作用條件式程式碼

|Item|值|
|-|-|
|CheckId|CA1508|
|類別|Microsoft 的可維護性|
|重大變更|非中斷|

## <a name="cause"></a>原因

方法的條件式程式碼一律會 `true` `false` 在執行時間評估為或。 這會導致條件的分支中有不正確程式碼 `false` 。

## <a name="rule-description"></a>規則描述

方法可以有條件式程式碼，例如 if 語句、二元運算式 (`==` 、、 `!=` `<` `>`) 、null 檢查等等。例如，請考慮下列程式碼：

```csharp
public void M(int i, int j)
{
    if (i != 0)
    {
        return;
    }

    if (j != 0)
    {
        return;
    }

    // Below condition will always evaluate to 'false' as 'i' and 'j' are both '0' here.
    if (i != j)
    {
        // Code in this 'if' branch is dead code.
        // It can either be removed or refactored.
        ...
    }
}
```

C # 和 VB 編譯器會針對永遠評估為或的編譯時期 _常數值_ ，執行條件式檢查的分析 `true` `false` 。 此分析器會執行非常數變數的資料流程分析，以判斷涉及 _非常數值_的多餘條件式檢查。 在上述程式碼中，分析器 `i` `j` 會 `0` 針對所有到達檢查的程式碼路徑，判斷和都是 `i != j` 。 因此，這種檢查一律會 `false` 在執行時間評估為。 If 語句內的程式碼是不正確程式碼，而且可以移除或重構。 同樣地，分析器會追蹤變數的 null f.23 並報告多餘的 null 檢查。

> [!NOTE]
> 此分析器會執行高成本的資料流程分析，以進行非常數值。 這可能會增加某些程式碼基底的整體編譯時間。

## <a name="when-to-suppress-warnings"></a>隱藏警告的時機

如果您不在意程式碼的可維護性，則可以放心隱藏此規則的違規情形。 也可以隱藏識別為誤報的違規。 這些可能存在於可從多個執行緒執行的並行程式碼。

## <a name="see-also"></a>請參閱

- [維護性警告](../code-quality/maintainability-warnings.md)
